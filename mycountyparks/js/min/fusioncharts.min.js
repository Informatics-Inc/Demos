!function(){if(!window.FusionCharts||!window.FusionCharts.version){var win=window,doc=win.document,nav=win.navigator,global={window:win},modules=global.modules={},interpreters=global.interpreters={},objectToStringFn=Object.prototype.toString,isIE=/msie/i.test(nav.userAgent)&&!win.opera,hasLoaded=/loaded|complete/,mapLegacyDiscovered=!1,notifyLibraryInit=function(){var wasReady=global.ready;global.ready=!0,global.raiseEvent&&(global.readyNotified=!0,global.raiseEvent("ready",{version:global.core.version,now:!wasReady},global.core)),global.readyNow=!wasReady},FusionCharts,merge=function(obj1,obj2){var item,str;if(obj2 instanceof Array)for(item=0;item<obj2.length;item+=1)"object"!=typeof obj2[item]?obj1[item]=obj2[item]:("object"!=typeof obj1[item]&&(obj1[item]=obj2[item]instanceof Array?[]:{}),merge(obj1[item],obj2[item]));else for(item in obj2)"object"==typeof obj2[item]?"[object Object]"===(str=objectToStringFn.call(obj2[item]))?("object"!=typeof obj1[item]&&(obj1[item]={}),merge(obj1[item],obj2[item])):"[object Array]"===str?(obj1[item]instanceof Array||(obj1[item]=[]),merge(obj1[item],obj2[item])):obj1[item]=obj2[item]:obj1[item]=obj2[item];return obj1};global.extend=function(sink,source,proto,deep){var item;if(proto&&sink.prototype&&(sink=sink.prototype),!0===deep)merge(sink,source);else for(item in source)sink[item]=source[item];return sink},global.uniqueId=function(){return"chartobject-"+(global.uniqueId.lastId+=1)},global.uniqueId.lastId=0,global.policies={options:{chartTypeSourcePath:["typeSourcePath",""],product:["product","v3"],insertMode:["insertMode","replace"],safeMode:["safeMode",!0],overlayButton:["overlayButton",void 0],containerBackgroundColor:["containerBackgroundColor","#ffffff"],containerBackgroundOpacity:["containerBackgroundOpacity",1],chartType:["type",void 0]},attributes:{lang:["lang","EN"],class:["className","FusionCharts"],id:["id",void 0]},width:["width","400"],height:["height","300"],src:["swfUrl",""]},interpreters.stat=["swfUrl","id","width","height","debugMode","registerWithJS","backgroundColor","scaleMode","lang","detectFlashVersion","autoInstallRedirect"],global.parsePolicies=function(obj,policies,options){var prop,policy,value;for(policy in policies)if(global.policies[policy]instanceof Array)value=options[policies[policy][0]],obj[policy]=void 0===value?policies[policy][1]:value;else for(prop in"object"!=typeof obj[policy]&&(obj[policy]={}),policies[policy])value=options[policies[policy][prop][0]],obj[policy][prop]=void 0===value?policies[policy][prop][1]:value},global.parseCommands=function(obj,interpreter,args){var i,l;for("string"==typeof interpreter&&(interpreter=interpreters[interpreter]||[]),i=0,l=interpreter.length;i<l;i++)obj[interpreter[i]]=args[i];return obj},global.registrars={module:function(){return global.core.apply(global.core,arguments)}},FusionCharts=function(options){if(!(this instanceof global.core)){if(1===arguments.length&&options instanceof Array&&"private"===options[0]){if(modules[options[1]])return;return modules[options[1]]={},options[3]instanceof Array&&(global.core.version[options[1]]=options[3]),"function"==typeof options[2]?options[2].call(global,modules[options[1]]):global}if(1===arguments.length&&"string"==typeof options)return global.core.items[options];global.raiseError&&global.raiseError(this,"25081840","run","",new SyntaxError('Use the "new" keyword while creating a new FusionCharts object'))}var opts={};return this.__state={},1===arguments.length&&"object"==typeof arguments[0]?opts=arguments[0]:global.parseCommands(opts,interpreters.stat,arguments),arguments.length>1&&"object"==typeof arguments[arguments.length-1]&&(delete opts[interpreters.stat[arguments.length-1]],global.extend(opts,arguments[arguments.length-1])),this.id=void 0===opts.id?this.id=global.uniqueId():opts.id,this.args=opts,global.core.items[this.id]instanceof global.core&&global.raiseWarning(this,"06091847","param","",new Error('A FusionChart oject with the specified id "'+this.id+'" already exists. Renaming it to '+(this.id=global.uniqueId()))),global.parsePolicies(this,global.policies,opts),this.attributes.id=this.id,this.resizeTo&&this.resizeTo(opts.width,opts.height,!0),this.chartType&&this.chartType(opts.type||opts.swfUrl,!0),global.raiseEvent("beforeInitialize",opts,this),global.core.items[this.id]=this,global.core.defaultOptions=global.core.options,global.raiseEvent("initialized",opts,this),this},global.core=FusionCharts,global.core.prototype={},global.core.prototype.constructor=global.core,global.extend(global.core,{id:"FusionCharts",version:["3","4","0"],items:{},options:{},getObjectReference:function(id){return global.core.items[id].ref},register:function(what){return global.registrars[what=what&&what.toString&&what.toString().toLowerCase()]&&global.registrars[what].apply(global.core,Array.prototype.slice.call(arguments,1))}}),win.FusionCharts=global.core,win.FusionMaps&&win.FusionMaps.legacy&&(global.core(["private","modules.core.geo",win.FusionMaps.legacy,win.FusionMaps.version]),mapLegacyDiscovered=!0),hasLoaded.test(doc.readyState)||doc.loaded?(global.ready=!0,setTimeout(notifyLibraryInit,1)):function(){var _timer,script,callback;function init(){arguments.callee.done||(arguments.callee.done=!0,_timer&&clearTimeout(_timer),mapLegacyDiscovered||(win.FusionMaps&&win.FusionMaps.legacy&&global.core(["private","modules.core.geo",win.FusionMaps.legacy,win.FusionMaps.version]),win.FusionMaps=global.core),setTimeout(notifyLibraryInit,1))}function checkInit(){hasLoaded.test(doc.readyState)?init():_timer=setTimeout(checkInit,10)}if(doc.addEventListener?doc.addEventListener("DOMContentLoaded",init,!1):doc.attachEvent&&win.attachEvent("onLoad",init),isIE)try{"https:"===win.location.protocol?doc.write('<script id="__ie_onload_fusioncharts" defer="defer" src="//:"><\/script>'):doc.write('<script id="__ie_onload_fusioncharts" defer="defer" src="javascript:void(0)"><\/script>'),(script=doc.getElementById("__ie_onload_fusioncharts")).onreadystatechange=function(){"complete"==this.readyState&&init()}}catch(e){}/WebKit/i.test(nav.userAgent)&&(_timer=setTimeout(checkInit,10)),win.onload=(callback=win.onload,function(){init(),callback&&callback.call&&callback.call(win)})}(),win.FusionMaps=global.core}}(),FusionCharts.register("module",["private","modules.mantle.errormanager",function(){var global=this,win=global.window,DEFAULT_OUTPUT_HELPER="text",DEBUGGER="debugger",errorNatures={type:"TypeException",range:"ValueRangeException",impl:"NotImplementedException",param:"ParameterException",run:"RuntimeException",comp:"DesignTimeError",undefined:"UnspecifiedException"},raiseEWEvent=function(sender,id,nature,source,err,level){var message="#"+id+" "+(sender?sender.id:"unknown-source")+source+" "+level+" >> ",args;err instanceof Error?(err.name=errorNatures[nature],err.module="FusionCharts"+source,err.level=level,err.message=message+err.message,message=err.message,win.setTimeout((function(){throw err}),0)):message+=err,args={id:id,nature:errorNatures[nature],source:"FusionCharts"+source,message:message},global.raiseEvent(level,args,sender),"function"==typeof win["FC_"+level]&&win["FC_"+level](args)},logger;global.raiseError=function(sender,id,nature,source,message){raiseEWEvent(sender,id,nature,source,message,"Error")},global.raiseWarning=function(sender,id,nature,source,message){raiseEWEvent(sender,id,nature,source,message,"Warning")},(logger={outputHelpers:{text:function(e,a){var sender=(e.sender.id||e.sender).toString();logger.outputTo("#"+e.eventId+" ["+sender+'] fired "'+e.eventType+'" event. '+("error"===e.eventType||"warning"===e.eventType?a.message:""))},event:function(e,a){this.outputTo(e,a)},verbose:function(e,a){logger.outputTo(e.eventId,e.sender.id,e.eventType,a)}},outputHandler:function(e,a){"function"==typeof logger.outputTo?(global.core.debugger.outputFailed=!1,logger.currentOutputHelper(e,a)):global.core.debugger.outputFailed=!0},currentOutputHelper:void 0,outputTo:void 0,enabled:!1}).currentOutputHelper=logger.outputHelpers.text,global.extend(global.core,{debugger:{syncStateWithCharts:!0,outputFormat:function(format){return!(!format||"function"!=typeof format.toLowerCase||"function"!=typeof logger.outputHelpers[format=format.toLowerCase()])&&(logger.currentOutputHelper=logger.outputHelpers[format],!0)},outputTo:function(debuggerCallback){"function"==typeof debuggerCallback?logger.outputTo=debuggerCallback:null===debuggerCallback&&(global.core.debugger.enable(!1),delete logger.outputTo)},enable:function(state,outputTo,outputFormat){var config;return"object"==typeof state&&1===arguments.length&&(state=(config=state).state,outputTo=config.outputTo,outputFormat=config.outputFormat),"function"==typeof state&&("string"!=typeof outputTo||2!==arguments.length&&!config||(outputFormat=outputTo),outputTo=state,state=!0),"boolean"==typeof state&&state!==logger.enabled&&global.core[(logger.enabled=state)?"addEventListener":"removeEventListener"]("*",logger.outputHandler),"function"==typeof outputTo&&(logger.outputTo=outputTo),global.core.debugger.outputFormat(outputFormat),logger.enabled},enableFirebugLite:function(){var htmlTags;win.console&&win.console.firebug?global.core.debugger.enable(win.console.log,"verbose"):((htmlTags=win.document.getElementsByTagName("html"))&&htmlTags[0].setAttribute("debug","true"),global.loadScript("https://getfirebug.com/firebug-lite.js#overrideConsole=false,startOpened=true",(function(){global.core.debugger.enable(win.console.log,"verbose")}),"{ startOpened: true }",!0,!0))}},debugMode:{enabled:function(){return win.setTimeout((function(){throw new Error("Deprecated! Please use FusionCharts.debugger.enable instead.")}),0),global.core.debugger.enable.apply(global.core.debugger,arguments)}}},!1)}]),FusionCharts.register("module",["private","modules.mantle.eventmanager",function(){var global=this,win=global.window,core=global.core,objectProtoToString=win.Object.prototype.toString,arrayToStringIdentifier=objectProtoToString.call([]),isArray=function(obj){return objectProtoToString.call(obj)===arrayToStringIdentifier},managedFnCall=function(item,scope,event,args){try{item[0].call(scope,event,args||{})}catch(e){setTimeout((function(){throw e}),0)}},slotLoader=function(slot,event,args){if(slot instanceof Array)for(var i=0,scope;i<slot.length&&(slot[i][1]!==event.sender&&void 0!==slot[i][1]||(scope=slot[i][1]===event.sender?event.sender:global.core,managedFnCall(slot[i],scope,event,args),!0===event.detached&&(slot.splice(i,1),i-=1,event.detached=!1)),!0!==event.cancelled);i+=1);},EventTarget={unpropagator:function(){return!1==(this.cancelled=!0)},detacher:function(){return!1==(this.detached=!0)},undefaulter:function(){return!1==(this.prevented=!0)},listeners:{},lastEventId:0,addListener:function(type,listener,bind){var recurseReturn,i;if(isArray(type)){for(recurseReturn=[],i=0;i<type.length;i+=1)recurseReturn.push(EventTarget.addListener(type[i],listener,bind));return recurseReturn}if("string"==typeof type){if("function"==typeof listener)return type=type.toLowerCase(),EventTarget.listeners[type]instanceof Array||(EventTarget.listeners[type]=[]),EventTarget.listeners[type].push([listener,bind]),listener;global.raiseError(bind||global.core,"03091550","param","::EventTarget.addListener",new Error("Invalid Event Listener"))}else global.raiseError(bind||global.core,"03091549","param","::EventTarget.addListener",new Error("Unspecified Event Type"))},removeListener:function(type,listener,bind){var slot,i;if("function"==typeof listener)if(type instanceof Array)for(i=0;i<type.length;i+=1)EventTarget.removeListener(type[i],listener,bind);else if("string"==typeof type){if(type=type.toLowerCase(),(slot=EventTarget.listeners[type])instanceof Array)for(i=0;i<slot.length;i+=1)slot[i][0]===listener&&slot[i][1]===bind&&(slot.splice(i,1),i-=1)}else global.raiseError(bind||global.core,"03091559","param","::EventTarget.removeListener",new Error("Unspecified Event Type"));else global.raiseError(bind||global.core,"03091560","param","::EventTarget.removeListener",new Error("Invalid Event Listener"))},triggerEvent:function(type,sender,args,eventScope,defaultFn,cancelFn){if("string"==typeof type){var eventObject={eventType:type=type.toLowerCase(),eventId:EventTarget.lastEventId+=1,sender:sender||new Error("Orphan Event"),cancelled:!1,stopPropagation:this.unpropagator,prevented:!1,preventDefault:this.undefaulter,detached:!1,detachHandler:this.detacher};switch(slotLoader(EventTarget.listeners[type],eventObject,args),slotLoader(EventTarget.listeners["*"],eventObject,args),eventObject.prevented){case!0:if("function"==typeof cancelFn)try{cancelFn.call(eventScope||sender||win,eventObject,args||{})}catch(err){setTimeout((function(){throw err}),0)}break;default:if("function"==typeof defaultFn)try{defaultFn.call(eventScope||sender||win,eventObject,args||{})}catch(err){setTimeout((function(){throw err}),0)}}return!0}global.raiseError(sender,"03091602","param","::EventTarget.dispatchEvent",new Error("Invalid Event Type"))}},raiseEvent=global.raiseEvent=function(type,args,obj,eventScope,defaultFn,cancelledFn){return EventTarget.triggerEvent(type,obj,args,eventScope,defaultFn,cancelledFn)},legacyEventList=global.legacyEventList={},conditionChecks={};global.disposeEvents=function(target){var type,i;for(type in EventTarget.listeners)for(i=0;i<EventTarget.listeners[type].length;i+=1)EventTarget.listeners[type][i][1]===target&&EventTarget.listeners[type].splice(i,1)},global.raiseEventWithLegacy=function(name,args,obj,legacyArgs,eventScope,defaultFn,cancelledFn){var legacy=legacyEventList[name];raiseEvent(name,args,obj,eventScope,defaultFn,cancelledFn),legacy&&"function"==typeof win[legacy]&&setTimeout((function(){win[legacy].apply(eventScope||win,legacyArgs)}),0)},global.raiseEventGroup=function(check,name,args,obj,eventScope,defaultFn,cancelledFn){var id=obj.id,hash=check+id;conditionChecks[hash]?(clearTimeout(conditionChecks[hash]),delete conditionChecks[hash]):id&&hash?conditionChecks[hash]=setTimeout((function(){raiseEvent(name,args,obj,eventScope,defaultFn,cancelledFn),delete conditionChecks[hash]}),0):raiseEvent(name,args,obj,eventScope,defaultFn,cancelledFn)},global.addEventListener=function(type,listener){return EventTarget.addListener(type,listener)},global.removeEventListener=function(type,listener){return EventTarget.removeListener(type,listener)},global.extend(core,{addEventListener:function(type,listener){return EventTarget.addListener(type,listener)},removeEventListener:function(type,listener){return EventTarget.removeListener(type,listener)},ready:function(readyCallback,args,context){return global.ready?(core.ready=function(readyCallback,context){"function"==typeof readyCallback&&setTimeout((function(){readyCallback.call(context||core,args||core)}),0)},core.ready(readyCallback,context)):"function"==typeof readyCallback&&core.addEventListener("ready",(function(){core.ready(readyCallback,args,context)})),this}}),core.on=core.addEventListener,global.extend(core.prototype,{addEventListener:function(type,listener){return EventTarget.addListener(type,listener,this)},removeEventListener:function(type,listener){return EventTarget.removeListener(type,listener,this)}}),core.prototype.on=core.prototype.addEventListener,global.policies.options.events=["events",{}],global.addEventListener("beforeInitialize",(function(e){var chart=e.sender,events=chart.options.events,key;if(events)for(key in events)"function"==typeof events[key]&&chart.addEventListener(key,events[key])})),global.ready&&!global.readyNotified&&(global.readyNotified=!0,global.raiseEvent("ready",{version:global.core.version,now:global.readyNow},global.core))}]),FusionCharts.register("module",["private","modules.mantle.ajax",function(){var global=this,FUNCTION="function",MSXMLHTTP="Microsoft.XMLHTTP",MSXMLHTTP2="Msxml2.XMLHTTP",GET="GET",POST="POST",XHREQERROR="XmlHttprequest Error",RUN="run",ERRNO="1110111515A",win=global.window,version=parseFloat(win.navigator.appVersion.split("MSIE")[1]),ielt8=version>=5.5&&version<=7,fileProtocol="file:"===win.location.protocol,AXObject=win.ActiveXObject,XHRNative=(!AXObject||!fileProtocol)&&win.XMLHttpRequest,counters={objects:0,xhr:0,requests:0,success:0,failure:0,idle:0},newXmlHttpRequest=function(){var xmlhttp;if(XHRNative)return(newXmlHttpRequest=function(){return counters.xhr++,new XHRNative})();try{xmlhttp=new AXObject(MSXMLHTTP2),newXmlHttpRequest=function(){return counters.xhr++,new AXObject(MSXMLHTTP2)}}catch(e){try{xmlhttp=new AXObject(MSXMLHTTP),newXmlHttpRequest=function(){return counters.xhr++,new AXObject(MSXMLHTTP)}}catch(e){xmlhttp=!1}}return xmlhttp},Ajax;global.core.ajax={stats:function(type){return type?counters[type]:global.extend({},counters)},headers:{"If-Modified-Since":"Sat, 29 Oct 1994 19:43:31 GMT","X-Requested-With":"XMLHttpRequest","X-Requested-By":"FusionCharts",Accept:"text/plain, */*","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},Ajax=global.ajax=function(success,error){this.onSuccess=success,this.onError=error,this.open=!1,counters.objects++,counters.idle++},global.extend(Ajax.prototype,{headers:global.core.ajax.headers,transact:function(method,url,data,callbackArgs){var wrapper=this,xmlhttp=wrapper.xmlhttp,headers=wrapper.headers,errorCallback=wrapper.onError,successCallback=wrapper.onSuccess,isPost=method===POST,postData,i;xmlhttp&&!ielt8||(xmlhttp=newXmlHttpRequest(),wrapper.xmlhttp=xmlhttp),xmlhttp.onreadystatechange=function(){try{4===xmlhttp.readyState&&(!xmlhttp.status&&fileProtocol||xmlhttp.status>=200&&xmlhttp.status<300||304===xmlhttp.status||1223===xmlhttp.status||0===xmlhttp.status?(successCallback&&successCallback(xmlhttp.responseText,wrapper,callbackArgs,url),counters.success++):errorCallback&&(errorCallback(new Error(XHREQERROR),wrapper,callbackArgs,url),counters.failure++),counters.idle--,wrapper.open=!1)}catch(error){errorCallback&&errorCallback(error,wrapper,callbackArgs,url),win.FC_DEV_ENVIRONMENT&&setTimeout((function(){throw error}),0),counters.failure++}};try{if(xmlhttp.open(isPost?POST:GET,url,!0),xmlhttp.overrideMimeType&&xmlhttp.overrideMimeType("text/plain"),isPost)if("string"==typeof data)postData=data;else{for(i in postData=[],data)postData.push(i+"="+(data[i]+"").replace(/\=/g,"%3D").replace(/\&/g,"%26"));postData=postData.join("&")}else postData=null;for(i in headers)xmlhttp.setRequestHeader(i,headers[i]);xmlhttp.send(postData),counters.requests++,counters.idle++,wrapper.open=!0}catch(e){global.raiseError(global.core,ERRNO,RUN,XHREQERROR,e.message)}return xmlhttp},get:function(url,callbackArgs){return this.transact(GET,url,void 0,callbackArgs)},post:function(url,data,callbackArgs){return this.transact(POST,url,data,callbackArgs)},abort:function(){var instance=this,xmlhttp=this.xmlhttp;return this.open=!1,xmlhttp&&typeof xmlhttp.abort===FUNCTION&&xmlhttp.readyState&&0!==xmlhttp.readyState&&xmlhttp.abort()},dispose:function(){var instance=this;return instance.open&&instance.abort(),delete instance.onError,delete instance.onSuccess,delete instance.xmlhttp,delete instance.open,counters.objects--,null}})}]),FusionCharts.register("module",["private","modules.mantle.runtime;1.1",function(){var global=this,win=global.window,SCRIPT_NAME_REGEX=/(^|[\/\\])(fusioncharts\.js)([\?#].*)?$/gi,BLOCK_EXTERNAL_SCRIPT_LOADING=!1,DISALLOW_CROSSDOMAIN_RESOURCE=!1,SCRIPT_LOAD_TIMEOUTMS=15e3,checkBadChars=/[\\\"<>;&]/,hasProtocolDef=/^[^\S]*?(sf|f|ht)(tp|tps):\/\//i,FUNCTION="function",LOAD_EVENTNAME="externalresourceload",scriptsRequested={},scriptTags={},scriptsLoaded={},scriptLoadFailureTimeout={},purgeDOM=global.purgeDOM=function(d){var a=d.attributes,i,l,n;if(a)for(i=a.length-1;i>=0;i-=1)"function"==typeof d[n=a[i].name]&&(d[n]=null);if(a=d.childNodes)for(l=a.length,i=0;i<l;i+=1)purgeDOM(d.childNodes[i])},deconstructPolicySet=function(policies,options,obj){var policy,prop;for(policy in policies)if(policies[policy]instanceof Array)options[policies[policy][0]]=obj[policy];else for(prop in policies[policy])options[policies[policy][prop][0]]=obj[policy][prop]},signatureMatchRegex=/^(FusionCharts|FusionWidgets|FusionMaps)/,baseUri;global.getScriptBaseUri=function(scriptNameRegex){var scripts=win.document.getElementsByTagName("script"),l=scripts.length,src,i;for(i=0;i<l;i+=1)if(null!=(src=scripts[i].getAttribute("src"))&&null!==src.match(scriptNameRegex))return src.replace(scriptNameRegex,"$1")},global.core.options.scriptBaseUri=void 0===(baseUri=global.getScriptBaseUri(SCRIPT_NAME_REGEX))?(global.raiseError(FusionCharts,"1603111624","run",">GenericRuntime~scriptBaseUri","Unable to locate FusionCharts script source location (URL)."),""):baseUri,global.isXSSSafe=function(str,proto){return(!proto||null===hasProtocolDef.exec(str))&&null===checkBadChars.exec(str)},global.xssEncode=function(s){return null==s||typeof s.toString!==FUNCTION?"":s=s.toString().replace(/&/g,"&amp;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},global.loadScript=function(file,callback,scriptText,includeOnce,pathInFile){if(!file)return!1;var script,success=callback&&callback.success||callback,failure=callback&&callback.failure,path,src,eventArgs={type:"script",success:!1},notify=function(){scriptLoadFailureTimeout[src]=clearTimeout(scriptLoadFailureTimeout[src]),eventArgs.success?success&&success(file,src):failure&&failure(file,src),global.raiseEvent(LOAD_EVENTNAME,eventArgs,global.core)};return path=pathInFile?"":global.core.options.scriptBaseUri,src=path+file,global.isXSSSafe(src,!1)||(src="function"==typeof win.encodeURIComponent?win.encodeURIComponent(src):win.escape(src)),eventArgs.path=path,eventArgs.src=src,eventArgs.file=file,!0===scriptsLoaded[src]&&includeOnce?(eventArgs.success=!0,eventArgs.notReloaded=!0,"function"==typeof callback&&(callback(),global.raiseEvent(LOAD_EVENTNAME,eventArgs,global.core)),!0):(!scriptsRequested[src]||!includeOnce)&&(scriptsRequested[src]=!0,scriptTags[src]&&scriptTags[src].parentNode&&scriptTags[src].parentNode.removeChild(scriptTags[src]),(script=scriptTags[src]=win.document.createElement("script")).type="text/javascript",script.src=src,scriptText&&(script.innerHTML=scriptText),"function"==typeof success&&(scriptsLoaded[src]=!1,scriptLoadFailureTimeout[src]=clearTimeout(scriptLoadFailureTimeout[src]),script.onload=function(){scriptsLoaded[src]=!0,eventArgs.success=!0,notify()},script.onerror=function(){scriptsLoaded[src]=!1,scriptsRequested[src]=!1,notify()},script.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(scriptsLoaded[src]=!0,eventArgs.success=!0,notify())}),win.document.getElementsByTagName("head")[0].appendChild(script),"function"==typeof failure&&(scriptLoadFailureTimeout[src]=setTimeout((function(){scriptsLoaded[src]||notify()}),global.core.options.html5ResourceLoadTimeout||15e3)),!0)},global.capitalizeString=function(str,all){return str?str.replace(all?/(^|\s)([a-z])/g:/(^|\s)([a-z])/,(function(m,p1,p2){return p1+p2.toUpperCase()})):str},global.extend(global.core,{clone:function(overrides,argsOnly){var typeofParams=typeof overrides,crcObjects={},options=global.extend({},this.args,!1,!1);switch(deconstructPolicySet(global.policies,options,this),deconstructPolicySet(global.renderer.getRendererPolicy(this.options.renderer),options,this),delete options.id,delete options.animate,delete options.stallLoad,crcObjects.link=options.link,(options=global.extend({},options,!1,!1)).link=crcObjects.link,typeofParams){case"object":global.extend(options,overrides);break;case"boolean":argsOnly=overrides}return argsOnly?options:new global.core(options)},isActive:function(){if(!this.ref||win.document.getElementById(this.id)!==this.ref)return!1;try{return signatureMatchRegex.test(this.ref.signature())}catch(e){return!1}},chartType:function(value,options){var chartObj=this,src=this.src,silent=!0===options,opts=this.options,legacy;return"string"==typeof value&&(options="object"==typeof options?options:{},legacy=null!==(src=value.replace(/[\?\#][\s\S]*$/g,"")).match(/\.swf\s*?$/gi),src=src.replace(/\.swf\s*?$/gi,""),opts.chartType=src.replace(/^[\s\S]*\//gi,"").replace(/^fcmap_/i,""),opts.chartTypeSourcePath=-1===src.indexOf("/")?options.chartTypeSourcePath||this.options.chartTypeSourcePath||global.core.options.chartTypeSourcePath||"":src.replace(/[^\/]*?$/gi,""),this.src=((global.core.options.scriptBaseUri||"")+(opts.chartTypeSourcePath||global.core.options.chartTypeSourcePath||"")).replace(/\/\s*$/g,"")+"/"+opts.chartType.replace(/\.swf\s*?$/gi,"")+".swf",legacy&&(global.raiseWarning(this,"08101320181","comp","FusionCharts#chartType",'Chart type has ".swf" in alias and as such has been deprecated. Please use chart type alias.'),opts.chartTypeSourcePath=global.core.options.chartTypeSourcePath||""),void 0!==options.dataSource&&null!==options.dataSource?this.setChartData(options.dataSource,options.dataFormat,options.dataConfiguration):this.isActive()&&!silent&&this.render()),(opts.chartType||"").toLowerCase()}},!0),win.getChartFromId=function(id){return global.raiseWarning(this,"11133001041","run","GenericRuntime~getObjectFromId()",'Use of deprecated getChartFromId() or getMapFromId(). Replace with "FusionCharts()" or FusionCharts.items[].'),global.core.items[id]instanceof global.core?global.core.items[id].ref:win.swfobject&&win.swfobject.getObjectById(id)},win.getMapFromId=win.getChartFromId}]),FusionCharts.register("module",["private","api.printmanager",function(){var global=this;global.extend(global.core,{printManager:{configure:function(){global.raiseWarning(global.core,"28141714","impl",".printManager.configure","PrintManager is deprecated")},isReady:function(){return global.raiseWarning(global.core,"28141714","impl",".printManager.isReady","PrintManager is deprecated"),!1},enabled:function(){return global.raiseWarning(global.core,"28141714","impl",".printManager.enabled","PrintManager is deprecated"),!1},managedPrint:function(){global.raiseWarning(global.core,"28141714","impl",".printManager.managedPrint","PrintManager is deprecated")}}},!1)}]),FusionCharts.register("module",["private","modules.interface.renderer",function(){var global=this,func="function",undef,win=global.window,doc=win.document,notDefined=function(){global.raiseError(this,"25081845","run","::RendererManager",new Error("No active renderer"))},FusionChartsDOMInsertModes=global.FusionChartsDOMInsertModes={REPLACE:"replace",APPEND:"append",PREPEND:"prepend"},renderers={undefined:{render:notDefined,remove:notDefined,update:notDefined,resize:notDefined,config:notDefined,policies:{}}},store={},eiCall=function(method){return function(){var callee=this,ref=callee.ref;return ref===undef||null===ref||typeof ref[method]!==func?(global.raiseError(this,"25081617","run","~"+method+"()","ExternalInterface call failed. Check whether chart has been rendered."),undef):ref[method].apply(ref,arguments)}},jsCall=function(obj,prop){return typeof obj[prop]===func?function(){return obj[prop].apply(obj,arguments)}:obj[prop]},isDuplicateId=function(lookupId,container){var lookupElement=doc.getElementById(lookupId),containerId=container.id||container.getAttribute("id"),children,i,ii;if(null===lookupElement)return!1;if(lookupId===containerId)return!0;for(i=0,ii=(children=container.getElementsByTagName("*")).length;i<ii;i++)if(children[i]===lookupElement)return!1;return!0},lengthCleanupRegex=/[^\%\d]*$/gi,renderer;global.policies.options.containerElementId=["renderAt",undef],global.policies.options.renderer=["renderer",undef],global.normalizeCSSDimension=function(width,height,container){var w=width===undef?container.offsetWidth||parseFloat(container.style.width):width,h=height===undef?container.offsetHeight||parseFloat(container.style.height):height,o={},s=container.style,p;if(s.width=w=w.toString?w.toString():"0",s.height=h=h.toString?h.toString():"0",(o.widthIsRelative=w.match(/^\s*\d*\.?\d*\%\s*$/)&&!w.match(/^\s*0\%\s*$/))&&0===container.offsetWidth)for(p=container;p=p.offsetParent;)if(p.offsetWidth>0){w=(p.offsetWidth*parseFloat(w.match(/\d*/)[0])/100).toString();break}if((o.heightIsRelative=h.match(/^\s*\d*\.?\d*\%\s*$/)&&!h.match(/^\s*0\%\s*$/))&&container.offsetHeight<=20)for(p=container;p=p.offsetParent;)if(p.offsetHeight>0){h=(p.offsetHeight*parseFloat(h.match(/\d*/)[0])/100).toString();break}return o.width=w.replace?w.replace(/^\s*(\d*\.?\d*)\s*$/gi,"$1px"):w,o.height=h.replace?h.replace(/^\s*(\d*\.?\d*)\s*$/gi,"$1px"):h,s.width=o.width,s.height=o.height,o.pixelWidth=o.widthIsRelative?container.offsetWidth:parseInt(o.width,10)||0,o.pixelHeight=o.heightIsRelative?container.offsetHeight:parseInt(o.height,10)||0,o},renderer=global.renderer={register:function(name,obj){if(!name||typeof name.toString!==func)throw new Error("#03091436 ~renderer.register() Invalid value for renderer name.");return name=name.toString().toLowerCase(),renderers[name]!==undef?(global.raiseError(global.core,"03091438","param","::RendererManager>register",'Duplicate renderer name specified in "name"'),!1):(renderers[name]=obj,!0)},userSetDefault:!1,setDefault:function(name){return name&&typeof name.toString===func?renderers[name=name.toString().toLowerCase()]===undef?(global.raiseError(global.core,"25081733","range","::RendererManager>setDefault","The specified renderer does not exist."),!1):(this.userSetDefault=!1,global.policies.options.renderer=["renderer",name],!0):(global.raiseError(global.core,"25081731","param","::RendererManager>setDefault",'Invalid renderer name specified in "name"'),!1)},notifyRender:function(status){var chartObj=global.core.items[status&&status.id];chartObj&&(!1!==status.success||status.silent)||global.raiseError(global.core.items[status.id],"25081850","run","::RendererManager",new Error("There was an error rendering the chart. Enable FusionCharts JS debugger for more information.")),chartObj.ref=status.ref,status.ref&&(status.ref.FusionCharts=global.core.items[status.id]),global.raiseEvent("internal.DOMElementCreated",{},chartObj)},protectedMethods:{options:!0,attributes:!0,src:!0,ref:!0,constructor:!0,signature:!0,link:!0,addEventListener:!0,removeEventListener:!0},getRenderer:function(name){return renderers[name]},getRendererPolicy:function(name){var policies=renderers[name].policies;return"object"==typeof policies?policies:{}},currentRendererName:function(){return global.policies.options.renderer[1]},update:function(obj){store[obj.id].update.apply(obj,Array.prototype.slice.call(arguments,1))},render:function(obj){store[obj.id].render.apply(obj,Array.prototype.slice.call(arguments,1))},remove:function(obj){store[obj.id].remove.apply(obj,Array.prototype.slice.call(arguments,1))},resize:function(obj){store[obj.id].resize.apply(obj,Array.prototype.slice.call(arguments,1))},config:function(obj){store[obj.id].config.apply(obj,Array.prototype.slice.call(arguments,1))},dispose:function(obj){store[obj.id].dispose.apply(obj,Array.prototype.slice.call(arguments,1))}},global.addEventListener("beforeInitialize",(function(event){var obj=event.sender,rendererName=obj.options.renderer.toLowerCase(),item;for(item in"string"==typeof obj.options.renderer&&renderers[rendererName]===undef&&(obj.options.renderer=global.policies.options.renderer[1]),obj.options.renderer=rendererName,store[obj.id]=renderers[obj.options.renderer],!0!==store[obj.id].initialized&&typeof store[obj.id].init===func&&(store[obj.id].init(),store[obj.id].initialized=!0),global.parsePolicies(obj,store[obj.id].policies||{},obj.args),store[obj.id].prototype)obj[item]=store[obj.id].prototype[item];for(item in store[obj.id].events)obj.addEventListener(item,store[obj.id].events[item])})),global.addEventListener(["rendered","dataloaderror","nodatatodisplay","rendercancelled"],(function(e,a){var sender=e.sender;sender instanceof global.core&&sender.__state.rendering&&(global.raiseEvent("internal.rendered",a,sender),delete sender.__state.rendering)})),global.addEventListener("loaded",(function(e){var obj=e.sender,chartObj=e.sender.ref,eiItems,ignore1,ignore2,item,i;if(chartObj!==undef&&null!==chartObj&&typeof chartObj.getExternalInterfaceMethods===func){try{eiItems="string"==typeof(eiItems=chartObj.getExternalInterfaceMethods())?eiItems.split(","):[]}catch(err){eiItems=[],global.raiseError(obj,"13111126041","run","RendererManager^Loaded",new Error("Error while retrieving data from the chart-object."+(err.message&&err.message.indexOf("NPObject")>=0?" Possible cross-domain security restriction.":"")))}for(i=0;i<eiItems.length;i+=1)obj[item=eiItems[i]]===undef&&(obj[item]=eiCall(item));if(obj.ref)for(item in ignore1=renderer.protectedMethods,ignore2=renderer.getRenderer(obj.options.renderer).protectedMethods,obj)if(ignore2&&!ignore1[item]&&!ignore2[item]&&obj.ref[item]===undef)try{obj.ref[item]=jsCall(obj,item)}catch(e){}}})),global.legacyEventList.resized="FC_Resized",global.extend(global.core.prototype,{render:function(containerElement,insertMode,callback){var that=this,alt,eventArgs,ref,size,s;if(((ref=win[this.id])&&ref.FusionCharts&&ref.FusionCharts===this||(ref=this.ref)&&ref.FusionCharts&&ref.FusionCharts===this)&&(global.renderer.dispose(this),ref===win[this.id]&&(win[this.id]=void 0)),win[this.id]!==undef&&global.raiseError(this,"25081843","comp",".render",new Error("#25081843:IECompatibility() Chart Id is same as a JavaScript variable name. Variable naming error. Please use unique name forchart JS variable, chart-id and container id.")),callback?"function"!=typeof callback&&(callback=void 0):"function"==typeof insertMode?(callback=insertMode,insertMode=void 0):insertMode||"function"!=typeof containerElement||(callback=containerElement,containerElement=void 0),insertMode=(insertMode||this.options.insertMode).toLowerCase()||FusionChartsDOMInsertModes.REPLACE,containerElement===undef&&(containerElement=this.options.containerElementId),"string"==typeof containerElement&&(containerElement=doc.getElementById(containerElement)),containerElement===undef||null===containerElement)return global.raiseError(this,"03091456","run",".render()",new Error("Unable to find the container DOM element.")),this;if(isDuplicateId(this.id,containerElement))return global.raiseError(this,"05102109","run",".render()",new Error("A duplicate object already exists with the specific Id: "+this.id)),this;if((alt=doc.createElement(this.options.containerElementType||"span")).setAttribute("id",this.id),"append"!==insertMode&&"prepend"!==insertMode)for(;containerElement.hasChildNodes();)containerElement.removeChild(containerElement.firstChild);return"prepend"===insertMode&&containerElement.firstChild?containerElement.insertBefore(alt,containerElement.firstChild):containerElement.appendChild(alt),this.options.containerElement=containerElement,this.options.containerElementId=containerElement.id,(s=alt.style)&&(s.position="relative",s.textAlign="left",s.lineHeight="100%",s.display="inline-block",s.zoom="1",s.fontWeight="normal",s.fontVariant="normal",s.fontStyle="normal",s.textDecoration="none",s["*DISPLAY"]="inline",s.padding="0",s.margin="0",s.border="none"),size=global.normalizeCSSDimension(this.width,this.height,alt),this.__state.renderedWidth=size.pixelWidth,this.__state.renderedHeight=size.pixelHeight,this.__state.rendering=!0,global.raiseEvent("beforeRender",eventArgs={container:containerElement,width:this.width,height:this.height,renderer:this.options.renderer},this,void 0,(function(event,args){global.renderer.render(that,alt,(function(){if(global.renderer.notifyRender.apply(this,arguments),callback)try{callback.call(event.sender,args.container)}catch(e){setTimeout((function(){throw e}))}}))}),(function(){global.raiseEvent("renderCancelled",eventArgs,that)})),this},remove:function(){return global.renderer.remove(this),this},resizeTo:function(width,height,silent){var chart=this,prevW=chart.width,prevH=chart.height,state=chart.__state;return"object"==typeof width&&(silent=height,height=width.h,width=width.w),width=null==width?prevW:width.toString().replace(lengthCleanupRegex,""),height=null==height?prevH:height.toString().replace(lengthCleanupRegex,""),!0!==silent?global.raiseEvent("beforeresize",{currentWidth:prevW,currentHeight:prevH,newWidth:width,newHeight:height},chart,undef,(function(){chart.width=width,chart.height=height,global.renderer.resize(chart,{width:width,height:height}),global.raiseEventWithLegacy("resized",{width:chart.width,height:chart.height,prevWidth:prevW,prevHeight:prevH,pixelWidth:chart.ref&&chart.ref.offsetWidth||0,pixelHeight:chart.ref&&chart.ref.offsetHeight||0,originalWidth:state.renderedWidth,originalHeight:state.renderedHeight},chart,[chart.id,chart.width,chart.height])}),(function(){global.raiseEvent("resizecancelled",{currentWidth:prevW,currentHeight:prevH,cancelledTargetWidth:width,cancelledTargetHeight:height},chart)})):(chart.width=width,chart.height=height),this},dispose:function(){var chart=this,eventArgs={};global.raiseEvent("beforeDispose",eventArgs,chart,void 0,(function(){for(var prop in global.renderer.dispose(chart),global.raiseEvent("disposed",eventArgs,chart),global.disposeEvents(chart),delete global.core.items[chart.id],chart)chart.hasOwnProperty(prop)&&delete chart[prop];chart.disposed=!0}),(function(){global.raiseEvent("disposeCancelled",eventArgs,chart)}))},configure:function(option,value){var hash;option&&("string"==typeof option?(hash={})[option]=value:hash=option,global.renderer.config(this,hash))}}),global.extend(global.core,{setCurrentRenderer:function(){var ret=renderer.setDefault.apply(renderer,arguments);return renderer.userSetDefault=!0,ret},getCurrentRenderer:function(){return renderer.currentRendererName.apply(renderer,arguments)},render:function(options,callback){return options instanceof global.core?(options.render(callback),options):new global.core(options).render(callback)}},!1)}]),FusionCharts.register("module",["private","modules.interface.transcoder",function(){var global=this,win=global.window,SOURCENAME="XmlHttpRequest",handlers=global.transcoders={},dataStore={},cache={},isUrl=/url$/i,interactiveCharts=global._interactiveCharts={selectscatter:[!0,!1],dragcolumn2d:[!0,!0],dragarea:[!0,!0],dragline:[!0,!0],dragnode:[!0,!0]},xmlhttpSuccess=function(responseText,wrapper,data,url){var obj=data.obj,args=data.args;args.dataSource=responseText,args.xmlHttpRequestObject=wrapper,args.source=SOURCENAME,args.url=url,global.raiseEvent("dataLoadRequestCompleted",args,obj,void 0,onDataLoadComplete,onDataLoadCancel)},xmlhttpFailure=function(resp,wrapper,data){var obj=data.obj,args=data.args;args.error=resp,args.httpStatus=wrapper.xhr&&wrapper.xhr.status?wrapper.xhr.status:-1,args.xmlHttpRequestObject=wrapper,global.raiseEvent("dataLoadError",args,obj),"function"==typeof win.FC_DataLoadError&&win.FC_DataLoadError(obj.id,args)},onDataLoadComplete=function(event,args){event.sender.setChartData(args.dataSource,args.dataFormat,args.config,args.successcallback,args.silent)},onDataLoadCancel=function(event,args){global.raiseEvent("dataLoadCancelled",args,event.sender),args.xmlHttpRequestObject.abort()},onDataLoadRequest=function(event,args){var chart=event.sender,state=chart.__state,url=args.url;chart.options.dataSource=args.url,state.dhmXhrObj||(state.dhmXhrObj=new global.ajax(xmlhttpSuccess,xmlhttpFailure)),state.dhmXhrObj.get("function"==typeof win.decodeURIComponent?win.decodeURIComponent(url):win.unescape(url),{obj:chart,args:args})},onDataLoadRequestCancel=function(event,args){var chart=event.sender,state=chart.__state;global.raiseEvent("dataLoadRequestCancelled",args,chart),state&&state.dhmXhrObj&&state.dhmXhrObj.abort()},onDataUpdateSuccess=function(event,args){var chart=event.sender,state=chart.__state,chartId=chart.id;dataStore[chartId]=args,cache[chartId]&&delete cache[chartId],cache[chartId]={},state.dataReady=void 0,state.dataAvailable=!0,!0!==args.silent&&(!0!==chart.options.safeMode||!0!==state.rendering||chart.isActive()?(delete state.args,global.renderer.update(chart,args)):(state.updatePending=args,global.raiseWarning(chart,"23091255","run","::DataHandler~update","Renderer update was postponed due to async loading."))),global.raiseEvent("dataUpdated",args,chart,void 0,args.successcallback)},onDataUpdateCancel=function(event,args){global.raiseEvent("dataUpdateCancelled",args,event.sender,void 0,args.failurecallback)};global.dataFormats={},global.policies.options.dataSource=["dataSource",void 0],global.policies.options.dataFormat=["dataFormat",void 0],global.policies.options.dataConfiguration=["dataConfiguration",void 0],global.policies.options.showDataLoadingMessage=["showDataLoadingMessage",!1],global.addDataHandler=function(name,obj){if("string"==typeof name&&void 0===handlers[name.toLowerCase()]){var api={},lcaseName=name.toLowerCase();handlers[lcaseName]=obj,obj.name=name,api["set"+name+"Data"]=function(data,config,callback){return this.setChartData(data,name,config,callback)},obj.transportable&&(api["set"+name+"Url"]=function(url,config,callback){return this.setChartDataUrl(url,name,config,callback)},global.dataFormats[name+"URL"]=lcaseName+"Url"),api["get"+name+"Data"]=function(){return this.getChartData(name)},global.dataFormats[name]=lcaseName,global.extend(global.core,api,!0)}else global.raiseError(global.core,"03091606","param","::DataManager.addDataHandler",new Error("Invalid Data Handler Name"))},global.extend(global.core.prototype,{setChartDataUrl:function(url,format,config,callback,silent){var baseFormat;null!=format&&"function"==typeof format.toString||(format=this.options.dataFormat,global.raiseWarning(this,"03091609","param","FusionCharts#setChartDataUrl","Invalid Data Format. Reverting to current data format - "+format)),format=format.toString().toLowerCase(),isUrl.test(format)?baseFormat=format.slice(0,-3):(baseFormat=format,format+="url"),global.raiseEvent("dataLoadRequested",{source:SOURCENAME,url:url,dataFormat:baseFormat,silent:!!silent,config:config,successcallback:callback},this,void 0,onDataLoadRequest,onDataLoadRequestCancel)},setChartData:function(data,format,config,callback,silent){var chartObj=this,chartOptions=this.options,currentRenderer,baseFormat,nativeFormat,handler,parseArgs;null!=format&&"function"==typeof format.toString||(format=chartOptions.dataFormat,global.raiseWarning(this,"03091610","param","FusionCharts#setChartData","Invalid Data Format. Reverting to current data format - "+format)),format=format.toString().toLowerCase(),isUrl.test(format)?this.setChartDataUrl(data,format,config,callback,silent):(chartOptions.dataSource=data,baseFormat=format,chartOptions.dataFormat=format,void 0!==(handler=handlers[baseFormat])?((parseArgs=(nativeFormat=(currentRenderer=global.renderer&&global.renderer.getRenderer(chartOptions.renderer||global.renderer.currentRendererName()))&&currentRenderer.dataFormat)===baseFormat?handler.passthrough?handler.passthrough(data,config):{data:data}:handler.encode(data,this,config||chartOptions.dataConfiguration)||{}).native=nativeFormat===baseFormat,parseArgs.format=parseArgs.native?nativeFormat:"xml",parseArgs.dataFormat=baseFormat,parseArgs.dataSource=data,parseArgs.silent=!!silent,"function"==typeof callback&&(parseArgs.successcallback=callback),global.raiseEvent("beforeDataUpdate",parseArgs,this,void 0,onDataUpdateSuccess,onDataUpdateCancel)):global.raiseError(global.core,"03091611","param","FusionCharts#setChartData",new Error("Data Format not recognized")))},getChartData:function(format,advanced){var chartObj=this,chartOptions=this.options,id=this.id,handler,parseResult;if(void 0!==format&&"function"==typeof format.toString&&void 0!==(handler=handlers[format=format.toString().toLowerCase()]))return cache[id][format]?parseResult=cache[id][format]:dataStore[id]?(format===dataStore[id].format?cache[id][format]=dataStore[id]:(cache[id].xml||(cache[id].xml="xml"===dataStore[id].format?dataStore[id]:handlers[dataStore[id].format].encode(dataStore[id].data,this,chartOptions.dataConfiguration)),cache[id][format]||(cache[id][format]=handler.decode(cache[id].xml.data,this,chartOptions.dataConfiguration))),parseResult=cache[id][format]):parseResult={error:new Error("Data not defined")},!0===Boolean(advanced)?parseResult:parseResult.data;global.raiseError(this,"25081543","param","~getChartData()",new Error('Unrecognized data-format specified in "format"'))},dataReady:function(available){return available?this.__state.dataAvailable:this.__state.dataReady}}),global.extend(global.core,{transcodeData:function(data,source,target,advanced,configuration){if(source&&"function"==typeof source.toString&&target&&"function"==typeof target.toString&&void 0!==handlers[target=target.toString().toLowerCase()]&&void 0!==handlers[source=source.toString().toLowerCase()]){var l1=handlers[source].encode(data,this,configuration),l2=handlers[target].decode(l1.data,this,configuration);return l2.error instanceof Error||(l2.error=l1.error),advanced?l2:l2.data}global.raiseError(this,"14090217","param","transcodeData()",new Error("Unrecognized data-format specified during transcoding."))}},!1),global.getRenderer&&!global.getRenderer("flash")||global.addEventListener("DataLoadRequested",(function(event){var obj=event.sender;obj.options&&"flash"===obj.options.renderer&&obj.options.useLegacyXMLTransport&&event.preventDefault()})),global.addEventListener("beforeInitialize",(function(event){var obj=event.sender,options=obj.options,dataSource=options.dataSource,renderer=global.renderer&&global.renderer.getRenderer(options.renderer);if(delete dataStore[obj.id],cache[obj.id]={},null!=dataSource){if(obj.__state.dataSetDuringConstruction=!0,"string"!=typeof options.dataFormat)switch(typeof dataSource){case"function":dataSource=options.dataSource=dataSource.call(obj,options.dataConfiguration),options.dataFormat="JSON";break;case"string":options.dataFormat=/^\s*?\{[\s\S]*\}\s*?$/g.test(obj.options.dataFormat)?"JSON":"XML";break;case"object":options.dataFormat="JSON"}options.dataFormat&&options.dataFormat.toString&&(obj.__state.dataFetchDuringConstruction=isUrl.test(options.dataFormat.toString())),obj.setChartData(dataSource,options.dataFormat,void 0,void 0,!0)}else renderer&&(obj.__state.dataSetDuringConstruction=!1,global.raiseWarning(obj,"1810131922A","param",":dataHandler~event:beforeInitialize","Data source was not defined during construction, hence set to blank renderer default - "+renderer.dataFormat),obj.setChartData("",renderer.dataFormat,void 0,void 0,!0),obj.__state.dataAvailable=!1)})),global.addEventListener("beforeDispose",(function(e){var obj=e.sender;delete dataStore[e.sender.id],delete cache[e.sender.id],obj&&obj.__state&&obj.__state.dhmXhrObj&&obj.__state.dhmXhrObj.abort()})),global.addEventListener("disposed",(function(e){delete cache[e.sender.id]})),global.addEventListener("loaded",(function(e){var obj=e.sender,pendingArgs=obj.__state.updatePending;obj instanceof global.core&&void 0!==pendingArgs&&(delete obj.__state.updatePending,global.renderer.update(obj,pendingArgs))})),global.addEventListener("dataUpdated",(function(event,args){var obj=event.sender,state=obj.__state;state.rendering&&(state.dataFetchDuringConstruction||state.updatePending)&&(delete state.dataFetchDuringConstruction,delete state.updatePending,global.renderer.update(obj,args))})),global.addEventListener(["dataLoadError","dataInvalid"],(function(e){e.sender.__state.dataAvailable=!1})),global.addEventListener("loaded",(function(event){var obj=event.sender,state=obj.__state,transcoder,dataGetterName,transcoderName,newDataGetter;if(newDataGetter=function(format,protoHandler){return function(fresh){var obj=this;return!1===fresh?protoHandler.apply(obj):obj.ref.getUpdatedXMLData?global.core.transcodeData(obj.ref.getUpdatedXMLData(),"xml",format):obj.getData?obj.getData(format):protoHandler.apply(obj)}},obj.chartType&&interactiveCharts[obj.chartType()]&&interactiveCharts[obj.chartType()][0]){for(transcoder in global.transcoders)obj[dataGetterName="get"+(transcoderName=global.transcoders[transcoder].name)+"Data"]=newDataGetter(transcoder,obj.constructor.prototype[dataGetterName]),obj[dataGetterName]._dynamicdatarouter=!0;state.dynamicDataRoutingEnabled=!0}else if(state.dynamicDataRoutingEnabled){for(transcoder in global.transcoders)dataGetterName="get"+(transcoderName=global.transcoders[transcoder].name)+"Data",obj.hasOwnProperty(dataGetterName)&&obj[dataGetterName]._dynamicdatarouter&&delete obj[dataGetterName];state.dynamicDataRoutingEnabled=!1}}))}]),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(n){return n<10?"0"+n:n}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,(function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];switch(value&&"object"==typeof value&&"function"==typeof value.toJSON&&(value=value.toJSON(key)),"function"==typeof rep&&(value=rep.call(holder,key,value)),typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],"[object Array]"===Object.prototype.toString.apply(value)){for(length=value.length,i=0;i<length;i+=1)partial[i]=str(i,value)||"null";return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&"object"==typeof rep)for(length=rep.length,i=0;i<length;i+=1)"string"==typeof rep[i]&&(v=str(k=rep[i],value))&&partial.push(quote(k)+(gap?": ":":")+v);else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value))&&partial.push(quote(k)+(gap?": ":":")+v);return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}"function"!=typeof JSON.stringify&&(JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="","number"==typeof space)for(i=0;i<space;i+=1)indent+=" ";else"string"==typeof space&&(indent=space);if(rep=replacer,replacer&&"function"!=typeof replacer&&("object"!=typeof replacer||"number"!=typeof replacer.length))throw new Error("JSON.stringify");return str("",{"":value})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(void 0!==(v=walk(value,k))?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),FusionCharts.register("module",["private","modules.data.json",function(){var global=this,win=global.window,doc=win.document,COMPACTDATAMODE="compactdatamode",STRING="string",FUNCTION="function",OBJECT="object",QUOT='"',QUOTCOLON='":',fastTrim=function(str){for(var ws=/\s/,i=(str=str.replace(/^\s\s*/,"")).length;ws.test(str.charAt(i-=1)););return str.slice(0,i+1)},xssEncode=global.xssEncode,xml2json,json2xml,json2json,XML_CHILDNODE,XML_TEXTNODE,rules,parse,parser;void 0===win.JSON&&global.raiseError(this,"1113062012","run","JSONDataHandler",new Error("Could not find library support for JSON parsing.")),global.policies.options.allowIESafeXMLParsing=["_allowIESafeXMLParsing",!0],XML_CHILDNODE=1,XML_TEXTNODE=3,rules={arr:{set:!0,trendlines:!0,vtrendlines:!0,line:{trendlines:!0,vtrendlines:!0},data:!0,dataset:!0,lineset:!0,categories:!0,category:!0,linkeddata:!0,application:!0,definition:!0,axis:!0,connectors:!0,connector:{connectors:!0},trendset:!0,row:{rows:!0},column:{columns:!0},label:{labels:!0},color:{colorrange:!0},dial:{dials:!0},pointer:{pointers:!0},point:{trendpoints:!0},process:{processes:!0},task:{tasks:!0},milestone:{milestones:!0},datacolumn:{datatable:!0},text:{datacolumn:!0},item:{legend:!0},alert:{alerts:!0},groups:{annotations:!0},items:{groups:!0,data:!0},shapes:!0,shape:{shapes:!0},entitydef:!0,entity:{entitydef:!0}},tag:{chart:"linkedchart",map:"linkedmap",set:"data",vline:{chart:"data",graph:"data",dataset:"data",categories:"category",linkedchart:"data"},apply:{application:"application"},style:{definition:"definition"},marker:{application:"application",definition:"definition",data:"items"},entity:{entitydef:"entitydef",data:"data"},shape:{shapes:"shapes"},connector:{connectors:{chart:"connector",linkedchart:"connector",map:"connectors",linkedmap:"connectors"}},annotationgroup:{annotations:"groups"},annotation:{groups:"items"}},attr:{vline:{vline:"true"}},ins:{chart:!0,map:!0,graph:!0},dsv:{dataset:"data",categories:"category"},text:{target:"target",value:"value"},group:{styles:{definition:!0,application:!0},chart:{value:!0,target:!0},graph:{value:!0,target:!0},linkedchart:{value:!0,target:!0},markers:{definition:!0,application:!0,shapes:!0,connectors:!0,data:!0},map:{entitydef:!0,data:!0},linkedmap:{entitydef:!0,data:!0}}},parse={append:function(childObj,obj,nodeName,parentNodeName){!rules.arr[nodeName]||!0!==rules.arr[nodeName]&&!0!==rules.arr[nodeName][parentNodeName]?obj[nodeName]=childObj:(obj[nodeName]instanceof Array||(obj[nodeName]=[]),obj[nodeName].push(childObj))},child:function(obj,children,parentNodeName,baseObj){var i,nodeName,childNode,childObj,temp,rule;for(i=0;i<children.length;i+=1)switch(nodeName=(childNode=children[i]).nodeName.toLowerCase(),childNode.nodeType){case 1:if(childObj=parse.attr(childNode.attributes),!0===(rule=rules.ins[nodeName])&&(temp=childObj,(childObj={})[nodeName]=temp,temp=void 0),typeof(rule=rules.attr[nodeName])===OBJECT&&global.extend(childObj,rule),rule=rules.tag[nodeName])if(typeof rule===OBJECT&&typeof rule[parentNodeName]===OBJECT){for(temp in temp=void 0,rule[parentNodeName])if(baseObj[temp]){nodeName=rule[parentNodeName][temp];break}}else typeof rule===OBJECT&&typeof rule[parentNodeName]===STRING?nodeName=rule[parentNodeName]:typeof rule===STRING&&(nodeName=rule);childNode.childNodes.length&&((rule=rules.group[parentNodeName])&&rule[nodeName]?parse.child(obj,childNode.childNodes,nodeName,baseObj):parse.child(childObj,childNode.childNodes,nodeName,baseObj)),(rule=rules.group[parentNodeName])&&rule[nodeName]||parse.append(childObj,obj,nodeName,parentNodeName);break;case 3:(rule=rules.text[parentNodeName])&&(nodeName=rule,childObj=childNode.data,parse.append(childObj,obj,nodeName,parentNodeName)),typeof(rule=rules.dsv[parentNodeName])===STRING&&baseObj.chart&&parseInt(baseObj.chart.compactdatamode,10)&&(nodeName=rule,childObj=childNode.data,obj[nodeName]=obj[nodeName]?obj[nodeName]+childObj:childObj)}},attr:function(attrObj){var i,obj={};if(!attrObj||!attrObj.length)return obj;for(i=0;i<attrObj.length;i+=1)obj[attrObj[i].nodeName.toLowerCase()]=attrObj[i].value||attrObj[i].nodeValue;return obj}},parser=function(xml){var jsonObj={},xmlDoc,xmlElem,root,rootName,newNode,nodeEle,rootAttrs,childNodes,i;if(typeof xml!==OBJECT&&xml&&typeof xml.toString!==FUNCTION)return parser.errorObject=new TypeError("xml2json.parse()"),jsonObj;if(xml=xml.toString().replace(/<\!--[\s\S]*?-->/g,"").replace(/<\?xml[\s\S]*?\?>/gi,"").replace(/&(?!([^;\n\r]+?;))/g,"&amp;$1"),!(xml=fastTrim(xml)))return jsonObj;try{if(win.DOMParser?xmlDoc=(new win.DOMParser).parseFromString(xml,"text/xml"):doc.body&&global.core.options.allowIESafeXMLParsing?((xmlElem=doc.createElement("xml")).innerHTML=xml,doc.body.appendChild(xmlElem),xmlDoc=xmlElem.XMLDocument,doc.body.removeChild(xmlElem),xmlElem=null):((xmlDoc=new win.ActiveXObject("Microsoft.XMLDOM")).async="false",xmlDoc.loadXML(xml)),!(xmlDoc&&xmlDoc.childNodes&&1===xmlDoc.childNodes.length&&(root=xmlDoc.childNodes[0])&&root.nodeName&&(rootName=root.nodeName.toLowerCase()))||"chart"!==rootName&&"map"!==rootName&&"graph"!==rootName)return parser.errorObject=new TypeError("xml2json.parse()"),jsonObj;if("graph"===rootName){for(newNode=xmlDoc.createElement("chart"),i=(rootAttrs=root.attributes)&&rootAttrs.length||0;i--;)newNode.setAttribute(rootAttrs[i].name,rootAttrs[i].value),rootAttrs.removeNamedItem(rootAttrs[i].name);for((i=(childNodes=root.childNodes)&&childNodes.length||0)&&(i-=1,nodeEle=root.removeChild(childNodes[i]),newNode.appendChild(nodeEle));i--;)nodeEle=root.removeChild(childNodes[i]),newNode.insertBefore(nodeEle,newNode.firstChild);xmlDoc.replaceChild(newNode,root),root=newNode}}catch(e){parser.errorObject=e}return root?(root.attributes&&(jsonObj[rootName]=parse.attr(root.attributes)),root.childNodes&&parse.child(jsonObj,root.childNodes,rootName,jsonObj),delete parser.errorObject):parser.errorObject=new TypeError("xml2json.parse()"),jsonObj},xml2json=function(xml){var jsonData;return(delete parser.errorObject,{data:parser(xml),error:parser.errorObject})},json2xml=function(){var rules,parser;return rules={items:{explode:{data:"set",groups:{annotations:"annotationgroup"},items:{groups:"annotation"}},text:{chart:{target:"target",value:"value"},graph:{target:"target",value:"value"}},dsv:{dataset:{data:"dataset"},categories:{category:"categories"}},attr:{chart:{chart:"chart"},graph:{graph:"graph"},map:{map:"map"},linkedmap:{map:"map"},linkedchart:{chart:"chart"}},group:{styles:{definition:"style",application:"apply"},map:{data:"entity",entitydef:"entity"},markers:{definition:"marker",application:"marker",shapes:"shape",connectors:"connector",items:"marker"}},tag:{markers:{items:"data"}}},qualify:function(rule,item,namespace){return typeof this.items[rule][namespace]===OBJECT?this.items[rule][namespace][item]:this.items[rule][namespace]}},parser=function(obj,namespace,namespaceparent,flags){var attrString="",innerXML="",outerXML="",trailXML="",tagName,item,lowerItem,qualifier;if(namespace&&"function"==typeof namespace.toLowerCase&&(namespace=namespace.toLowerCase()),void 0===namespaceparent&&obj[namespace])for(item in obj[namespace])(lowerItem=item.toLowerCase())===COMPACTDATAMODE&&(flags.applyDSV=1==obj[namespace][item]);if(obj instanceof Array)for(item=0;item<obj.length;item+=1)typeof obj[item]===STRING?outerXML+=xssEncode(obj[item]):outerXML+=parser(obj[item],namespace,namespaceparent,flags);else{for(item in obj)lowerItem=item.toLowerCase(),obj[item]instanceof Array&&(qualifier=rules.qualify("group",lowerItem,namespace))?innerXML+="<"+(tagName=rules.qualify("tag",lowerItem,namespace)||lowerItem)+">"+parser(obj[item],qualifier,namespace,flags)+"</"+tagName+">":typeof obj[item]===OBJECT?(qualifier=rules.qualify("attr",lowerItem,namespace))?(trailXML=parser(obj[item],qualifier,namespace,flags).replace(/\s*\/\>/gi,""),namespace=lowerItem):innerXML+=parser(obj[item],lowerItem,namespace,flags):flags.applyDSV&&(qualifier=rules.qualify("dsv",lowerItem,namespace))?innerXML+=obj[item]:(qualifier=rules.qualify("text",lowerItem,namespace))?innerXML+="<"+(tagName=rules.qualify("tag",lowerItem,namespace)||qualifier)+">"+obj[item]+"</"+tagName+">":"vline"===lowerItem&&Boolean(obj[item])?namespace="vline":attrString+=" "+lowerItem+'="'+xssEncode(obj[item]).toString().replace(/\"/gi,"&quot;")+'"';(qualifier=rules.qualify("explode",namespaceparent,namespace))&&(namespace=qualifier),tagName=namespace,outerXML=(""!==trailXML?trailXML:"<"+tagName)+attrString+(""!==innerXML?">"+innerXML+"</"+tagName+">":" />")}return outerXML},function(jsonData){if(delete parser.errorObject,jsonData&&typeof jsonData===STRING)try{jsonData=JSON.parse(jsonData)}catch(e){parser.errorObject=e}var rootNS=jsonData&&jsonData.graph?"graph":jsonData&&jsonData.map?"map":"chart",xmlData;return{data:parser(jsonData,rootNS,void 0,{}),error:parser.errorObject}}}(),json2json=function(input){var out={data:{}};if(!input)return out;if("string"!=typeof input)try{input=JSON.stringify(input)}catch(err){return out.error=err,out}try{out.data=JSON.parse(input.replace(/"([^"]+)":/g,(function($0,$1){return'"'+$1.toLowerCase()+'":'})))}catch(err){out.error=err}return out},global.addDataHandler("JSON",{encode:json2xml,decode:xml2json,passthrough:json2json,transportable:!0})}]),FusionCharts.register("module",["private","modules.data.xml",function(){var global=this,stubCoder=function(data){return{data:data,error:void 0}};this.addDataHandler("XML",{encode:stubCoder,decode:stubCoder,transportable:!0})}]),FusionCharts.register("module",["private","modules.data.csv",function(){var global=this,win=global.window,core=global.core,COMMA=",",QUOTE='"',APOS="'",TAB="\t",CRLF="\r\n",LIT_QUOT="{quot}",LIT_TAB="{tab}",LIT_APOS="{apos}",toInt=win.parseInt,toFloat=win.parseFloat,returnFirstArgument=function(x){return x},DSV,decoder;(DSV=function(config){this.data=[],this.rowCount=0,this.columnCount=0,this.configure(config)}).decodeLiterals=function(str,defaultValue){return null!=str&&str.toString?str.replace("{tab}",TAB).replace("{quot}",'"').replace("{apos}","'"):defaultValue},DSV.prototype.set=function(row,col,value){var i;if(this.rowCount<=row){for(i=this.rowCount;i<=row;i+=1)this.data[i]=[];this.rowCount=row+1}this.columnCount<=col&&(this.columnCount=col+1),this.data[row][col]=value},DSV.prototype.setRow=function(row,value){var i;if(this.rowCount<=row){for(i=this.rowCount;i<=row;i+=1)this.data[i]=[];this.rowCount=row+1}this.columnCount<value.length&&(this.columnCount=value.length),this.data[row]=value},DSV.prototype.get=function(row,col){var data=this.data;return data[row]&&data[row][col]},DSV.prototype.configure=function(config){var decodeLiterals=DSV.decodeLiterals;this.delimiter=decodeLiterals(config.delimiter,","),this.qualifier=decodeLiterals(config.qualifier,'"'),this.eolCharacter=decodeLiterals(config.eolCharacter,CRLF),this.numberFormatted=!!toInt(config.numberFormatted,0)},DSV.prototype.clear=function(){this.data=[],this.rowCount=0,this.columnCount=0},DSV.prototype.toString=function(){var row,col,str="";for(row=0;row<this.rowCount;row+=1)str+='""'===(col=this.qualifier+this.data[row].join(this.qualifier+this.delimiter+this.qualifier)+this.qualifier)?this.eolCharacter:col+this.eolCharacter;return this.rowCount>0&&(str=str.slice(0,str.length-2)),str},decoder=function(data){var jsondata=core.transcodeData(data,"xml","json")||{},csv,row,column,g,i,j,k,l,chartAttrs=jsondata.chart||jsondata.map||jsondata.graph||{},forceErrorColumns=Boolean(chartAttrs.exporterrorcolumns||0),categories=jsondata.categories&&jsondata.categories[0]&&jsondata.categories[0].category||[],isGeoPlot=jsondata.map&&!jsondata.chart,isXYPlot=!1,isErrorPlot=!1,isMapPlot=!1,isOHLC=!1,hasSum=!1,compactDataMode=!1,doFormat=returnFirstArgument,predictedFormat={},datasets,lineset,axisset,dataCollectionLength,categoryLength,datasetLength,categoryItem,dataCollection,datasetItem,dataLength,dataItem,dataValue,errorValue,bumpColumnCount,summation=0,mapRows,mapColumns;if(csv=new DSV({separator:chartAttrs.exportdataseparator,qualifier:chartAttrs.exportdataqualifier,numberFormatted:chartAttrs.exportdataformattedval}),core.formatNumber&&csv.numberFormatted&&(doFormat=function(x){return core.formatNumber(x,chartAttrs)}),isGeoPlot)predictedFormat.geo=!0,csv.setRow(0,["Id"," Short Name","Long Name","Value","Formatted Value"]);else if(void 0!==(datasets=jsondata.dials&&jsondata.dials.dial||jsondata.pointers&&jsondata.pointers.pointer||jsondata.value))if(predictedFormat.gauge=!0,"string"==typeof datasets)csv.set(0,0,doFormat(datasets)),predictedFormat.singlevalue=!0,"string"==typeof jsondata.target&&(csv.set(0,1,doFormat(jsondata.target)),predictedFormat.bullet=!0);else for(csv.setRow(0,["Id","Value"]),predictedFormat.multivalue=!0,i=0,k=1,j=datasets.length;i<j;i+=1,k+=1)csv.setRow(k,[k,doFormat(datasets[i].value)]);else if(datasets=jsondata.dataset||!(jsondata.data instanceof Array)&&[]){if(predictedFormat.multiseries=!0,column=1,(lineset=jsondata.lineset)&&(datasets=datasets.concat(lineset),predictedFormat.lineset=!0),(axisset=jsondata.axis)&&(datasets=datasets.concat(axisset),predictedFormat.multiaxis=!0),datasetLength=datasets.length,categoryLength=categories.length,!(datasetLength=datasets.length)){for(i=0;i<categoryLength;i+=1)categoryItem=categories[i],csv.set(i+1,0,categoryItem.label||categoryItem.name);predictedFormat.multilevel=!0}for(i=0;i<datasetLength;i+=1)for((dataCollection=datasets)[i].dataset?(g=0,dataCollectionLength=(dataCollection=dataCollection[i].dataset).length):(dataCollection=datasets,dataCollectionLength=(g=i)+1);g<dataCollectionLength&&!isXYPlot&&!isMapPlot;g+=1,column+=1){for(datasetItem=dataCollection[g],csv.set(0,column,datasetItem.seriesname),"string"==typeof datasetItem.data&&(compactDataMode=predictedFormat.compactdata=!0,datasetItem.data=datasetItem.data.split(chartAttrs.dataseparator||"|")),j=0,k=0,dataLength=datasetItem.data&&datasetItem.data.length||0;j<dataLength||j<categoryLength;j+=1){if(categoryItem=categories[j],row=k+1,void 0!==(dataItem=datasetItem.data&&datasetItem.data[k]||{}).x&&void 0!==dataItem.y){isXYPlot=predictedFormat.xy=!0;break}if(void 0!==dataItem.open||void 0!==dataItem.high||void 0!==dataItem.close||void 0!==dataItem.low){isOHLC=predictedFormat.ohlc=!0;break}if(void 0!==dataItem.rowid&&void 0!==dataItem.columnid){isMapPlot=predictedFormat.heatmap=!0;break}j<categoryLength&&!categoryItem.vline&&(csv.set(row,0,categoryItem.label||categoryItem.name),dataValue=toFloat(dataItem?dataItem.value:""),dataValue=isNaN(dataValue)?"":doFormat(dataValue),csv.set(row,column,dataValue),(isErrorPlot||forceErrorColumns||dataItem.errorvalue)&&(isErrorPlot||csv.set(0,column+1,"Error"),bumpColumnCount=1,csv.set(row,column+1,doFormat(dataItem.errorvalue))),k+=1)}bumpColumnCount&&(column+=bumpColumnCount,bumpColumnCount=0)}lineset&&(datasets=datasets.slice(0,-lineset.length)),axisset&&(datasets=datasets.slice(0,-axisset.length))}else if(datasets=jsondata.data){for(csv.set(0,1,chartAttrs.yaxisname||"Value"),predictedFormat.singleseries=!0,hasSum="1"==chartAttrs.showsumatend,i=0,categoryLength=datasets.length;i<categoryLength;i+=1)(dataItem=datasets[i]).vline||(dataValue=toFloat(dataItem.value?dataItem.value:""),csv.setRow(i+1,[dataItem.label||dataItem.name,isNaN(dataValue)?"":(summation+=dataValue,doFormat(dataValue))]));hasSum&&(predictedFormat.summation=!0,csv.setRow(i+1,[chartAttrs.sumlabel||"Total",doFormat(summation)]))}if(isOHLC)for(csv.clear(),csv.setRow(0,["Open","Close","High","Low"]),i=0,row=1,dataCollectionLength=(datasets=jsondata.dataset).length;i<dataCollectionLength;i+=1)for(j=0,datasetLength=(datasetItem=datasets[i]&&datasets[i].data||[]).length;j<datasetLength;j+=1,row+=1)dataItem=datasetItem[j]||{},csv.setRow(j+1,[doFormat(dataItem.open),doFormat(dataItem.close),doFormat(dataItem.high),doFormat(dataItem.low)]);else if(isXYPlot)for(csv.clear(),isErrorPlot=!1,bumpColumnCount=0,csv.setRow(0,["Series","x","y"]),i=0,row=1,dataCollectionLength=(datasets=jsondata.dataset).length;i<dataCollectionLength;i+=1)for(j=0,datasetLength=(datasetItem=datasets[i]&&datasets[i].data||[]).length;j<datasetLength;j+=1,row+=1)dataItem=datasetItem[j]||{},dataValue=[datasets[i].seriesname,doFormat(dataItem.x),doFormat(dataItem.y)],void 0!==dataItem.z&&(dataValue.push(doFormat(dataItem.z)),bumpColumnCount||(csv.set(0,3,"z"),bumpColumnCount=1)),(isErrorPlot||forceErrorColumns||void 0!==dataItem.errorvalue||void 0!==dataItem.horizontalerrorvalue||void 0!==dataItem.verticalerrorvalue)&&(errorValue=doFormat(dataItem.errorvalue),dataValue.push(dataItem.errorvalue,void 0===dataItem.horizontalerrorvalue?errorValue:doFormat(dataItem.horizontalerrorvalue),void 0===dataItem.verticalerrorvalue?errorValue:doFormat(dataItem.verticalerrorvalue)),isErrorPlot||(csv.set(0,bumpColumnCount+3,"Error"),csv.set(0,bumpColumnCount+4,"Horizontal Error"),csv.set(0,bumpColumnCount+5,"Vertical Error")),isErrorPlot=predictedFormat.error=!0),csv.setRow(row,dataValue);else if(isMapPlot){for(csv.clear(),mapRows={},mapColumns={},i=0,j=1,l=(categories=jsondata.rows&&jsondata.rows.row||[]).length;i<l;i+=1,j+=1)(categoryItem=categories[i]).id&&(mapRows[categoryItem.id.toLowerCase()]=j,csv.set(j,0,categoryItem.label||categoryItem.id));for(i=0,j=1,l=(categories=jsondata.columns&&jsondata.columns.column||[]).length;i<l;i+=1,j+=1)(categoryItem=categories[i]).id&&(mapColumns[categoryItem.id.toLowerCase()]=j,csv.set(0,j,categoryItem.label||categoryItem.id));for(i=0,l=(datasetItem=jsondata.dataset&&jsondata.dataset[0]&&jsondata.dataset[0].data||[]).length;i<l;i+=1)row=(dataItem=datasetItem[i]).rowid.toLowerCase(),column=dataItem.columnid.toLowerCase(),mapRows[row]||(mapRows[row]=csv.rowCount,csv.set(csv.rowCount,0,dataItem.rowid)),mapColumns[column]||(mapColumns[column]=csv.columnCount,csv.set(0,csv.columnCount,dataItem.columnid)),csv.set(mapRows[row],mapColumns[column],doFormat(dataItem.value))}return axisset=null,lineset=null,categories=null,datasets=null,csv.rowCount>0&&void 0===csv.get(0,0)&&csv.set(0,0,chartAttrs.xaxisname||"Label"),{data:csv.toString(),error:void 0,predictedFormat:predictedFormat}},global.addDataHandler("CSV",{encode:function(data,obj){throw global.raiseError(obj,"0604111215A","run","::CSVDataHandler.encode()","FusionCharts CSV data-handler only supports encoding of data."),new Error("FeatureNotSupportedException()")},decode:decoder,transportable:!1}),core.addEventListener("Loaded",(function(event){var obj=event.sender;"javascript"===obj.options.renderer&&(obj.getDataAsCSV||(obj.getDataAsCSV=obj.ref.getDataAsCSV=obj.getCSVData))}))}]),FusionCharts.register("module",["private","modules.renderer.js",function(){var global=this,win=global.window,doc=win.document,coreOptions=global.core.options,extendedCoreOptions={html5ScriptNameSuffix:".js",html5ScriptNamePrefix:"fusioncharts."},SET_AS_PRIMARY_RENDERER=!0,LOADER_CSS_TEXT="display: inline-block; *zoom:1; *display:inline; width: 100%; font-family: Verdana,sans; font-size: 10px; color: #666666; text-align: center;",MODULE_NAME_BASE="modules.renderer.js-",isIE=/msie/i.test(win.navigator.userAgent)&&!win.opera,hasSVG=Boolean(win.SVGAngle||doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),renderer=function(){},lib=global.hcLib={cmdQueue:[]},moduleCmdQueue=lib.moduleCmdQueue={base:[],charts:[],powercharts:[],widgets:[],maps:[]},moduleDependencies=lib.moduleDependencies={},moduleMeta=lib.moduleMeta={base:"fusioncharts.js",charts:"fusioncharts.charts.js",powercharts:"fusioncharts.powercharts.js",widgets:"fusioncharts.widgets.js",maps:"fusioncharts.maps.js"},blockedModules={},getMetaSentence=lib.getMetaSentence=(cache={},function(composite){return composite=composite&&composite.replace(/(^\s*)|(\s*$)/g,"")||"",cache[composite]||(cache[composite]={key:composite,subject:composite.replace(/[^\/]*?$/gi,""),predicate:composite.replace(/^.*\//gi,"")})}),getDependentModuleName=lib.getDependentModuleName=function(type){var modules=[],i,j;for(i in type=getMetaSentence(type).predicate,moduleDependencies)void 0!==(j=moduleDependencies[i][type])&&(modules[j]=i);return modules},hasModule=lib.hasModule=function(name){var i,l;if(name instanceof Array){for(i=0,l=name.length;i<l;i+=1)if(!Boolean(global.modules[MODULE_NAME_BASE+getMetaSentence(name[i]).predicate]))return!1;return!0}return Boolean(global.modules[MODULE_NAME_BASE+getMetaSentence(name).predicate])},loadModule=lib.loadModule=function(name,success,failure,source){name instanceof Array||(name=[name]);var l=name.length,count=0,loadFile;(loadFile=function(){if(count>=l)success&&success();else{var metaKey=name[count],metaPredicate=metaKey&&metaKey.match(/[^\/]*$/i)[0],meta=moduleMeta[metaKey],userSrc;if(count+=1,metaKey){if(hasModule(metaPredicate))return void loadFile();if(blockedModules[metaPredicate])return global.raiseError(source||global.core,"1112201445A","run","JavaScriptRenderer~loadModule() ","required resources are absent or blocked from loading."),void(failure&&failure(metaPredicate))}else failure&&failure(metaPredicate);userSrc=global.core.options["html5"+global.capitalizeString(metaPredicate)+"Src"],global.loadScript(void 0===userSrc?meta:userSrc,{success:function(){hasModule(metaPredicate)?loadFile():failure&&failure(metaPredicate)},failure:failure&&function(){failure(metaPredicate)}},void 0,!0)}})()},executeWaitingCommands=lib.executeWaitingCommands=function(queue){for(var item;item=queue.shift();)"object"==typeof item&&renderer[item.cmd].apply(item.obj,item.args)},clearStateEventHandler=function(event){delete event.sender.jsVars._reflowData,event.sender.jsVars._reflowData={},delete event.sender.jsVars._reflowClean},ChartMessage=((api=function(){}).prototype={LoadDataErrorText:"Error in loading data.",XMLLoadingText:"Retrieving data. Please wait",InvalidXMLText:"Invalid data.",ChartNoDataText:"No data to display.",ReadingDataText:"Reading data. Please wait",ChartNotSupported:"Chart type not supported.",PBarLoadingText:"",LoadingText:"Loading chart. Please wait",RenderChartErrorText:"Unable to render chart."}).constructor=api,getContainerBackgroundColor=lib.getContainerBackgroundColor=function(chart){var color=chart.options.containerBackgroundColor,opacity=chart.options.containerBackgroundOpacity;return isNaN(opacity)?opacity=chart.jsVars.transparent?0:1:(opacity=parseFloat(opacity))<0?opacity=0:opacity>1&&(opacity=1),color||(color="#ffffff"),isIE&&!hasSVG?opacity?color:"transparent":(color=color.replace(/^#?([a-f0-9]+)/gi,"$1"),(color=lib.graphics.HEXtoRGB(color))[3]=opacity.toString(),"rgba("+color.join(",")+")")},showLoadingMessage=function(chart,container){var vars,msgs=chart.jsVars.msgStore;container&&chart.options.showChartLoadingMessage&&(container.innerHTML='<small style="'+LOADER_CSS_TEXT+" padding-top: "+(parseInt(container.style.height,10)/2-5)+'px">'+(msgs.PBarLoadingText||msgs.LoadingText)+"</small>",container.style.backgroundColor=getContainerBackgroundColor(chart))},api,cache;lib.injectModuleDependency=function(module,alias,order){var isInjected=!1,metaSubject=getMetaSentence(module).subject,metaPredicate=getMetaSentence(module).predicate;return alias=void 0===alias?metaPredicate:getMetaSentence(alias).predicate,moduleDependencies[metaPredicate]||(moduleDependencies[metaPredicate]={},moduleCmdQueue[metaPredicate]||(moduleCmdQueue[metaPredicate]=[],lib.moduleMeta[metaPredicate]=metaSubject+coreOptions.html5ScriptNamePrefix+(alias&&alias.replace&&alias.replace(/^[\s\S]*\//gi,"").replace(/\?/g,"%3F").replace(/\#/g,"%23").replace(/\:/g,"%3A")||"")+coreOptions.html5ScriptNameSuffix),isInjected=!0),moduleDependencies[metaPredicate][alias]=order||0,isInjected},lib.needsModule=function(name,type){return name=getMetaSentence(name).predicate,type=getMetaSentence(type).predicate,void 0!==(lib.moduleDependencies[name]&&lib.moduleDependencies[name][type])},lib.cleanupWaitingCommands=function(chart){for(var type=chart.chartType(),modules=getDependentModuleName(type),module,requeue=[],queue,item;module=modules.shift();){for(queue=moduleCmdQueue[module]||[];item=queue.shift();)"object"==typeof item&&item.obj!==chart&&requeue.push(item);queue.concat(requeue),requeue=[]}},global.extend(global.core.options,extendedCoreOptions),global.extend(renderer,{dataFormat:"json",ready:!1,policies:{jsVars:{},options:{showChartLoadingMessage:["showChartLoadingMessage",!0]}},init:function(){hasModule("base")?renderer.ready=!0:loadModule("base",(function(){renderer.ready=!0,executeWaitingCommands(lib.cmdQueue)}),void 0,global.core)},render:function(container){showLoadingMessage(this,container),lib.cmdQueue.push({cmd:"render",obj:this,args:arguments})},update:function(){lib.cmdQueue.push({cmd:"update",obj:this,args:arguments})},resize:function(){lib.cmdQueue.push({cmd:"resize",obj:this,args:arguments})},dispose:function(){var queue=lib.cmdQueue,i,l;for(i=0,l=queue.length;i<l;i+=1)queue[i].obj===this&&(queue.splice(i,1),l-=1,i-=1)},load:function(){lib.cmdQueue.push({cmd:"load",obj:this,args:arguments})},config:function(items,optionalValue){var item,vars=this.jsVars,msgs=vars.msgStore,cfg=vars.cfgStore;for(item in"string"==typeof items&&arguments.length>1&&(item=items,(items={})[item]=optionalValue),items)void 0!==msgs[item]?msgs[item]=items[item]:cfg[item.toLowerCase()]=items[item]},protectedMethods:{},events:{beforeInitialize:function(event){var sender=event.sender,vars=sender.jsVars,chartType,userArg;vars.fcObj=sender,vars.msgStore=vars.msgStore||new ChartMessage,vars.cfgStore=vars.cfgStore||{},vars.previousDrawCount=-1,vars.drawCount=0,vars._reflowData={},sender.addEventListener("beforeRender",(function(event){event.sender.jsVars.smartLabel=new lib.SmartLabelManager(sender.id,doc.body||doc.getElementsByTagName("body")[0]),event.detachHandler()})),vars.userModules instanceof Array||(userArg=vars.userModules,vars.userModules=[],"string"==typeof userArg&&(vars.userModules=vars.userModules.concat(userArg.split(",")))),lib.chartAPI&&lib.chartAPI[void 0]||(vars.needsLoaderCall=!0)},initialized:function(event){var chart=event.sender,vars=chart.jsVars;vars.needsLoaderCall&&(delete vars.needsLoaderCall,renderer.load.call(chart))},beforeDataUpdate:clearStateEventHandler,beforeDispose:function(event){var chart=event.sender,vars=chart.jsVars;vars.smartLabel&&!vars.smartLabel.disposed&&vars.smartLabel.dispose(),clearStateEventHandler.apply(this,arguments)},beforeRender:function(event){var chart=event.sender,vars=chart.jsVars;delete vars.drLoadAttempted,delete vars.waitingModule,delete vars.waitingModuleError,clearStateEventHandler.apply(this,arguments)},dataLoadRequested:function(event){var obj=event.sender,vars=obj.jsVars;delete vars.loadError,obj.ref&&obj.options.showDataLoadingMessage?vars.hcObj&&!vars.hasNativeMessage&&vars.hcObj.showLoading?vars.hcObj.showMessage(vars.msgStore.XMLLoadingText):obj.ref.showChartMessage?obj.ref.showChartMessage("XMLLoadingText"):vars.stallLoad=!0:vars.stallLoad=!0},dataLoadRequestCompleted:function(event){var obj,vars;delete event.sender.jsVars.stallLoad},dataLoadError:function(event){var obj=event.sender,vars=obj.jsVars;delete vars.stallLoad,vars.loadError=!0,obj.ref&&"function"==typeof obj.ref.showChartMessage&&obj.ref.showChartMessage("LoadDataErrorText"),obj.__state.dataFetchDuringConstruction&&delete obj.__state.dataFetchDuringConstruction,clearStateEventHandler.apply(this,arguments)}},_call:function(fn,args,scope){fn.apply(scope||win,args||[])}}),global.extend(renderer.prototype,{getSWFHTML:function(){global.raiseWarning(this,"11090611381","run","JavaScriptRenderer~getSWFHTML()","getSWFHTML() is not supported for JavaScript charts.")},addVariable:function(){global.raiseWarning(this,"11090611381","run","JavaScriptRenderer~addVariable()",'Use of deprecated "addVariable()". Replace with "configure()".'),global.core.prototype.configure.apply(this,arguments)},getXML:function(){return global.raiseWarning(this,"11171116291","run","JavaScriptRenderer~getXML()",'Use of deprecated "getXML()". Replace with "getXMLData()".'),this.getXMLData.apply(this,arguments)},setDataXML:function(){return global.raiseWarning(this,"11171116292","run","JavaScriptRenderer~setDataXML()",'Use of deprecated "setDataXML()". Replace with "setXMLData()".'),this.setXMLData.apply(this,arguments)},setDataURL:function(){return global.raiseWarning(this,"11171116293","run","JavaScriptRenderer~setDataURL()",'Use of deprecated "SetDataURL()". Replace with "setXMLUrl()".'),this.setXMLUrl.apply(this,arguments)},hasRendered:function(){return!(!this.jsVars.hcObj||!this.jsVars.hcObj.hasRendered)},setTransparent:function(transparency){var vars;(vars=this.jsVars)&&("boolean"!=typeof transparency&&null!==transparency&&(transparency=!0),vars.transparent=null!==transparency&&!0===transparency)}}),global.extend(global.core,{_fallbackJSChartWhenNoFlash:function(){win.swfobject.hasFlashPlayerVersion(global.core.options.requiredFlashPlayerVersion)||global.renderer.setDefault("javascript")},_enableJSChartsForSelectedBrowsers:function(str){null!=str&&global.renderer.setDefault(new RegExp(str).test(win.navigator.userAgent)?"javascript":"flash")},_doNotLoadExternalScript:function(flags){var item,srcKey;for(item in flags)srcKey=item.toLowerCase(),moduleMeta[srcKey]&&(blockedModules[srcKey]=Boolean(flags[item]))},_preloadJSChartModule:function(){throw"NotImplemented()"}}),global.renderer.register("javascript",renderer),hasSVG||isIE?global.renderer.setDefault("javascript"):win.swfobject&&win.swfobject.hasFlashPlayerVersion&&!win.swfobject.hasFlashPlayerVersion(global.core.options.requiredFlashPlayerVersion)&&(global.raiseWarning(global.core,"1204111846","run","JSRenderer","Switched to JavaScript as default rendering due to absence of required Flash Player."),global.renderer.setDefault("javascript"))}]),FusionCharts.register("module",["private","modules.renderer.js-lib",function(){var global=this,win=global.window,BLANKSTRINGPLACEHOLDER="#BLANK#",BLANK="",COLOR_BLACK="000000",COLOR_GLASS="rgba(255, 255, 255, 0.3)",COLOR_WHITE="FFFFFF",COLOR_TRANSPARENT="rgba(0,0,0,0)",TESTSTR="Ag",HASHSTRING="#",BREAKSTRING="<br />",STRINGSTRING="string",OBJECTSTRING="object",COMMA=",",HYPHEN="-",COLON=":",ZEROSTRING="0",ONESTRING="1",DECIMALSTRING=".",STRINGUNDEFINED="undefined",UNDEFINED,POSITION_TOP="top",POSITION_RIGHT="right",POSITION_BOTTOM="bottom",POSITION_LEFT="left",POSITION_CENTER="center",POSITION_MIDDLE="middle",POSITION_START="start",POSITION_END="end",FC_CONFIG_STRING="_FCconf",SHAPE_RECT="rect",TEXTANCHOR="text-anchor",HUNDREDSTRING="100",PXSTRING="px",COMMASPACE=", ",TOUCH_THRESHOLD_PIXELS=15,CLICK_THRESHOLD_PIXELS=5,doc=win.document,hasSVG=Boolean(win.SVGAngle||doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),isIE=/msie/i.test(win.navigator.userAgent)&&!win.opera,toFloat=win.parseFloat,stripWhitespace=/\s+/g,dropHash=/^#?/,startsRGBA=/^rgba/i,cleanColorCode=/[#\s]/gi,breakPlaceholder=/\{br\}/gi,hexcode=/^#?[0-9a-f]{6}/i,validhexcolor=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,mathAbs=Math.abs,mathPow=Math.pow,mathRound=Math.round,EPSILON=mathPow(2,-24),objectToStrFn=Object.prototype.toString,hasTouch=void 0!==doc.documentElement.ontouchstart,CREDIT_HREF="http://www.fusioncharts.com?BS=FCHSEvalMark&utm_source=FCS_trial&pver="+win.escape(global.core.version),CREDIT_STRING="FusionCharts XT Trial",creditLabel=!1,math=Math,mathMax=math.max,mathMin=math.min,stubEvent={pageX:0,pageY:0},lib=global.hcLib||(global.hcLib={}),createContextMenu=function(options){var chart=options.chart,smartLabel=chart.smartLabel,roundedCorners=chart.logic.hcJSON&&chart.logic.hcJSON.chart.useRoundEdges,R=lib.Raphael,chartAttrsForMenu=function(options){var menuColor,labelColor,menuHoverColor,labelHoverColor;return{attrs:{backgroundColor:options.menufillcolor&&hashify(options.menufillcolor),color:options.menulabelcolor&&hashify(options.menulabelcolor)},hover:{backgroundColor:options.menufillhovercolor&&hashify(options.menufillhovercolor),color:options.menulabelhovercolor&&hashify(options.menulabelhovercolor)}}}(chart.definition.chart),boxHover=function(defaultStyle,attrs,ca){attrs=attrs||{};var dcolor=defaultStyle&&R.tintshade(defaultStyle.color,.7),bg=dcolor&&R.getRGB(dcolor),bgcolor=bg&&"rgb("+[bg.r,bg.g,bg.b].join(",")+")";return{backgroundColor:attrs.backgroundHoverColor||ca.backgroundColor||bgcolor||"rgb(64, 64, 64)",color:attrs.hoverColor||ca.color||"#FFFFFF"}}(options.basicStyle,options.hover,chartAttrsForMenu.hover),boxAttrs=(defaultStyle=options.basicStyle,attrs=options.attrs,ca=chartAttrsForMenu.attrs,attrs=extend2({},attrs||{}),{fontFamily:(attrs=extend2(attrs,defaultStyle)).fontFamily||"Verdana,sans",fontSize:attrs.fontSize||"10px",color:attrs.color||ca.color||"#000000",backgroundColor:attrs.backgroundColor||ca.backgroundColor||"rgb(255, 255, 255)"}),itemBoxAttrs={textAlign:"left",align:"left",paddingLeft:"5px",paddingRight:"5px",paddingTop:"5px",cursor:"pointer",borderWidth:"0px"},items=options.items,position=options.position,vPad=options.verticalPadding||3,hPad=options.horizontalPadding||6,menu={},chartPos,hideTimer,menuContainer,drawFn,getMenuContainer,setHideTimer,resetHideTimer,calculateTopLeft,nonItemClick,mouseHandler,mouseOver,mouseOut,itemClick,defaultStyle,attrs,ca;return!!chart&&(chartPos=getPosition(chart.container),drawFn=function(){var paper=this,items=menu.items,i=items.length,menuHeight=0,menuWidth=0,eachHeight=0,top=0,item,ele,ii,key,smartLabelObj;for(menu.menuItems||(menu.menuItems=[]),smartLabel.setStyle(boxAttrs);i--;)item=items[i],smartLabelObj=smartLabel.getOriSize(item.text),eachHeight||(eachHeight=smartLabelObj.height+2*vPad),menuHeight+=eachHeight,menuWidth=mathMax(menuWidth,smartLabelObj.width+2*hPad);for(menu.height=menuHeight,menu.width=menuWidth,menu.itemH=eachHeight,this.style.width=menuWidth+PXSTRING,menu.menuRect||((ele=menu.menuRect=doc.createElement("div")).style.border="1px solid rgb(100, 100, 100)",roundedCorners&&(ele.style.mozBorderRadius="4px",ele.style.webkitBorderRadius="4px",ele.style.borderRadius="4px",ele.style.overflow="hidden"),isIE&&!hasSVG?ele.style.filter="progid:DXImageTransform.Microsoft.Shadow(Color=#999999,direction=135,strength=3)":(ele.style.mozBoxShadow="3px 3px 3px #999",ele.style.webkitBoxShadow="3px 3px 3px #999",ele.style.boxShadow="3px 3px 3px #999"),this.appendChild(ele)),ii=items.length,i=0;i<ii;i+=1)if(item=items[i],menu.menuItems[i])menu.menuItems[i].label.innerHTML=item.text;else{for(key in menu.menuItems[i]={},(ele=menu.menuItems[i].box=doc.createElement("div")).style.height=eachHeight+PXSTRING,ele.style.lineHeight=eachHeight+PXSTRING,itemBoxAttrs)ele.style[key]=itemBoxAttrs[key];for(key in boxAttrs)ele.style[key]=boxAttrs[key];menu.menuRect.appendChild(ele),ele.innerHTML=item.text,lib.dem.listen(ele,"click",itemClick),lib.dem.listen(ele,"pointerhover",mouseHandler),menu.menuItems[i].box._itemIdx=i,top+=eachHeight}for(;menu.menuItems[i];)menu.menuItems[i].box.parentNode.removeChild(menu.menuItems[i].box),menu.menuItems.splice(i,1)},getMenuContainer=function(){return menuContainer||((menuContainer=doc.createElement("div")).style.position="absolute",menuContainer.style.zIndex="50",menuContainer.style.display="none",chart.container.appendChild&&chart.container.appendChild(menuContainer),menuContainer)},setHideTimer=function(){hideTimer=setTimeout(menu.hide,800)},resetHideTimer=function(){hideTimer&&clearTimeout(hideTimer)},calculateTopLeft=function(position){var x=position.x,y=position.y,pos={x:x,y:y},width=menu.width,height=menu.height,cHeight=chart.chartHeight,cWidth;return x+width>chart.chartWidth&&x-width>0&&(pos.x-=width),y+height>cHeight&&y-height>0&&(pos.y-=height),pos},nonItemClick=function(){menu.hide()},mouseHandler=function(e){e.target&&e.target.parentNode&&("start"===e.state?mouseOver:mouseOut).call(e.target)},mouseOver=function(){var rEle=this,items,i,item=menu.menuItems[this._itemIdx],key;for(key in resetHideTimer(),boxHover)item.box.style[key]=boxHover[key]},mouseOut=function(){var rEle=this,items,i,item=menu.menuItems[this._itemIdx],key;for(key in boxAttrs)item.box.style[key]=boxAttrs[key];setHideTimer()},itemClick=function(e){var rEle=this,items,i,item=menu.items[this._itemIdx];item.onclick&&item.onclick.call(item,e),e.originalEvent.stopPropagation?e.originalEvent.stopPropagation():e.originalEvent.cancelBubble=!0,menu.hide()},menu.showItem=function(index){var m=this,item=m.menuItems[index],menuH=m.height,itemH=m.itemH,posObj;item&&item._isHidden&&(item.box.style.display="",m.height=menuH+itemH,item._isHidden=!1,posObj=calculateTopLeft(position),m.left=posObj.x,m.top=posObj.y)},menu.hideItem=function(index){var m=this,item=m.menuItems[index],menuH=m.height,itemH=m.itemH,posObj;item&&!item._isHidden&&(item.box.style.display="none",m.height=menuH-itemH,item._isHidden=!0,posObj=calculateTopLeft(position),m.left=posObj.x,m.top=posObj.y)},menu.redraw=function(){var m=this,paper=m.menuContainer,posObj;m.items=items,paper?drawFn.call(m.menuContainer):position&&void 0!==position.x&&void 0!==position.y?(m.menuContainer=getMenuContainer(),drawFn.call(m.menuContainer),posObj=calculateTopLeft(position),m.left=posObj.x,m.top=posObj.y,m.menuContainer.style.left=m.left+PXSTRING,m.menuContainer.style.top=m.top+PXSTRING):(m.menuContainer=getMenuContainer(),drawFn.call(m.menuContainer))},menu.show=function(showOptions){var m=this,posObj;showOptions&&void 0!==showOptions.x&&void 0!==showOptions.y?(posObj=calculateTopLeft(showOptions),m.menuContainer.style.left=posObj.x+PXSTRING,m.menuContainer.style.top=posObj.y+PXSTRING):(m.menuContainer.style.left=m.left+PXSTRING,m.menuContainer.style.top=m.top+PXSTRING),m.menuContainer.style.display="",setTimeout((function(){m.visible=!0,R.click(nonItemClick)}),400)},menu.hide=function(){this.visible&&(this.visible=!1,menu.menuContainer.style.display="none",menu.menuContainer.style.left=-menu.width+PXSTRING,menu.menuContainer.style.top=-menu.height+PXSTRING,R.unclick(nonItemClick))},menu.update=function(items){var m=this;items&&items.length&&(m.items=items,m.redraw())},menu.updatePosition=function(posObj){var m=this,oldChartPos_left=chartPos.left,oldChartPos_top=chartPos.top,cPos;chartPos=getPosition(chart.container),posObj?(position=posObj,cPos=calculateTopLeft(posObj),m.left=cPos.x,m.top=cPos.y):(m.left-=oldChartPos_left-chartPos.left,m.top-=oldChartPos_top-chartPos.top)},menu.add=function(item){var m=this,mItems=m.menuItems,i=mItems.length,key,ele;for(key in smartLabel.setStyle(boxAttrs),m.width=mathMax(m.width,smartLabel.getOriSize(item.text).width),mItems[i]={},(ele=mItems[i].box=doc.createElement("div")).style.height=m.itemH+PXSTRING,ele.style.lineHeight=m.itemH+PXSTRING,itemBoxAttrs)ele.style[key]=itemBoxAttrs[key];for(key in boxAttrs)ele.style[key]=boxAttrs[key];menu.menuRect.appendChild(ele),ele.innerHTML=item.text,lib.dem.listen(ele,"click",itemClick),lib.dem.listen(ele,"pointerhover",mouseHandler),menu.menuItems[i].box._itemIdx=i,m.height+=m.itemH},menu.removeItems=function(){for(var m=this,items=m.menuItems,i=items&&items.length,item;i--;)item=items[i],lib.dem.unlisten(item.box,"click",itemClick),lib.dem.unlisten(item.box,"pointerhover",mouseHandler),item.box&&item.box.parentNode&&item.box.parentNode.removeChild(item.box);delete m.menuItems,delete m.items},menu.setPosition=function(position){var m=this;void 0!==position.x&&void 0!==position.y&&(m.menuContainer.style.x=position.x,m.menuContainer.style.y=position.y)},menu.destroy=function(){var m=this;m.removeItems(),m.menuContainer.parentNode.removeChild(m.menuContainer)},items&&items.length&&(menu.redraw(),menu.hide()),menu)},selectionEventHandler=function(evt){var config=evt.data,chart=config.chart,paper=chart.paper,state=evt.state,event=evt.originalEvent,tgt=event.target||event.originalTarget||event.srcElement||event.relatedTarget||event.fromElement,touchEvent=hasTouch&&getTouchEvent(evt)||stubEvent,resizeBox=chart.elements.resizeBox,bBox=config.bBox,x=config.ox,y=config.oy,zoomX=config.zoomX,zoomY=config.zoomY,canvasY=config.canvasY,canvasX=config.canvasX,canvasW=config.canvasW,canvasH=config.canvasH,canvasX2=config.canvasX2,canvasY2=config.canvasY2,strokeWidth=config.strokeWidth,chartPosLeft=config.chartPosLeft,chartPosTop=config.chartPosTop,attr=config.attr,layerX=(event.clientX||event.pageX||touchEvent.pageX)-chartPosLeft,layerY=(event.clientY||event.pageY||touchEvent.pageY)-chartPosTop,dx=layerX-x,dy=layerY-y,selectionData;switch(state){case"start":config.oy=layerY,config.ox=layerX,config.allowMove=!1,resizeBox||(resizeBox=chart.elements.resizeBox=paper.rect(chart.layers.tracker).attr(attr)),layerX>canvasX&&layerX<canvasX2&&layerY>canvasY&&layerY<canvasY2&&(config.allowMove=!0),tgt&&tgt.ishot&&(config.allowMove=!1),resizeBox.attr({x:0,y:0,width:0,height:0}).show();break;case"end":selectionData={chart:chart,selectionLeft:(bBox=resizeBox.getBBox()).x,selectionTop:bBox.y,selectionHeight:bBox.height,selectionWidth:bBox.width,originalEvent:evt.originalEvent},config.isDragged&&(config.selectionEnd&&config.selectionEnd(selectionData),config.isDragged=0),resizeBox.hide(),delete config.oy,delete config.ox;break;default:if(!config.allowMove)return;dx=layerX-config.ox,dy=layerY-config.oy,bBox=config.bBox,x=config.ox,y=config.oy,config.isDragged||(selectionData={chart:chart,selectionLeft:(zoomX?mathMin(x,x+dx):canvasX)+.5*strokeWidth,selectionTop:(zoomY?mathMin(y,y+dy):canvasY)+.5*strokeWidth,selectionHeight:0,selectionWidth:0,originalEvent:evt.originalEvent},config.selectionStart&&config.selectionStart(selectionData),config.isDragged=1),dx=-(x-mathMin(x-(x-mathMax(x+dx,canvasX)),canvasX2)),dy=-(y-mathMin(y-(y-mathMax(y+dy,canvasY)),canvasY2)),resizeBox.attr({x:(zoomX?mathMin(x,x+dx):canvasX)+.5*strokeWidth,y:(zoomY?mathMin(y,y+dy):canvasY)+.5*strokeWidth,width:zoomX?mathAbs(dx):canvasW,height:zoomY?mathAbs(dy):canvasH})}},onXYCanvasClick=function(event){var config=event.data,e=event.originalEvent,tgt=e.target||e.originalTarget||e.srcElement||e.relatedTarget||e.fromElement,eventType=e.type,layerX=e.layerX,layerY=e.layerY;void 0===layerX&&(layerX=e.pageX-config.chartPosLeft,layerY=e.pageY-config.chartPosTop),"mousedown"===eventType&&(tgt.ishot=layerX>config.canvasX&&layerX<config.canvasX2&&layerY>config.canvasY&&layerY<config.canvasY2),"mouseup"===eventType&&setTimeout((function(){tgt.ishot=!1}),1)},bindSelectionEvent=function(chart,config){config=config||{};var chartOptions=chart.options.chart,container=chart.container,zoomType=chartOptions.zoomType,attr=extend2({},config.attr||{}),strokeWidth=attr["stroke-width"]=pluckNumber(attr.strokeWidth,attr["stroke-width"],1),chartPosition=getPosition(container),eventListeners=chart.eventListeners||(chart.eventListeners=[]);config=extend2({chart:chart,zoomX:/x/.test(zoomType),zoomY:/y/.test(zoomType),canvasY:chart.canvasTop,canvasX:chart.canvasLeft,canvasW:chart.canvasWidth,canvasH:chart.canvasHeight,canvasX2:chart.canvasLeft+chart.canvasWidth,canvasY2:chart.canvasTop+chart.canvasHeight,strokeWidth:strokeWidth,chartPosLeft:chartPosition.left,chartPosTop:chartPosition.top,attr:attr},config),attr.stroke=getFirstValue(attr.stroke,"rgba(51,153,255,0.8)"),attr.fill=getFirstValue(attr.fill,"rgba(185,213,241,0.3)"),attr.ishot=!0,container&&(removeEvent(container,"pointerdrag",selectionEventHandler),eventListeners.push(addEvent(container,"pointerdrag",selectionEventHandler,config))),chartOptions.link&&(removeEvent(chart.container,"mouseup mousedown",onXYCanvasClick),eventListeners.push(addEvent(chart.container,"mouseup mousedown",onXYCanvasClick,config)))},getViewPortDimension=(pw="innerWidth",ph="innerHeight",docEl=doc.documentElement||doc.body,vpEl=docEl,"innerWidth"in win?vpEl=win:(pw="clientWidth",ph="clientHeight"),function(){return{width:vpEl[pw],height:vpEl[ph],scrollTop:docEl.scrollTop,scrollLeft:docEl.scrollLeft}}),getPosition=function(el,noscroll){var p={left:el.offsetLeft||0,top:el.offsetTop||0};for(el=el.offsetParent;el;)p.left+=el.offsetLeft||0,p.top+=el.offsetTop||0,el===doc.body||el===doc.documentElement||noscroll||(p.left-=el.scrollLeft,p.top-=el.scrollTop),el=el.offsetParent;return p},regescape=function(text){return text&&text.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},regReplaceEscape=function(text){return text&&text.replace(/\$/g,"$$$$")},getValidValue=function(arg,value){return arg||!1===arg||0===arg?arg:value},getDefinedColor=function(color,defColor){return color||0===color||color===BLANK?color:defColor},getFirstValue=function(){var arg,i,l;for(i=0,l=arguments.length;i<l;i+=1)if((arg=arguments[i])||!1===arg||0===arg)return arg;return BLANK},pluck=function(){var arg,i,l;for(i=0,l=arguments.length;i<l;i+=1)if((arg=arguments[i])||!1===arg||0===arg)return arg},addEvent=function(el,event,fn,data){return lib.dem.listen(el,event,fn,data)},removeEvent=function(el,eventType,handler){return lib.dem.unlisten(el,eventType,handler)},fireEvent=function(el,type,eventArguments,defaultFunction){lib.dem.fire(el,type,eventArguments,defaultFunction)},getTouchEvent=function(event){var e=event.sourceEvent||event.originalEvent||event;return hasTouch&&e&&e.touches&&e.touches[0]||e},getMouseCoordinate=function(el,event){var pageX=(event=getTouchEvent(event)||stubEvent).pageX===UNDEFINED&&event.clientX+(doc.body||doc.documentElement).scrollLeft||event.pageX,pageY=event.pageY===UNDEFINED&&event.clientY+(doc.body||doc.documentElement).scrollTop||event.pageY,pos=getPosition(el);return{chartX:pageX-pos.left,chartY:pageY-pos.top,pageX:pageX,pageY:pageY}},plotEventHandler=function(chart,event,eventName){var eventType=(event=event||{}).type,coordinate=getMouseCoordinate(chart.container,event),args=extend2(coordinate,this.data("eventArgs")),fireGroupEvent=chart.logic.fireGroupEvent,id=this.data("groupId"),cancelHover=function(c,a){event.FusionChartsPreventEvent=!0,isIE&&a.toolText&&lib.toolTip&&lib.toolTip.preventTooltip()};"index"in args&&!("dataIndex"in args)&&(args.dataIndex=args.index),"value"in args&&!("dataValue"in args)&&(args.dataValue=args.value),"dataplotrollover"===(eventName=pluck(eventName,"dataplotclick").toLowerCase())?(event.FusionChartsPreventEvent=!1,fireGroupEvent?global.raiseEventGroup(id,eventName,args,chart.fusionCharts,void 0,void 0,cancelHover):global.raiseEvent(eventName,args,chart.logic.chartInstance,void 0,void 0,cancelHover)):fireGroupEvent&&"dataplotclick"!==eventName?global.raiseEventGroup(id,eventName,args,chart.fusionCharts):global.raiseEvent(eventName,args,chart.logic.chartInstance),("click"===eventType||"mouseup"===eventType&&"dataplotclick"===eventName)&&chart.linkClickFN.call({link:args.link},chart)},createElement=function(tagName,attributes,parentElement){var elem=doc.createElement(tagName),x;for(x in attributes)elem.setAttribute(x,attributes[x]);return parentElement&&parentElement.appendChild&&parentElement.appendChild(elem),elem},hashify=function(color){return color&&color.replace(/^#?([a-f0-9]+)/gi,"#$1")||"none"},getFirstDefinedValue=function(){var arg,i,l;for(i=0,l=arguments.length;i<l;i+=1)if((arg=arguments[i])||!1===arg||0===arg||arg==BLANK)return arg},pluckNumber=function(){var arg,i,l;for(i=0,l=arguments.length;i<l;i+=1)if(((arg=arguments[i])||!1===arg||0===arg)&&!isNaN(arg=Number(arg)))return arg},pluckFontSize=function(){var arg,i,l;for(i=0,l=arguments.length;i<l;i+=1)if(((arg=arguments[i])||!1===arg||0===arg)&&!isNaN(arg=Number(arg)))return arg<1?1:arg;return 1},parsePointValue=function(value,abs){return value=value||!1===value||0===value?Number(value):NaN,isNaN(value)?null:abs?mathAbs(value):value},parseUnsafeString=function(str){return typeof str===STRINGSTRING?str.replace(breakPlaceholder,BREAKSTRING):BLANK},getFirstColor=function(color){return(color=(color=color.split(COMMA)[0]).replace(stripWhitespace,BLANK))==BLANK&&(color=COLOR_BLACK),color.replace(dropHash,HASHSTRING)},getColorCodeString=function(color,fillString){var returnString="",colorEntry,len,i=0,fillArray=fillString.split(COMMA);for(len=fillArray.length;i<len;i+=1)2===(colorEntry=fillArray[i].split("-")).length?"-1"!==colorEntry[0].indexOf("dark")?returnString+=getLightColor(color,100-parseInt(colorEntry[1],10))+COMMA:returnString+=getDarkColor(color,100-parseInt(colorEntry[1],10))+COMMA:returnString+=fillArray[i]+COMMA;return returnString.substring(0,returnString.length-1)},pluckColor=function(color){if(getValidValue(color))return(color=(color=color.split(COMMA)[0]).replace(stripWhitespace,BLANK))==BLANK&&(color=COLOR_BLACK),color.replace(dropHash,HASHSTRING)},getFirstAlpha=function(alpha){return alpha=parseInt(alpha,10),(isNaN(alpha)||alpha>100||alpha<0)&&(alpha=100),alpha},arrayToStr="[object Array]",objectToStr="[object Object]",getSentenceCase=function(name){return(name=name||BLANK).charAt(0).toUpperCase()+name.substr(1)},getCrispValue=function(position,distance,borderthickness){var normalizer=borderthickness%2/2,newposition=mathRound(position+normalizer)-normalizer,newdistance;return{position:newposition,distance:mathRound(position+distance+normalizer)-normalizer-newposition}},trimString=function(str){for(var ws=/\s/,i=(str=str.replace(/^\s\s*/,"")).length;ws.test(str.charAt(i-=1)););return str.slice(0,i+1)},checkCyclicRef=function(obj,parentArr){for(var i=parentArr.length,bIndex=-1;i--;)if(obj===parentArr[i])return bIndex=i;return bIndex},isArray=function(){if(Array.isArray)return Array.isArray;var objectToStringFn=Object.prototype.toString,arrayToStringResult=objectToStringFn.call([]);return function(subject){return objectToStringFn.call(subject)===arrayToStringResult}}(),merge=function(obj1,obj2,skipUndef,tgtArr,srcArr){var item,srcVal,tgtVal,str,cRef;if(srcArr?(tgtArr.push(obj1),srcArr.push(obj2)):(tgtArr=[obj1],srcArr=[obj2]),obj2 instanceof Array)for(item=0;item<obj2.length;item+=1){try{srcVal=obj1[item],tgtVal=obj2[item]}catch(e){continue}typeof tgtVal!==OBJECTSTRING?skipUndef&&void 0===tgtVal||(obj1[item]=tgtVal):(null!==srcVal&&typeof srcVal===OBJECTSTRING||(srcVal=obj1[item]=tgtVal instanceof Array?[]:{}),-1!==(cRef=checkCyclicRef(tgtVal,srcArr))?srcVal=obj1[item]=tgtArr[cRef]:merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr))}else for(item in obj2){try{srcVal=obj1[item],tgtVal=obj2[item]}catch(e){continue}null!==tgtVal&&typeof tgtVal===OBJECTSTRING?(str=objectToStrFn.call(tgtVal))===objectToStr?(null!==srcVal&&typeof srcVal===OBJECTSTRING||(srcVal=obj1[item]={}),-1!==(cRef=checkCyclicRef(tgtVal,srcArr))?srcVal=obj1[item]=tgtArr[cRef]:merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr)):str===arrayToStr?(null!==srcVal&&srcVal instanceof Array||(srcVal=obj1[item]=[]),-1!==(cRef=checkCyclicRef(tgtVal,srcArr))?srcVal=obj1[item]=tgtArr[cRef]:merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr)):obj1[item]=tgtVal:obj1[item]=tgtVal}return obj1},extend2=function(obj1,obj2,skipUndef){return typeof obj1!==OBJECTSTRING&&typeof obj2!==OBJECTSTRING?null:typeof obj2!==OBJECTSTRING||null===obj2?obj1:(typeof obj1!==OBJECTSTRING&&(obj1=obj2 instanceof Array?[]:{}),merge(obj1,obj2,skipUndef),obj1)},clean=function(obj1,obj2){var item;if(obj2 instanceof Array)for(item=obj2.length-1;item>=0;item-=1)typeof obj2[item]!==OBJECTSTRING?!0===obj2[item]&&obj1&&obj1.splice&&obj1.splice(item,1):objectToStrFn.call(obj2[item])===objectToStrFn.call(obj1[item])&&clean(obj1[item],obj2[item]);else for(item in obj2)typeof obj2[item]!==OBJECTSTRING?!0===obj2[item]&&obj1&&obj1.splice&&obj1.splice(item,1):objectToStrFn.call(obj2[item])===objectToStrFn.call(obj1[item])&&clean(obj1[item],obj2[item]);return obj1},deltend=function(obj1,obj2){return typeof obj1!==OBJECTSTRING||typeof obj2!==OBJECTSTRING?null:(clean(obj1,obj2),obj1)},imprint=function(obj1,obj2,ignoreNull){var item;if(typeof obj1!==OBJECTSTRING||null===obj1)return obj1=obj2,obj2;if(typeof obj2!==OBJECTSTRING||null===obj2)return obj1;for(item in obj2)(void 0===obj1[item]||!ignoreNull&&null===obj1[item])&&(obj1[item]=obj2[item]);return obj1},getLinkedChartDataJSON=function(linkedDataId,FCDataObj){var linkedDataJSON={chart:{}},index,FcJSON=FCDataObj;if(linkedDataId=linkedDataId.toLowerCase(),FcJSON.linkeddata)for(index=0;index<FcJSON.linkeddata.length;index+=1)FcJSON.linkeddata[index].id.toLowerCase()===linkedDataId&&(linkedDataJSON=FcJSON.linkeddata[index].linkedchart||FcJSON.linkeddata[index].linkedmap);return linkedDataJSON},limitedEvalParser=(DOT=".",windowPropIdentifier=/^@window_/g,FUNCTION="function",function(expr,args){var pattern,tokens=expr.replace(/\[[\'\"]/g,".").replace(/[\'\"]\]/g,BLANK).replace(/\[/g,".@window_").replace(/\]/g,BLANK).split("."),obj=win,boxObj,windowProp,tokenEx=BLANK,token,l,i;for(l=tokens.length,i=0;i<l;i+=1){if(boxObj=obj,(token=tokens[i]).match(windowPropIdentifier))obj=obj[windowProp=win[token.replace(windowPropIdentifier,BLANK)]];else{if(null==obj)throw(tokenEx||token).replace(windowPropIdentifier,BLANK)+" is not defined";obj=obj[token]}tokenEx=token}!obj||typeof obj.call!==FUNCTION&&obj!==win.alert?setTimeout((function(){throw token.replace(windowPropIdentifier,BLANK)+"() is not a function"}),0):obj===win.alert?obj(args):obj.call(boxObj,args)}),secureEval=function(){var evalKey="FusionChartslinkEval"+parseInt(+new Date,10);return function(expr){try{win[evalKey]=new Function(expr),eval('window["'+evalKey+'"]();')}catch(err){setTimeout((function(){throw err}),0)}hasSVG?delete win[evalKey]:win[evalKey]=null}}(),getLinkAction=function(dataObj,chartInstance){var secureLink=function(link){return link};return function(){var chartAttrs=dataObj.chart||dataObj.map||{},unescapeLinks=pluckNumber(chartAttrs.unescapelinks,1),pointLink=getFirstValue(this.link,BLANK),pointChartLink=this.series&&this.series.chart&&this.series.chart.options&&this.series.chart.options.chart&&this.series.chart.options.chart.link||BLANK,chartLink=this.options&&this.options.chart&&this.options.chart.link||BLANK,strLink=pluck(pointLink,chartLink,pointChartLink),originalLink=strLink,dashPos,frameDetails,commaPos,linkURL,delimiter,linkType,linkedDataId,linkedData,alias,firstBreak;void 0!==strLink&&(unescapeLinks&&(strLink=win.decodeURIComponent?win.decodeURIComponent(strLink):win.unescape(strLink)),-1!==(strLink=strLink.replace(/^\s+/,BLANK).replace(/\s+$/,BLANK)).search(/^[a-z]*\s*[\-\:]\s*/i)&&(delimiter=strLink.split(/\s*[\-\:]\s*/)[0].toLowerCase(),firstBreak=delimiter.length),setTimeout((function(){switch(delimiter){case"j":strLink=strLink.replace(/^j\s*\-/i,"j-"),-1===(dashPos=strLink.indexOf("-",2))?limitedEvalParser(strLink.slice(2)):limitedEvalParser(strLink.substr(2,dashPos-2).replace(/\s/g,BLANK),strLink.slice(dashPos+1));break;case"javascript":secureEval(strLink.replace(/^javascript\s*\:/i,BLANK));break;case"n":strLink.replace(/^n\s*\-/i,"n-"),win.open(secureLink(strLink.slice(2),unescapeLinks));break;case"f":strLink=strLink.replace(/^f\s*\-/i,"f-"),-1!==(dashPos=strLink.indexOf("-",2))?(frameDetails=strLink.substr(2,dashPos-2))&&win.frames[frameDetails]?win.frames[frameDetails].location=secureLink(strLink.slice(dashPos+1),unescapeLinks):win.open(secureLink(strLink.slice(dashPos+1),unescapeLinks),frameDetails):win.open(secureLink(strLink.slice(2),unescapeLinks));break;case"p":strLink=strLink.replace(/p\s*\-/i,"p-"),dashPos=strLink.indexOf("-",2),commaPos=strLink.indexOf(COMMA,2),-1===dashPos&&(dashPos=1),linkURL=secureLink(strLink.slice(dashPos+1),unescapeLinks),win.open(linkURL,strLink.substr(2,commaPos-2),strLink.substr(commaPos+1,dashPos-commaPos-1)).focus();break;case"newchart":case"newmap":switch(":"===strLink.charAt(firstBreak)&&(dashPos=strLink.indexOf("-",firstBreak+1),alias=strLink.substring(firstBreak+1,dashPos),firstBreak=dashPos),dashPos=strLink.indexOf("-",firstBreak+1),linkType=strLink.substring(firstBreak+1,dashPos).toLowerCase()){case"xmlurl":case"jsonurl":linkedData=strLink.substring(dashPos+1,strLink.length);break;case"xml":case"json":linkedDataId=strLink.substring(dashPos+1,strLink.length),linkedData=getLinkedChartDataJSON(linkedDataId,dataObj),linkType="json"}global.raiseEvent("linkedChartInvoked",{alias:alias,linkType:linkType.toUpperCase(),data:linkedData},chartInstance);break;default:win.location.href=secureLink(strLink,unescapeLinks)}global.raiseEvent("linkClicked",{linkProvided:originalLink,linkInvoked:strLink,linkAction:delimiter&&delimiter.toLowerCase()},chartInstance)}),0))}},getAlpha=function(alpha,multiplyer){return alpha=Number(alpha),alpha=isNaN(alpha)?100:alpha,void 0!==multiplyer&&(alpha=alpha*multiplyer/100),alpha%101},parseAlpha=function(alpha,length,multiplyer){var alphaArr=alpha.split(COMMA),x;for(void 0!==multiplyer&&(multiplyer=pluckNumber(multiplyer.split(COMMA)[0])),alphaArr[0]=getAlpha(alphaArr[0],multiplyer),x=1;x<length;x+=1)alphaArr[x]=alphaArr[0]*getAlpha(alphaArr[x],multiplyer)/100;return alphaArr.join(COMMA)},convertColor=function(color,alpha,rgba){var R=0,G=0,B=0,colorStr,tempArr;if(rgba&&rgba.match(startsRGBA)&&(R=(tempArr=rgba.split(COMMA))[0].slice(tempArr[0].indexOf("(")+1),G=tempArr[1],B=tempArr[2],alpha||0===alpha||(alpha=parseInt(100*tempArr[3].slice(0,tempArr[3].indexOf(")")),10))),color)if(color.match(startsRGBA))R=(tempArr=color.split(COMMA))[0].slice(tempArr[0].indexOf("(")+1),G=tempArr[1],B=tempArr[2];else{switch((colorStr=color.replace(cleanColorCode,BLANK).split(COMMA)[0]).length){case 3:colorStr=colorStr.charAt(0)+colorStr.charAt(0)+colorStr.charAt(1)+colorStr.charAt(1)+colorStr.charAt(2)+colorStr.charAt(2);break;case 6:break;default:colorStr=(colorStr+COLOR_WHITE).slice(0,6)}R=parseInt(colorStr.slice(0,2),16),G=parseInt(colorStr.slice(2,4),16),B=parseInt(colorStr.slice(4,6),16)}return alpha||0===alpha||(alpha=100),typeof alpha===STRINGSTRING&&(alpha=alpha.split(COMMA)[0]),alpha=parseInt(alpha,10)/100,"rgba("+R+COMMA+G+COMMA+B+COMMA+alpha+")"},toRaphaelColor=(cache={},function(obj){var o=(obj=obj||this)&&obj.FCcolor||obj,colors=o.color,ratio=o.ratio,angle=o.angle,opacities=o.alpha,r=o.r,cx=o.cx,cy=o.cy,fx=o.fx,fy=o.fy,units=o.gradientUnits,x1=o.x1,y1=o.y1,x2=o.x2,y2=o.y2,opacity=1,str,i,l,color,hash;if("string"==typeof obj)return cache[hash="~"+obj]||(cache[hash]=obj.replace(/^#?([a-f0-9]{3,6})/gi,"#$1"));if(!(colors=colors||BLANK))return str;if(hash=[colors,opacities,ratio,angle,r,cx,cy,units,fx,fy,x1,x2,y1,y2].join("_").replace(/[\(\)\s,\xb0#]/g,"_"),cache[hash])return cache[hash];if(ratio=ratio&&(ratio+BLANK).split(COMMA)||[],opacities=(opacities||0===opacities)&&(opacities+BLANK).split(COMMA)||[],colors=colors.split(COMMA))if(str=BLANK,1===colors.length)color=colors[0].replace(/^#?([a-f0-9]{3,6})/gi,"$1"),str=opacities.length?"rgba("+hexToRgb(color).join(COMMA)+","+.01*toFloat(opacities[0])+")":color.replace(/^#?([a-f0-9]{3,6})/gi,"#$1");else{for(i=0,l=colors.length;i<l;i++)color=colors[i].replace(/^#?([a-f0-9]{3,6})/gi,"$1"),isNaN(ratio[i])||(ratio[i]=toFloat(ratio[i]),color+=COLON+ratio[i],isNaN(ratio[i+1])||(ratio[i+1]=toFloat(ratio[i+1])+ratio[i])),isNaN(opacities[i])||opacities[i]===BLANK||(opacity=.01*opacities[i]),colors[i]="rgba("+hexToRgb(color).join(COMMA)+","+opacity+")",isNaN(ratio[i])||(colors[i]=colors[i]+COLON+ratio[i]);str+=colors.join(HYPHEN),void 0!==r||void 0!==fx||void 0!==cx||o.radialGradient?str="xr("+[fx,fy,r,cx,cy,units].join(",")+")"+str:(str=HYPHEN+str,void 0===x1&&void 0===y1&&void 0===x2&&void 0===y2||(str="("+[x1,y1,x2,y2,units].join(",")+")"+str),void 0===angle&&(angle=0),str=360-toFloat(angle)%360+str)}return cache[hash]=str}),gradientify=function(){var attr="";return""},parseColor=function(color){return color.replace(cleanColorCode,BLANK).replace(dropHash,HASHSTRING)},getValidColor=function(color){return validhexcolor.test(parseColor(color))&&color},getDarkColor=function(color,offsetPercent){offsetPercent=offsetPercent<0||offsetPercent>100?100:offsetPercent,offsetPercent/=100,color=color.replace(cleanColorCode,BLANK);var sourceclrRGB=parseInt(color,16),R=Math.floor(sourceclrRGB/65536),G=Math.floor((sourceclrRGB-65536*R)/256),B;return(COLOR_BLACK+(R*offsetPercent<<16|G*offsetPercent<<8|(sourceclrRGB-65536*R-256*G)*offsetPercent).toString(16)).slice(-6)},getLightColor=function(color,offsetPercent){offsetPercent=offsetPercent<0||offsetPercent>100?100:offsetPercent,offsetPercent/=100,color=color.replace(cleanColorCode,BLANK);var sourceclrRGB=parseInt(color,16),R=Math.floor(sourceclrRGB/65536),G=Math.floor((sourceclrRGB-65536*R)/256),B;return(COLOR_BLACK+(256-(256-R)*offsetPercent<<16|256-(256-G)*offsetPercent<<8|256-(256-(sourceclrRGB-65536*R-256*G))*offsetPercent).toString(16)).slice(-6)},HSBtoRGB=function(hsb){var h=hsb[0],s,v,r=0,g=0,b=0,rgb=[],tempS=hsb[1]/100,tempV=hsb[2]/100,hi=Math.floor(h/60)%6,f=h/60-Math.floor(h/60),p=tempV*(1-tempS),q=tempV*(1-f*tempS),t=tempV*(1-(1-f)*tempS);switch(hi){case 0:r=tempV,g=t,b=p;break;case 1:r=q,g=tempV,b=p;break;case 2:r=p,g=tempV,b=t;break;case 3:r=p,g=q,b=tempV;break;case 4:r=t,g=p,b=tempV;break;case 5:r=tempV,g=p,b=q}return rgb=[mathRound(255*r),mathRound(255*g),mathRound(255*b)]},RGBtoHSB=function(rgb){var r=rgb[0],g=rgb[1],b=rgb[2],max=Math.max(Math.max(r,g),b),min=Math.min(Math.min(r,g),b),hue=0,saturation=0;return max==min?hue=0:max==r?hue=(60*(g-b)/(max-min)+360)%360:max==g?hue=60*(b-r)/(max-min)+120:max==b&&(hue=60*(r-g)/(max-min)+240),saturation=0===max?0:(max-min)/max,[mathRound(hue),mathRound(100*saturation),mathRound(max/255*100)]},RGBtoHex=function(rgb){return(COLOR_BLACK+(rgb[0]<<16|rgb[1]<<8|rgb[2]).toString(16)).slice(-6)},hexToRgb=function(sourceColor){var sourceClrRGB=parseInt(sourceColor,16),r=Math.floor(sourceClrRGB/65536),g=Math.floor((sourceClrRGB-65536*r)/256),b;return[r,g,Math.floor(sourceClrRGB-65536*r-256*g)]},symbolStr={circle:"circle",triangle:"triangle",square:"square",diamond:"diamond",poly:"poly_",spoke:"spoke_"},mapSymbolName=function(num,isSpoke){var x=symbolStr.circle;return(num=parsePointValue(num))>=3&&(x=(isSpoke?symbolStr.spoke:symbolStr.poly)+num),x},getAngle=function(width,height,type){var angle=180*Math.atan(height/width)/Math.PI;return 2==type?angle=180-angle:3==type?angle+=180:4==type&&(angle=360-angle),angle},getColumnColor=function(setColor,setAlpha,ratio,angle,isRoundEdges,bdColor,bdAlpha,isBar,is3d){var bgColor,borderColor,colorArr,alphaArr,bdColorArr,color,alpha,bdAlphaArr;return colorArr=setColor.split(COMMA),alphaArr=setAlpha.split(COMMA),bdColorArr=bdColor.split(COMMA),bdAlphaArr=bdAlpha.split(COMMA),setColor=setColor.replace(/\s/g,BLANK).replace(/\,$/,BLANK),is3d?bgColor={FCcolor:{color:colorArr[0],alpha:alphaArr[0]}}:isRoundEdges?(color=colorArr[0],alpha=alphaArr[0],bgColor={FCcolor:{color:getDarkColor(color,75)+COMMA+getLightColor(color,10)+COMMA+getDarkColor(color,90)+COMMA+getLightColor(color,55)+COMMA+getDarkColor(color,80),alpha:alpha+COMMA+alpha+COMMA+alpha+COMMA+alpha+COMMA+alpha,ratio:"0,11,14,57,18",angle:isBar?"90":"0"}},bdColorArr=[getDarkColor(color,70)]):bgColor={FCcolor:{color:setColor,alpha:setAlpha=parseAlpha(setAlpha,colorArr.length),ratio:ratio,angle:isBar?-angle:angle}},[bgColor,borderColor={FCcolor:{color:bdColorArr[0],alpha:bdAlphaArr[0]}}]},toPrecision=function(obj,value){var tenPow=mathPow(10,value);return mathRound(obj*tenPow)/tenPow},supportedStyle={font:"font",fontFamily:"font-family","font-family":"font-family",fontWeight:"font-weight","font-weight":"font-weight",fontSize:"font-size","font-size":"font-size",lineHeight:"line-height","line-height":"line-height",textDecoration:"text-decoration","text-decoration":"text-decoration",color:"color",whiteSpace:"white-space","white-space":"white-space",padding:"padding",margin:"margin",background:"background",backgroundColor:"background-color","background-color":"background-color",backgroundImage:"background-image","background-image":"background-image",backgroundPosition:"background-position","background-position":"background-position",backgroundPositionLeft:"background-position-left","background-position-left":"background-position-left",backgroundPositionTop:"background-position-top","background-position-top":"background-position-top",backgroundRepeat:"background-repeat","background-repeat":"background-repeat",border:"border",borderColor:"border-color","border-color":"border-color",borderStyle:"border-style","border-style":"border-style",borderThickness:"border-thickness","border-thickness":"border-thickness",borderTop:"border-top","border-top":"border-top",borderTopColor:"border-top-color","border-top-color":"border-top-color",borderTopStyle:"border-top-style","border-top-style":"border-top-style",borderTopThickness:"border-top-thickness","border-top-thickness":"border-top-thickness",borderRight:"border-right","border-right":"border-right",borderRightColor:"border-right-color","border-right-color":"border-right-color",borderRightStyle:"border-right-style","border-right-style":"border-right-style",borderRightThickness:"border-right-thickness","border-right-thickness":"border-right-thickness",borderBottom:"border-bottom","border-bottom":"border-bottom",borderBottomColor:"border-bottom-color","border-bottom-color":"border-bottom-color",borderBottomStyle:"border-bottom-style","border-bottom-style":"border-bottom-style",borderBottomThickness:"border-bottom-thickness","border-bottom-thickness":"border-bottom-thickness",borderLeft:"border-left","border-left":"border-left",borderLeftColor:"border-left-color","border-left-color":"border-left-color",borderLeftStyle:"border-left-style","border-left-Style":"border-left-style",borderLeftThickness:"border-left-thickness","border-left-thickness":"border-left-thickness"},setLineHeight=function(styleObj,baseFontSize){return"object"!=typeof styleObj?BLANK:(styleObj.lineHeight||styleObj["line-height"]?!styleObj.lineHeight&&styleObj["line-height"]&&(styleObj.lineHeight=styleObj["line-height"],delete styleObj["line-height"]):(!styleObj.fontSize&&styleObj["font-size"]&&(styleObj.fontSize=styleObj["font-size"],delete styleObj["font-size"]),styleObj.lineHeight=(parseFloat(styleObj.fontSize)||baseFontSize||10)*lib.lineHeightFactor+"px"),styleObj.lineHeight)},setImageDisplayMode=function(bgImageDisplayMode,bgImageVAlign,bgImageHAlign,bgImageScale,chartBorderWidth,chartWidth,chartHeight,imageEle){var imageWidth=imageEle.width*(bgImageScale/100),imageHeight=imageEle.height*(bgImageScale/100),alignImage={},imgAspectRatio,cAspectRatio,scaleFactor,xCount,yCount,cWidth=chartWidth-2*chartBorderWidth,cHeight=chartHeight-2*chartBorderWidth,alignObj,getImageAlignment=function(bgImageVAlign,bgImageHAlign,imageWidth,imageHeight,chartWidth,chartHeight){var alignObj={};switch(bgImageVAlign){case"top":alignObj.y=chartBorderWidth;break;case"bottom":alignObj.y=chartHeight-imageHeight-chartBorderWidth;break;case"middle":alignObj.y=(chartHeight-imageHeight)/2}switch(bgImageHAlign){case"left":alignObj.x=chartBorderWidth;break;case"right":alignObj.x=chartWidth-imageWidth-chartBorderWidth;break;case"middle":alignObj.x=(chartWidth-imageWidth)/2}return alignObj};switch(bgImageDisplayMode){case"center":alignImage.width=imageWidth,alignImage.height=imageHeight,alignImage.y=chartHeight/2-imageHeight/2,alignImage.x=chartWidth/2-imageWidth/2;break;case"stretch":alignImage.width=chartWidth-2*chartBorderWidth,alignImage.height=chartHeight-2*chartBorderWidth,alignImage.y=chartBorderWidth,alignImage.x=chartBorderWidth;break;case"tile":alignImage.width=imageWidth,alignImage.height=imageHeight,alignImage.tileInfo={},alignImage.tileInfo.xCount=xCount=Math.ceil(cWidth/imageWidth),alignImage.tileInfo.yCount=yCount=Math.ceil(cHeight/imageHeight),alignObj=getImageAlignment(bgImageVAlign,bgImageHAlign,imageWidth*xCount,imageHeight*yCount,chartWidth,chartHeight),alignImage.y=alignObj.y,alignImage.x=alignObj.x;break;case"fit":scaleFactor=(imgAspectRatio=imageWidth/imageHeight)>(cAspectRatio=cWidth/cHeight)?cWidth/imageWidth:cHeight/imageHeight,alignImage.width=imageWidth*scaleFactor,alignImage.height=imageHeight*scaleFactor,alignObj=getImageAlignment(bgImageVAlign,bgImageHAlign,alignImage.width,alignImage.height,chartWidth,chartHeight),alignImage.y=alignObj.y,alignImage.x=alignObj.x;break;case"fill":scaleFactor=(imgAspectRatio=imageWidth/imageHeight)>(cAspectRatio=cWidth/cHeight)?cHeight/imageHeight:cWidth/imageWidth,alignImage.width=imageWidth*scaleFactor,alignImage.height=imageHeight*scaleFactor,alignObj=getImageAlignment(bgImageVAlign,bgImageHAlign,alignImage.width,alignImage.height,chartWidth,chartHeight),alignImage.y=alignObj.y,alignImage.x=alignObj.x;break;default:alignObj=getImageAlignment(bgImageVAlign,bgImageHAlign,imageWidth,imageHeight,chartWidth,chartHeight),alignImage.width=imageWidth,alignImage.height=imageHeight,alignImage.y=alignObj.y,alignImage.x=alignObj.x}return alignImage},axisLabelAdder=(TEXTPOSITION={top:{align:"center",verticalAlign:"top",textAlign:"center"},right:{align:"right",verticalAlign:"middle",textAlign:"left"},bottom:{align:"center",verticalAlign:"bottom",textAlign:"center"},left:{align:"left",verticalAlign:"middle",textAlign:"right"}},alphaRetriveRegx=/([^\,^\s]+)\)$/g,labelAdder=function(defaultSeries,FCchartObj){var labelStep;/^(bar|bar3d)$/.test(defaultSeries)&&(this.isBar=!0,this.yPos="bottom",this.yOppPos="top",this.xPos="left",this.xOppPos="right"),labelStep=parseInt(FCchartObj.labelstep,10),this.labelStep=labelStep>1?labelStep:1,this.showLabel=pluckNumber(FCchartObj.showlabels,FCchartObj.shownames,1),this.is3D=/3d$/.test(defaultSeries)},(labelAdder.prototype={isBar:!1,yPos:"left",yOppPos:"right",xPos:"bottom",xOppPos:"top",addAxisGridLine:function(axisObj,value,text,width,dashStyle,lineColor,zIndex,isXxis){var hasText=""!==text,hasVisibleLine=width>0||lineColor.match(alphaRetriveRegx)[1]>0,axisPos,textAttrs,gridLine;return(hasText||hasVisibleLine)&&(hasVisibleLine||(lineColor=COLOR_TRANSPARENT,width=.1),gridLine={isGrid:!0,width:width,dashStyle:dashStyle,color:lineColor,value:value,zIndex:void 0===zIndex?2:zIndex},hasText&&(axisPos=axisObj.opposite?isXxis?this.xOppPos:this.yOppPos:isXxis?this.xPos:this.yPos,textAttrs=TEXTPOSITION[axisPos],gridLine.label={text:text,style:axisObj.labels.style,textAlign:textAttrs.textAlign,align:textAttrs.align,verticalAlign:textAttrs.verticalAlign,rotation:0,x:0,y:0}),axisObj.plotLines.push(gridLine)),gridLine},addAxisAltGrid:function(axisObj,currentValue){if(!this.is3D){var lastValue=pluckNumber(axisObj._lastValue,axisObj.min),altGrid=pluck(axisObj._altGrid,!1);altGrid&&axisObj.plotBands.push({isGrid:!0,color:axisObj.alternateGridColor,to:currentValue,from:lastValue,zIndex:1}),axisObj._lastValue=currentValue,axisObj._altGrid=!altGrid}},addXaxisCat:function(axisObj,value,index,label){var axisPosition=axisObj.opposite?this.xOppPos:this.xPos,textAttrs=TEXTPOSITION[axisPosition],gridLine={isGrid:!0,width:.1,color:COLOR_TRANSPARENT,value:value,label:{text:label,style:axisObj.labels.style,textAlign:textAttrs.textAlign,align:textAttrs.align,verticalAlign:textAttrs.verticalAlign,rotation:0,x:0,y:0}};index%this.labelStep!=0&&(gridLine.stepped=!0,gridLine.label.style=axisObj.steppedLabels.style),axisObj.plotLines.push(gridLine)},addVline:function(axisObj,dataObj,index,hcObj){var conf=hcObj[FC_CONFIG_STRING],isBar=conf.isBar,divlineStyle=conf.divlineStyle,label=parseUnsafeString(dataObj.label),showLabelBorder=Boolean(pluckNumber(dataObj.showlabelborder,conf.showVLineLabelBorder,1)),showLabelBackground=Boolean(pluckNumber(dataObj.showlabelbackground,1)),labelHAlign=pluck(dataObj.labelhalign,isBar?POSITION_LEFT:POSITION_CENTER),labelVAlign=pluck(dataObj.labelvalign,isBar?POSITION_MIDDLE:POSITION_BOTTOM).toLowerCase(),labelPosition=pluckNumber(dataObj.labelposition,0),linePosition=pluckNumber(dataObj.lineposition,.5),showVLines=pluckNumber(dataObj.showvlines,conf.showVLines,1),alpha=pluckNumber(dataObj.alpha,conf.vLineAlpha,80),color=pluck(dataObj.color,conf.vLineColor).replace(/^#?/,"#"),bgColor=showLabelBackground?pluck(dataObj.labelbgcolor,conf.vLineLabelBgColor,"333333").replace(/^#?/,"#"):BLANK,labelColor=pluck(dataObj.labelcolor,conf.vLineLabelColor,dataObj.color,conf.vLineColor).replace(/^#?/,"#"),thickness=pluckNumber(dataObj.thickness,conf.vLineThickness,1),halfThickness=.5*thickness,isDashed=Boolean(Number(pluck(dataObj.dashed,0))),dashLen=pluckNumber(dataObj.dashlen,5),dashGap=pluckNumber(dataObj.dashgap,2),smartLabel=conf.smartLabel,fontSizeInt,y=parseInt(divlineStyle.fontSize,10)+2,x=0,smartText,labelRotation=pluckNumber(dataObj.rotatelabel,conf.rotateVLineLabels)?270:0;if(linePosition=linePosition<0||linePosition>1?.5:linePosition,labelPosition=labelPosition<0||labelPosition>1?0:labelPosition,smartLabel.setStyle(divlineStyle),smartText=smartLabel.getOriSize(label),color=convertColor(color,showVLines?alpha:"0"),isBar){switch(labelVAlign){case POSITION_TOP:y-=smartText.height+halfThickness+2;break;case POSITION_MIDDLE:y-=.5*smartText.height+1;break;default:y+=halfThickness}dataObj.labelhalign||(x-=smartText.width*labelPosition)}else{switch(labelVAlign){case POSITION_TOP:y=.5*-smartText.height+1;break;case POSITION_MIDDLE:y=0;break;default:y=.5*smartText.height}switch(labelHAlign){case POSITION_LEFT:x+=thickness;break;case POSITION_RIGHT:x-=thickness+1}}axisObj.plotLines.push({isVline:!0,color:color,width:thickness,value:index-1+linePosition,zIndex:pluckNumber(dataObj.showontop,conf.showVLinesOnTop)?5:3,dashStyle:isDashed?getDashStyle(dashLen,dashGap,thickness):void 0,label:{text:label,align:isBar?POSITION_LEFT:POSITION_CENTER,offsetScale:labelPosition,rotation:labelRotation,y:y,x:x,textAlign:labelHAlign,backgroundColor:bgColor,borderWidth:showVLines&&showLabelBorder?"1px":BLANK,borderType:showVLines&&showLabelBorder?"solid":BLANK,borderColor:showVLines&&showLabelBorder?labelColor:BLANK,backgroundOpacity:showVLines&&showLabelBackground?pluck(dataObj.labelbgalpha,conf.vLineLabelBgAlpha)/100:0,style:{color:showVLines?labelColor:color,fontSize:divlineStyle.fontSize,fontFamily:divlineStyle.fontFamily,lineHeight:divlineStyle.lineHeight,backgroundColor:bgColor}}})}}).constructor=labelAdder,labelAdder),getAxisLimits=(getDivisibleRange=function(yMin,yMax,numDivLines,interval,interceptRange){var range=Math.abs(yMax-yMin),rangeDiv=range/(numDivLines+1),checkLimit;return isRangeDivisible(range,numDivLines,interval)||(interceptRange&&(checkLimit=interval>1?2:.5,Number(rangeDiv)/Number(interval)<checkLimit&&(interval/=10)),range=(rangeDiv=(Math.floor(rangeDiv/interval)+1)*interval)*(numDivLines+1)),range},isRangeDivisible=function(range,numDivLines,interval){var rangeDiv;return!(numDecimals(range/(numDivLines+1))>numDecimals(interval))},numDecimals=function(num){num=Math.abs(num);var strNum=String(num),decimals=0,dotPos=strNum.indexOf(DECIMALSTRING);return-1!=dotPos&&(decimals=strNum.length-dotPos-1),decimals},function(maxValue,minValue,yAxisMaxValue,yAxisMinValue,stopMaxAtZero,setMinAsZero,numDivLines,adjustDiv){var yMaxGiven,yMinGiven,yMax,yMin,range,interval,maxPowerOfTen,minPowerOfTen,powerOfTen,yInterval,rangePowerOfTen,rangeInterval,yTopBound,yLowerBound,deltaRange,found,adjInterval,rangeD,nextRange,rangeDiv,mf,smallArm,extSmallArm,i,adjRange,counter,multiplyFactor,divLines,bigArm,divInterval,extBigArm;if((maxValue=!0===isNaN(maxValue)||void 0===maxValue?.1:maxValue)===(minValue=!0===isNaN(minValue)||void 0===minValue?0:minValue)&&0===maxValue&&(maxValue=.1),stopMaxAtZero=void 0===typeof stopMaxAtZero||stopMaxAtZero,setMinAsZero=void 0===typeof setMinAsZero||setMinAsZero,maxPowerOfTen=Math.floor(Math.log(Math.abs(maxValue))/Math.LN10),minPowerOfTen=Math.floor(Math.log(Math.abs(minValue))/Math.LN10),powerOfTen=Math.max(minPowerOfTen,maxPowerOfTen),yInterval=Math.pow(10,powerOfTen),Math.abs(maxValue)/yInterval<2&&Math.abs(minValue)/yInterval<2&&(powerOfTen--,yInterval=Math.pow(10,powerOfTen)),rangePowerOfTen=Math.floor(Math.log(maxValue-minValue)/Math.LN10),rangeInterval=Math.pow(10,rangePowerOfTen),maxValue-minValue>0&&yInterval/rangeInterval>=10&&(yInterval=rangeInterval,powerOfTen=rangePowerOfTen),yTopBound=(Math.floor(maxValue/yInterval)+1)*yInterval,yLowerBound=minValue<0?(Math.floor(Math.abs(minValue/yInterval))+1)*yInterval*-1:setMinAsZero?0:(yLowerBound=Math.floor(Math.abs(minValue/yInterval)-1)*yInterval)<0?0:yLowerBound,stopMaxAtZero&&maxValue<=0&&(yTopBound=0),yMinGiven=!(!yAxisMinValue&&0!==yAxisMinValue),yMax=!1==(yMaxGiven=!(!yAxisMaxValue&&0!==yAxisMaxValue))||!0===yMaxGiven&&Number(yAxisMaxValue)<maxValue&&maxValue-Number(yAxisMaxValue)>EPSILON?yTopBound:Number(yAxisMaxValue),yMin=!1===yMinGiven||!0===yMinGiven&&Number(yAxisMinValue)>minValue&&Number(yAxisMinValue)-minValue>EPSILON?yLowerBound:Number(yAxisMinValue),range=Math.abs(yMax-yMin),interval=yInterval,!1===yMinGiven&&!1===yMaxGiven&&adjustDiv)if(yMax>0&&yMin<0){for(found=!1,nextRange=(rangeD=getDivisibleRange(yMin,yMax,numDivLines,adjInterval=interval>10?interval/10:interval,!1))-(numDivLines+1)*adjInterval;!1===found;)if(isRangeDivisible(nextRange+=(numDivLines+1)*adjInterval,numDivLines,adjInterval))if(deltaRange=nextRange-range,rangeDiv=nextRange/(numDivLines+1),bigArm=range-(smallArm=Math.min(Math.abs(yMin),yMax)),mf=smallArm==Math.abs(yMin)?-1:1,0===numDivLines)found=!0;else for(i=1;i<=Math.floor((numDivLines+1)/2);i++)(extSmallArm=rangeDiv*i)-smallArm>deltaRange||extSmallArm>smallArm&&(extBigArm=nextRange-extSmallArm)/rangeDiv==Math.floor(extBigArm/rangeDiv)&&extSmallArm/rangeDiv==Math.floor(extSmallArm/rangeDiv)&&(range=nextRange,yMax=-1==mf?extBigArm:extSmallArm,yMin=-1==mf?-extSmallArm:-extBigArm,found=!0)}else deltaRange=(adjRange=getDivisibleRange(yMin,yMax,numDivLines,interval,!0))-range,range=adjRange,yMax>0?yMax+=deltaRange:yMin-=deltaRange;else if(adjustDiv&&numDivLines>0){for(counter=0,multiplyFactor=1;!isRangeDivisible(range,divLines=0===(divLines=numDivLines+counter*multiplyFactor)?1:divLines,interval);){if((counter=-1==multiplyFactor||counter>numDivLines?++counter:counter)>25){divLines=0;break}multiplyFactor=counter<=numDivLines?-1*multiplyFactor:1}numDivLines=divLines}return{Max:yMax,Min:yMin,Range:range,interval:interval,divGap:divInterval=divInterval=(yMax-yMin)/(numDivLines+1)}}),createDialog=(api=function(container,text,chartObj){var smartLabel=chartObj.jsVars&&chartObj.jsVars.smartLabel,chartWidth=container.offsetWidth,chartHeight=container.offsetHeight,smartText;this.title.y=chartHeight/2,this.title.x=chartWidth/2,void 0!==text&&(smartLabel?(setLineHeight(this.title.style),smartLabel.setStyle(this.title.style),smartText=smartLabel.getSmartText(parseUnsafeString(text),chartWidth,chartHeight),this.title.text=smartText.text):this.title.text=parseUnsafeString(text),this.title.verticalAlign="middle")},(api.prototype={chart:{events:{},margin:[0,0,0,0],backgroundColor:{FCcolor:{alpha:0}}},credits:{href:CREDIT_HREF,text:CREDIT_STRING,enabled:creditLabel},legend:{enabled:!1},title:{text:"",style:{fontFamily:"Verdana,sans",fontSize:"10px",color:"#666666"}},plotOptions:{series:{}},series:[{}],exporting:{enabled:!1},nativeMessage:!0}).constructor=api),trendLineLabelPositionHoriz={true:{true:{true:POSITION_CENTER,false:POSITION_CENTER},false:{true:POSITION_CENTER,false:POSITION_CENTER}},false:{true:{true:POSITION_RIGHT,false:POSITION_LEFT},false:{true:POSITION_LEFT,false:POSITION_RIGHT}}},createTrendLine=function(trendObj,axis,hcConf,isDY,isBar,isVtrend,isInverse){var x,trendStyle=hcConf.trendStyle,z,l,m,trendLineObj,isOpp,isZone,displayvalue,trendLabelObj,toolText,labelColor,axisObj,width,trendStartValue,trendEndValue,slopeDirection,slopeDirectionHoriz,max,min,axisIndex,trendLines,NFMethodName=isVtrend?"xAxis":"dataLabels";if(isVtrend?hcConf.showVLines:hcConf.showTrendlines)for(x=0,l=trendObj.length;x<l;x+=1)if((trendLines=trendObj[x])&&trendLines.line)for(z=0,m=trendLines.line.length;z<m;z+=1)trendLineObj=trendLines.line[z],trendStartValue=hcConf.numberFormatter.getCleanValue(pluck(trendLineObj.startvalue,trendLineObj.value,0)),trendEndValue=hcConf.numberFormatter.getCleanValue(pluck(trendLineObj.endvalue,pluck(trendLineObj.startvalue,trendLineObj.value,0))),isVtrend?axisObj=axis:isDY&&trendLineObj.parentyaxis&&/^s$/i.test(trendLineObj.parentyaxis)?(axisObj=axis[1],axisIndex=1):axisObj=axis[0],max=axisObj.max,min=axisObj.min,isOpp=!1,max>=trendStartValue&&max>=trendEndValue&&min<=trendStartValue&&min<=trendEndValue&&(isDY&&trendLineObj.parentyaxis&&/^s$/i.test(trendLineObj.parentyaxis)?isOpp=pluck(trendLineObj.valueonleft,hcConf.trendlineValuesOnOpp)!==ONESTRING:isDY||(isOpp=pluck(trendLineObj.valueonright,hcConf.trendlineValuesOnOpp)===ONESTRING),isZone=Boolean(pluckNumber(trendLineObj.istrendzone,isVtrend?1:0)),(displayvalue=(isVtrend?hcConf.showVLineLabels:hcConf.showTrendlineLabels)?parseUnsafeString(pluck(trendLineObj.displayvalue,hcConf.numberFormatter[NFMethodName](isOpp?trendEndValue:trendStartValue,axisIndex))):BLANK)?(slopeDirection=trendStartValue>trendEndValue,slopeDirectionHoriz=trendStartValue<trendEndValue,trendLabelObj={text:displayvalue,textAlign:isBar?POSITION_CENTER:isOpp?POSITION_LEFT:POSITION_RIGHT,align:isBar?trendLineLabelPositionHoriz[isZone][!isInverse][slopeDirectionHoriz]:isOpp?POSITION_RIGHT:POSITION_LEFT,verticalAlign:isBar?POSITION_BOTTOM:POSITION_MIDDLE,rotation:0,x:0,y:0,style:trendStyle},labelColor=pluck(trendLineObj.color,hcConf.trendlineColor),trendLineObj.alwaysVisible=isZone,labelColor&&(trendLabelObj.style=extend2({},trendStyle),trendLabelObj.style.color=labelColor.replace(dropHash,HASHSTRING))):trendLabelObj=void 0,toolText=getValidValue(parseUnsafeString(pluck(trendLineObj.tooltext,trendLines.tooltext,hcConf.trendLineToolText))),toolText=parseTooltext(toolText,[7,15,16,17,18,19],{startValue:trendStartValue,startDataValue:hcConf.numberFormatter[NFMethodName](trendStartValue,axisIndex),endValue:trendEndValue,endDataValue:hcConf.numberFormatter[NFMethodName](trendEndValue,axisIndex),axisName:axisObj.title&&axisObj.title.text},trendLineObj),width=pluckNumber(trendLineObj.thickness,hcConf.trendlineThickness,1),isZone?axisObj.plotBands.push({isTrend:!0,color:convertColor(pluck(trendLineObj.color,hcConf.trendlineColor),pluck(trendLineObj.alpha,hcConf.trendlineAlpha,40)),from:trendStartValue,to:trendEndValue,label:trendLabelObj,zIndex:hcConf.is3d||pluck(trendLineObj.showontop,hcConf.showTrendlinesOnTop)!==ONESTRING?3:5,tooltext:toolText,alwaysVisible:trendLineObj.alwaysVisible}):axisObj.plotLines.push({isTrend:!0,color:convertColor(pluck(trendLineObj.color,hcConf.trendlineColor,hcConf.trendlineColor),pluck(trendLineObj.alpha,hcConf.trendlineAlpha,99)),value:trendStartValue,to:trendEndValue,width:width,dashStyle:pluck(trendLineObj.dashed,hcConf.trendlinesAreDashed)==ONESTRING?getDashStyle(pluckNumber(trendLineObj.dashlen,hcConf.trendlinesDashLen),pluckNumber(trendLineObj.dashgap,hcConf.trendlinesDashGap),width):void 0,label:trendLabelObj,zIndex:hcConf.is3d||pluck(trendLineObj.showontop,hcConf.showTrendlinesOnTop)!==ONESTRING?3:5,tooltext:toolText}))},getDashStyle=function(len,gap,thickness,apply){return apply||void 0===apply?[len,gap]:BLANK},ChartAPIItem=function(){},chartAPI=function(type,api,parent){var item,typeAPI=chartAPI[type],ExtensibleTypeObject,IAPIInterface;for(item in typeAPI||(((IAPIInterface=function(){}).prototype=parent instanceof ChartAPIItem?parent:new ChartAPIItem).constructor=IAPIInterface,typeAPI=chartAPI[type]=new IAPIInterface),parent&&(typeAPI.base=parent),typeAPI.name=type,api)switch(typeof api[item]){case OBJECTSTRING:if(api[item]instanceof ChartAPIItem){typeAPI[item]=api[item][item];break}default:typeAPI[item]=api[item];break;case STRINGUNDEFINED:delete typeAPI[item]}return this instanceof chartAPI?(((ExtensibleTypeObject=function(){}).prototype=typeAPI).constructor=ExtensibleTypeObject,new ExtensibleTypeObject):typeAPI},parseTooltext=function(){var macroList=[{regex:/((^|[^\\])((\\)\\)*\$cleanvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$cleanvalue))/gi,argIndex:2,argKey:"cleanvalue"},{regex:/((^|[^\\])((\\)\\)*\$datavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$datavalue))/gi,argIndex:2,argKey:"formattedValue"},{regex:/((^|[^\\])((\\)\\)*\$value)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$value))/gi,argIndex:3,argKey:"value"},{regex:/((^|[^\\])((\\)\\)*\$label)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$label))/gi,argIndex:2,argKey:"label"},{regex:/((^|[^\\])((\\)\\)*\$seriesname)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$seriesname))/gi,argIndex:5,argKey:"seriesname"},{regex:/((^|[^\\])((\\)\\)*\$yaxisname)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$yaxisname))/gi,argIndex:2,argKey:"yaxisName"},{regex:/((^|[^\\])((\\)\\)*\$xaxisname)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$xaxisname))/gi,argIndex:2,argKey:"xaxisName"},{regex:/((^|[^\\])((\\)\\)*\$displayvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$displayvalue))/gi,argIndex:3,argKey:"displayvalue"},{regex:/((^|[^\\])((\\)\\)*\$xdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$xdatavalue))/gi,argIndex:2,argKey:"xDataValue"},{regex:/((^|[^\\])((\\)\\)*\$ydatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$ydatavalue))/gi,argIndex:2,argKey:"yDataValue"},{regex:/((^|[^\\])((\\)\\)*\$xvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$xvalue))/gi,argIndex:3,argKey:"x"},{regex:/((^|[^\\])((\\)\\)*\$yvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$yvalue))/gi,argIndex:3,argKey:"y"},{regex:/((^|[^\\])((\\)\\)*\$zvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$zvalue))/gi,argIndex:3,argKey:"z"},{regex:/((^|[^\\])((\\)\\)*\$name)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$name))/gi,argIndex:3,argKey:"name"},{regex:/((^|[^\\])((\\)\\)*\$percentValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$percentValue))/gi,argIndex:2,argKey:"percentValue"},{regex:/((^|[^\\])((\\)\\)*\$startValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$startValue))/gi,argIndex:2,argKey:"startValue"},{regex:/((^|[^\\])((\\)\\)*\$startDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$startDataValue))/gi,argIndex:2,argKey:"startDataValue"},{regex:/((^|[^\\])((\\)\\)*\$endValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$endValue))/gi,argIndex:2,argKey:"endValue"},{regex:/((^|[^\\])((\\)\\)*\$endDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$endDataValue))/gi,argIndex:2,argKey:"endDataValue"},{regex:/((^|[^\\])((\\)\\)*\$axisName)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$axisName))/gi,argIndex:2,argKey:"axisName"},{regex:/((^|[^\\])((\\)\\)*\$cumulativevalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$cumulativevalue))/gi,argIndex:2,argKey:"cumulativeValue"},{regex:/((^|[^\\])((\\)\\)*\$cumulativedatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$cumulativedatavalue))/gi,argIndex:2,argKey:"cumulativeDataValue"},{regex:/((^|[^\\])((\\)\\)*\$cumulativePercentValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$cumulativePercentValue))/gi,argIndex:2,argKey:"cumulativePercentValue"},{regex:/((^|[^\\])((\\)\\)*\$cumulativepercentdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$cumulativepercentdatavalue))/gi,argIndex:2,argKey:"cumulativePercentDataValue"},{regex:/((^|[^\\])((\\)\\)*\$sum)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$sum))/gi,argIndex:2,argKey:"sum"},{regex:/((^|[^\\])((\\)\\)*\$unformattedsum)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$unformattedsum))/gi,argIndex:2,argKey:"unformattedSum"},{regex:/((^|[^\\])((\\)\\)*\$targetvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$targetvalue))/gi,argIndex:2,argKey:"targetValue"},{regex:/((^|[^\\])((\\)\\)*\$targetdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$targetdatavalue))/gi,argIndex:2,argKey:"targetDataValue"},{regex:/((^|[^\\])((\\)\\)*\$processname)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$processname))/gi,argIndex:2,argKey:"processName"},{regex:/((^|[^\\])((\\)\\)*\$start)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$start))/gi,argIndex:2,argKey:"start"},{regex:/((^|[^\\])((\\)\\)*\$end)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$end))/gi,argIndex:2,argKey:"end"},{regex:/((^|[^\\])((\\)\\)*\$percentcomplete)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$percentcomplete))/gi,argIndex:2,argKey:"percentComplete"},{regex:/((^|[^\\])((\\)\\)*\$taskpercentcomplete)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$taskpercentcomplete))/gi,argIndex:2,argKey:"taskPercentComplete"},{regex:/((^|[^\\])((\\)\\)*\$taskstartdate)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$taskstartdate))/gi,argIndex:2,argKey:"taskStartDate"},{regex:/((^|[^\\])((\\)\\)*\$taskenddate)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$taskenddate))/gi,argIndex:2,argKey:"taskEndDate"},{regex:/((^|[^\\])((\\)\\)*\$tasklabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$tasklabel))/gi,argIndex:2,argKey:"taskLabel"},{regex:/((^|[^\\])((\\)\\)*\$date)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$date))/gi,argIndex:2,argKey:"date"},{regex:/((^|[^\\])((\\)\\)*\$percentofprevvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$percentofprevvalue))/gi,argIndex:2,argKey:"percentOfPrevValue"},{regex:/((^|[^\\])((\\)\\)*\$sname)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$sname))/gi,argIndex:2,argKey:"sName"},{regex:/((^|[^\\])((\\)\\)*\$lname)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$lname))/gi,argIndex:2,argKey:"lName"},{regex:/((^|[^\\])((\\)\\)*\$fromid)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromid))/gi,argIndex:2,argKey:"fromId"},{regex:/((^|[^\\])((\\)\\)*\$fromlabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromlabel))/gi,argIndex:2,argKey:"fromLabel"},{regex:/((^|[^\\])((\\)\\)*\$toid)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toid))/gi,argIndex:2,argKey:"toId"},{regex:/((^|[^\\])((\\)\\)*\$tolabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$tolabel))/gi,argIndex:2,argKey:"toLabel"},{regex:/((^|[^\\])((\\)\\)*\$fromxvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromxvalue))/gi,argIndex:2,argKey:"fromXValue"},{regex:/((^|[^\\])((\\)\\)*\$fromyvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromyvalue))/gi,argIndex:2,argKey:"fromYValue"},{regex:/((^|[^\\])((\\)\\)*\$fromxdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromxdatavalue))/gi,argIndex:2,argKey:"fromXDataValue"},{regex:/((^|[^\\])((\\)\\)*\$fromydatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromydatavalue))/gi,argIndex:2,argKey:"fromYDataValue"},{regex:/((^|[^\\])((\\)\\)*\$fromlabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromlabel))/gi,argIndex:2,argKey:"fromLabel"},{regex:/((^|[^\\])((\\)\\)*\$toxvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toxvalue))/gi,argIndex:2,argKey:"toXValue"},{regex:/((^|[^\\])((\\)\\)*\$toyvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toyvalue))/gi,argIndex:2,argKey:"toYValue"},{regex:/((^|[^\\])((\\)\\)*\$toxdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toxdatavalue))/gi,argIndex:2,argKey:"toXDataValue"},{regex:/((^|[^\\])((\\)\\)*\$toydatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toydatavalue))/gi,argIndex:2,argKey:"toYDataValue"},{regex:/((^|[^\\])((\\)\\)*\$tolabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$tolabel))/gi,argIndex:2,argKey:"toLabel"},{regex:/((^|[^\\])((\\)\\)*\$openvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$openvalue))/gi,argIndex:2,argKey:"openValue"},{regex:/((^|[^\\])((\\)\\)*\$closevalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$closevalue))/gi,argIndex:2,argKey:"closeValue"},{regex:/((^|[^\\])((\\)\\)*\$highvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$highvalue))/gi,argIndex:2,argKey:"highValue"},{regex:/((^|[^\\])((\\)\\)*\$lowvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$lowvalue))/gi,argIndex:2,argKey:"lowValue"},{regex:/((^|[^\\])((\\)\\)*\$opendatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$opendatavalue))/gi,argIndex:2,argKey:"openDataValue"},{regex:/((^|[^\\])((\\)\\)*\$closedatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$closedatavalue))/gi,argIndex:2,argKey:"closeDataValue"},{regex:/((^|[^\\])((\\)\\)*\$highdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$highdatavalue))/gi,argIndex:2,argKey:"highDataValue"},{regex:/((^|[^\\])((\\)\\)*\$lowdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$lowdatavalue))/gi,argIndex:2,argKey:"lowDataValue"},{regex:/((^|[^\\])((\\)\\)*\$maxvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$maxvalue))/gi,argIndex:2,argKey:"maxValue"},{regex:/((^|[^\\])((\\)\\)*\$maxdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$maxdatavalue))/gi,argIndex:2,argKey:"maxDataValue"},{regex:/((^|[^\\])((\\)\\)*\$minvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$minvalue))/gi,argIndex:2,argKey:"minValue"},{regex:/((^|[^\\])((\\)\\)*\$mindatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$mindatavalue))/gi,argIndex:2,argKey:"minDataValue"},{regex:/((^|[^\\])((\\)\\)*\$q1)/gi,argIndex:2,argKey:"Q1"},{regex:/((^|[^\\])((\\)\\)*\$unformattedQ1)/gi,argIndex:2,argKey:"unformattedQ1"},{regex:/((^|[^\\])((\\)\\)*\$q3)/gi,argIndex:2,argKey:"Q3"},{regex:/((^|[^\\])((\\)\\)*\$unformattedQ3)/gi,argIndex:2,argKey:"unformattedQ3"},{regex:/((^|[^\\])((\\)\\)*\$median)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$median))/gi,argIndex:2,argKey:"median"},{regex:/((^|[^\\])((\\)\\)*\$unformattedMedian)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$unformattedMedian))/gi,argIndex:2,argKey:"unformattedMedian"},{regex:/((^|[^\\])((\\)\\)*\$SD)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$SD))/gi,argIndex:2,argKey:"SD"},{regex:/((^|[^\\])((\\)\\)*\$unformattedsd)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$unformattedsd))/gi,argIndex:2,argKey:"unformattedsd"},{regex:/((^|[^\\])((\\)\\)*\$QD)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$QD))/gi,argIndex:2,argKey:"QD"},{regex:/((^|[^\\])((\\)\\)*\$unformattedQD)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$unformattedQD))/gi,argIndex:2,argKey:"unformattedQD"},{regex:/((^|[^\\])((\\)\\)*\$MD)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$MD))/gi,argIndex:2,argKey:"MD"},{regex:/((^|[^\\])((\\)\\)*\$unformattedMD)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$unformattedMD))/gi,argIndex:2,argKey:"unformattedMD"},{regex:/((^|[^\\])((\\)\\)*\$mean)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$mean))/gi,argIndex:2,argKey:"mean"},{regex:/((^|[^\\])((\\)\\)*\$unformattedMean)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$unformattedMean))/gi,argIndex:2,argKey:"unformattedMean"},{regex:/((^|[^\\])((\\)\\)*\$unformattedMean)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$unformattedMean))/gi,argIndex:2,argKey:"unformattedMean"},{regex:/((^|[^\\])((\\)\\)*\$volumeValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$volumeValue))/gi,argIndex:2,argKey:"volumeValue"},{regex:/((^|[^\\])((\\)\\)*\$volumeDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$volumeDataValue))/gi,argIndex:2,argKey:"volumeDataValue"},{regex:/((^|[^\\])((\\)\\)*\$fromXValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromXValue))/gi,argIndex:2,argKey:"fromXValue"},{regex:/((^|[^\\])((\\)\\)*\$fromYValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromYValue))/gi,argIndex:2,argKey:"fromYValue"},{regex:/((^|[^\\])((\\)\\)*\$fromXDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromXDataValue))/gi,argIndex:2,argKey:"fromXDataValue"},{regex:/((^|[^\\])((\\)\\)*\$fromYDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromYDataValue))/gi,argIndex:2,argKey:"fromYDataValue"},{regex:/((^|[^\\])((\\)\\)*\$fromLabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromLabel))/gi,argIndex:2,argKey:"fromLabel"},{regex:/((^|[^\\])((\\)\\)*\$toXValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toXValue))/gi,argIndex:2,argKey:"toXValue"},{regex:/((^|[^\\])((\\)\\)*\$toYValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toYValue))/gi,argIndex:2,argKey:"toYValue"},{regex:/((^|[^\\])((\\)\\)*\$toXDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toXDataValue))/gi,argIndex:2,argKey:"toXDataValue"},{regex:/((^|[^\\])((\\)\\)*\$toYDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toYDataValue))/gi,argIndex:2,argKey:"toYDataValue"},{regex:/((^|[^\\])((\\)\\)*\$tolabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$tolabel))/gi,argIndex:2,argKey:"toLabel"},{regex:/((^|[^\\])((\\)\\)*\$tlLabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$tlLabel))/gi,argIndex:5,argKey:"tlLabel"},{regex:/((^|[^\\])((\\)\\)*\$trlabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$trlabel))/gi,argIndex:5,argKey:"trLabel"},{regex:/((^|[^\\])((\\)\\)*\$bllabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$bllabel))/gi,argIndex:5,argKey:"blLabel"},{regex:/((^|[^\\])((\\)\\)*\$brlabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$brlabel))/gi,argIndex:5,argKey:"brLabel"},{regex:/((^|[^\\])((\\)\\)*\$rowlabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$rowlabel))/gi,argIndex:5,argKey:"rowLabel"},{regex:/((^|[^\\])((\\)\\)*\$columnlabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$columnlabel))/gi,argIndex:5,argKey:"columnLabel"},{regex:/((^|[^\\])((\\)\\)*\$errorvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$errorvalue))/gi,argIndex:2,argKey:"errorValue"},{regex:/((^|[^\\])((\\)\\)*\$errordatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$errordatavalue))/gi,argIndex:2,argKey:"errorDataValue"},{regex:/((^|[^\\])((\\)\\)*\$errorpercentvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$errorpercentvalue))/gi,argIndex:2,argKey:"errorPercentValue"},{regex:/((^|[^\\])((\\)\\)*\$errorpercentdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$errorpercentdatavalue))/gi,argIndex:2,argKey:"errorPercentDataValue"},{regex:/((^|[^\\])((\\)\\)*\$horizontalErrorValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$horizontalErrorValue))/gi,argIndex:2,argKey:"horizontalErrorValue"},{regex:/((^|[^\\])((\\)\\)*\$horizontalErrorDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$horizontalErrorDataValue))/gi,argIndex:2,argKey:"horizontalErrorDataValue"},{regex:/((^|[^\\])((\\)\\)*\$verticalErrorValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$verticalErrorValue))/gi,argIndex:2,argKey:"verticalErrorValue"},{regex:/((^|[^\\])((\\)\\)*\$verticalErrorDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$verticalErrorDataValue))/gi,argIndex:2,argKey:"verticalErrorDataValue"},{regex:/((^|[^\\])((\\)\\)*\$horizontalErrorPercent)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$horizontalErrorPercentValue))/gi,argIndex:2,argKey:"horizontalErrorPercentValue"},{regex:/((^|[^\\])((\\)\\)*\$horizontalErrorPercentDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$horizontalErrorPercentDataValue))/gi,argIndex:2,argKey:"horizontalErrorPercentDataValue"},{regex:/((^|[^\\])((\\)\\)*\$verticalErrorPercent)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$verticalErrorPercentValue))/gi,argIndex:2,argKey:"verticalErrorPercentValue"},{regex:/((^|[^\\])((\\)\\)*\$verticalErrorPercentDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$verticalErrorPercentDataValue))/gi,argIndex:2,argKey:"verticalErrorPercentDataValue"},{regex:/((^|[^\\])((\\)\\)*\$xaxispercentvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$xaxispercentvalue))/gi,argIndex:2,argKey:"xAxisPercentValue"},{regex:/((^|[^\\])((\\)\\)*\$percentdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$percentdatavalue))/gi,argIndex:2,argKey:"percentDataValue"},{regex:/((^|[^\\])((\\)\\)*\$trType)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$trType))/gi,argIndex:4,argKey:"trtype"},{regex:/((^|[^\\])((\\)\\)*\$tlType)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$tlType))/gi,argIndex:4,argKey:"tltype"},{regex:/((^|[^\\])((\\)\\)*\$brType)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$brType))/gi,argIndex:4,argKey:"brtype"},{regex:/((^|[^\\])((\\)\\)*\$blType)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$blType))/gi,argIndex:4,argKey:"bltype"},{regex:/((^|[^\\])((\\)\\)*\$colorRangeLabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$colorRangeLabel))/gi,argIndex:5,argKey:"colorRangeLabel"}],defAllMacroIndices=[],replaceConstant="$2$4",escapeReplaceStr="$2$4$5",i,l=macroList.length;for(i=0;i<l;i+=1)defAllMacroIndices.push(i);return function(){var returnText=arguments[0],ApplicableMacroIndices=arguments[1],replaceStr,argObj,macroObj,i,l;if(!ApplicableMacroIndices instanceof Array&&(ApplicableMacroIndices=defAllMacroIndices),returnText)for(l=ApplicableMacroIndices.length,i=0;i<l;i+=1)(macroObj=macroList[ApplicableMacroIndices[i]])&&(replaceStr=regReplaceEscape(getValidValue((argObj=arguments[macroObj.argIndex])&&argObj[macroObj.argKey],BLANK)+BLANK),returnText=(returnText=returnText.replace(macroObj.regex,"$2$4"+(macroObj.parsingMethod?macroObj.parsingMethod(replaceStr):replaceStr))).replace(macroObj.escapeRegex,"$2$4$5"));return returnText}}(),api,getDivisibleRange,isRangeDivisible,numDecimals,TEXTPOSITION,alphaRetriveRegx,labelAdder,cache,DOT,windowPropIdentifier,FUNCTION,pw,ph,docEl,vpEl;global.core._setLineHeightFactor=function(factor){!(factor=toFloat(factor))||factor<0||(lib.lineHeightFactor=factor)},global.extend(lib,{BLANKSTRINGPLACEHOLDER:BLANKSTRINGPLACEHOLDER,BLANKSTRING:BLANK,COLOR_BLACK:COLOR_BLACK,COLOR_GLASS:COLOR_GLASS,COLOR_WHITE:COLOR_WHITE,COLOR_TRANSPARENT:COLOR_TRANSPARENT,HASHSTRING:HASHSTRING,BREAKSTRING:BREAKSTRING,STRINGSTRING:STRINGSTRING,OBJECTSTRING:OBJECTSTRING,COMMASTRING:COMMA,ZEROSTRING:ZEROSTRING,SAMPLESTRING:"Ay0",TESTSTR:TESTSTR,ONESTRING:ONESTRING,DECIMALSTRING:DECIMALSTRING,STRINGUNDEFINED:STRINGUNDEFINED,POSITION_TOP:POSITION_TOP,POSITION_RIGHT:POSITION_RIGHT,POSITION_BOTTOM:POSITION_BOTTOM,POSITION_LEFT:POSITION_LEFT,POSITION_CENTER:POSITION_CENTER,POSITION_MIDDLE:POSITION_MIDDLE,POSITION_START:POSITION_START,POSITION_END:POSITION_END,FC_CONFIG_STRING:FC_CONFIG_STRING,SHAPE_RECT:SHAPE_RECT,HUNDREDSTRING:HUNDREDSTRING,PXSTRING:PXSTRING,COMMASPACE:COMMASPACE,TEXTANCHOR:TEXTANCHOR,TOUCH_THRESHOLD_PIXELS:TOUCH_THRESHOLD_PIXELS,CLICK_THRESHOLD_PIXELS:CLICK_THRESHOLD_PIXELS,regex:{stripWhitespace:stripWhitespace,dropHash:dropHash,startsRGBA:startsRGBA,cleanColorCode:cleanColorCode,breakPlaceholder:breakPlaceholder,hexcode:hexcode},fireEvent:fireEvent,plotEventHandler:plotEventHandler,getMouseCoordinate:getMouseCoordinate,addEvent:addEvent,removeEvent:removeEvent,getTouchEvent:getTouchEvent,extend2:extend2,deltend:deltend,imprint:imprint,pluck:pluck,pluckNumber:pluckNumber,getFirstDefinedValue:getFirstDefinedValue,createElement:createElement,hashify:hashify,pluckFontSize:pluckFontSize,getValidValue:getValidValue,getPosition:getPosition,getViewPortDimension:getViewPortDimension,bindSelectionEvent:bindSelectionEvent,createContextMenu:createContextMenu,getDefinedColor:getDefinedColor,getFirstValue:getFirstValue,getFirstColor:getFirstColor,getColorCodeString:getColorCodeString,pluckColor:pluckColor,toRaphaelColor:toRaphaelColor,gradientify:gradientify,trimString:trimString,getFirstAlpha:getFirstAlpha,parsePointValue:parsePointValue,parseUnsafeString:parseUnsafeString,parseTooltext:parseTooltext,toPrecision:toPrecision,hasTouch:hasTouch,CREDIT_HREF:CREDIT_HREF,CREDIT_STRING:CREDIT_STRING,getSentenceCase:getSentenceCase,getCrispValues:getCrispValue,regescape:regescape,regReplaceEscape:regReplaceEscape,isArray:isArray,stubFN:function(){},falseFN:function(){return!1},stableSort:function(arr,sortFunction){var length=arr.length,i;for(i=0;i<length;i++)arr[i].ssI=i;for(arr.sort((function(a,b){var sortValue=sortFunction(a,b);return 0===sortValue?a.ssI-b.ssI:sortValue})),i=0;i<length;i++)delete arr[i].ssI},hasSVG:hasSVG,isIE:isIE,lineHeightFactor:1.2,getLinkAction:getLinkAction,graphics:{parseAlpha:parseAlpha,convertColor:convertColor,getDarkColor:getDarkColor,getLightColor:getLightColor,mapSymbolName:mapSymbolName,getColumnColor:getColumnColor,getAngle:getAngle,parseColor:parseColor,getValidColor:getValidColor,HSBtoRGB:HSBtoRGB,RGBtoHSB:RGBtoHSB,RGBtoHex:RGBtoHex,HEXtoRGB:hexToRgb},setImageDisplayMode:setImageDisplayMode,setLineHeight:setLineHeight,supportedStyle:supportedStyle,getAxisLimits:getAxisLimits,createTrendLine:createTrendLine,getDashStyle:getDashStyle,axisLabelAdder:axisLabelAdder,chartAPI:chartAPI,createDialog:createDialog})}]),window.FusionCharts&&window.FusionCharts.register("module",["private","vendor.redraphael",function(){var global=this,lib=this.hcLib,someRaphael=window.Raphael,eve,RedRaphael;!function(){
/**!
         * RedRaphael 1.0.0 - JavaScript Vector Library
         * Copyright (c) 2012-2013 FusionCharts Technologies <http://www.fusioncharts.com>
         *
         * Raphael 2.1.0
         * Copyright (c) 2008-2012 Dmitry Baranovskiy <http://raphaeljs.com>
         * Copyright  2008-2012 Sencha Labs <http://sencha.com>
         *
         * Licensed under the MIT license.
         */var glob,factory;
/**!
         * RedRaphael 1.1.10 - JavaScript Vector Library
         * Copyright (c) 2012-2013 FusionCharts Technologies <http://www.fusioncharts.com>
         *
         * Raphael 2.1.0
         * Copyright (c) 2008-2012 Dmitry Baranovskiy <http://raphaeljs.com>
         * Copyright  2008-2012 Sencha Labs <http://sencha.com>
         *
         * Licensed under the MIT license.
         */
!function(glob){var version="0.4.2",has="hasOwnProperty",separator=/[\.\/]/,wildcard="*",fun=function(){},numsort=function(a,b){return a-b},current_event,stop,events={n:{}},eve=function(name,scope){name=String(name);var e=events,oldstop=stop,args=Array.prototype.slice.call(arguments,2),listeners=eve.listeners(name),z=0,f=!1,l,indexed=[],queue={},out=[],ce=current_event,errors=[];current_event=name,stop=0;for(var i=0,ii=listeners.length;i<ii;i++)"zIndex"in listeners[i]&&(indexed.push(listeners[i].zIndex),listeners[i].zIndex<0&&(queue[listeners[i].zIndex]=listeners[i]));for(indexed.sort(numsort);indexed[z]<0;)if(l=queue[indexed[z++]],out.push(l.apply(scope,args)),stop)return stop=oldstop,out;for(i=0;i<ii;i++)if("zIndex"in(l=listeners[i]))if(l.zIndex==indexed[z]){if(out.push(l.apply(scope,args)),stop)break;do{if((l=queue[indexed[++z]])&&out.push(l.apply(scope,args)),stop)break}while(l)}else queue[l.zIndex]=l;else if(out.push(l.apply(scope,args)),stop)break;return stop=oldstop,current_event=ce,out.length?out:null};eve._events=events,eve.listeners=function(name){var names=name.split(separator),e=events,item,items,k,i,ii,j,jj,nes,es=[e],out=[];for(i=0,ii=names.length;i<ii;i++){for(nes=[],j=0,jj=es.length;j<jj;j++)for(items=[(e=es[j].n)[names[i]],e["*"]],k=2;k--;)(item=items[k])&&(nes.push(item),out=out.concat(item.f||[]));es=nes}return out},eve.on=function(name,f){if(name=String(name),"function"!=typeof f)return function(){};for(var names=name.split(separator),e=events,i=0,ii=names.length;i<ii;i++)e=(e=e.n).hasOwnProperty(names[i])&&e[names[i]]||(e[names[i]]={n:{}});for(e.f=e.f||[],i=0,ii=e.f.length;i<ii;i++)if(e.f[i]==f)return fun;return e.f.push(f),function(zIndex){+zIndex==+zIndex&&(f.zIndex=+zIndex)}},eve.f=function(event){var attrs=[].slice.call(arguments,1);return function(){eve.apply(null,[event,null].concat(attrs).concat([].slice.call(arguments,0)))}},eve.stop=function(){stop=1},eve.nt=function(subname){return subname?new RegExp("(?:\\.|\\/|^)"+subname+"(?:\\.|\\/|$)").test(current_event):current_event},eve.nts=function(){return current_event.split(separator)},eve.off=eve.unbind=function(name,f){if(name){var names=name.split(separator),e,key,splice,i,ii,j,jj,cur=[events];for(i=0,ii=names.length;i<ii;i++)for(j=0;j<cur.length;j+=splice.length-2){if(splice=[j,1],e=cur[j].n,"*"!=names[i])e[names[i]]&&splice.push(e[names[i]]);else for(key in e)e[has](key)&&splice.push(e[key]);cur.splice.apply(cur,splice)}for(i=0,ii=cur.length;i<ii;i++)for(e=cur[i];e.n;){if(f){if(e.f){for(j=0,jj=e.f.length;j<jj;j++)if(e.f[j]==f){e.f.splice(j,1);break}!e.f.length&&delete e.f}for(key in e.n)if(e.n[has](key)&&e.n[key].f){var funcs=e.n[key].f;for(j=0,jj=funcs.length;j<jj;j++)if(funcs[j]==f){funcs.splice(j,1);break}!funcs.length&&delete e.n[key].f}}else for(key in delete e.f,e.n)e.n[has](key)&&e.n[key].f&&delete e.n[key].f;e=e.n}}else eve._events=events={n:{}}},eve.once=function(name,f){var f2=function(){return eve.unbind(name,f2),f.apply(this,arguments)};return eve.on(name,f2)},eve.version="0.4.2",eve.toString=function(){return"You are running Eve 0.4.2"},"undefined"!=typeof module&&module.exports?module.exports=eve:"undefined"!=typeof define?define("eve",[],(function(){return eve})):glob.eve=eve}(this),glob=this,factory=function(window,eve){function R(first){var args,f;return R._url="",R.is(first,"function")?loaded?first():eve.on("raphael.DOMload",first):R.is(first,array)?R._engine.create[apply](R,first.splice(0,3+R.is(first[0],nu))).add(first):(args=Array.prototype.slice.call(arguments,0),R.is(args[args.length-1],"function")?(f=args.pop(),loaded?f.call(R._engine.create[apply](R,args)):eve.on("raphael.DOMload",(function(){f.call(R._engine.create[apply](R,args))}))):R._engine.create[apply](R,arguments))}R.upgrade="1.0.0",R.version="2.1.0",R.eve=eve,RedRaphael=R;var loaded,undef,E="",S=" ",proto="prototype",has="hasOwnProperty",appendChild="appendChild",apply="apply",concat="concat",nu="number",string="string",array="array",object="object",finite="finite",toString="toString",fillString="fill",push="push",setAttribute="setAttribute",split="split",none="none",black="#000",OBJECTSTRING="object",arrayToStr="[object Array]",objectToStr="[object Object]",arraySlice=Array.prototype.slice,arraySplice=Array.prototype.splice,g={doc:document,win:window},oldRaphael={was:Object.prototype[has].call(g.win,"Raphael"),is:g.win.Raphael},doc=g.doc,win=g.win,supportsTouch=R.supportsTouch="createTouch"in doc,CustomAttributes=function(){},caproto=R.ca=R.customAttributes=CustomAttributes.prototype,Paper=function(){this.ca=this.customAttributes=new CustomAttributes,this._CustomAttributes=function(){},this._CustomAttributes.prototype=this.ca,this._elementsById={},this.id=R._oid++,eve("raphael.new",this)},paperproto=R.fn=Paper.prototype=R.prototype,elements={circle:1,rect:1,path:1,ellipse:1,text:1,image:1,group:1},events="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(S),touchMap=R._touchMap={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},Str=win.String,toFloat=win.parseFloat,toInt=win.parseInt,math=win.Math,mmax=math.max,mmin=math.min,abs=math.abs,pow=math.pow,mathCos=math.cos,mathSin=math.sin,mathSqrt=math.sqrt,round=math.round,PI=math.PI,deg2rad=PI/180,rad2deg=180/PI,lowerCase=Str.prototype.toLowerCase,upperCase=Str.prototype.toUpperCase,objectToString=win.Object.prototype.toString,separator=/[, ]+/,formatrg=/\{(\d+)\}/g,ISURL=R._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,colourRegExp=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,bezierrg=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,whitespace=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]/g,commaSpaces=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,p2s=/,?([achlmqrstvxz]),?/gi,pathCommand=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,tCommand=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,pathValues=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,radial_gradient=R._radial_gradient=/^x?r(?:\(([^\)]*?)\))?/,isnan={NaN:1,Infinity:1,"-Infinity":1},hsrg={hs:1,rg:1},availableAttrs=R._availableAttrs={"arrow-end":none,"arrow-start":none,blur:0,"clip-rect":"0 0 1e9 1e9","clip-path":E,cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"about:blank","letter-spacing":0,"line-height":12,"vertical-align":"middle",opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:E,stroke:"#000","stroke-dasharray":E,"stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",visibility:E,title:E,transform:E,rotation:0,width:0,x:0,y:0},availableAnimAttrs=R._availableAnimAttrs={blur:nu,"clip-rect":"csv","clip-path":"path",cx:nu,cy:nu,fill:"colour","fill-opacity":nu,"font-size":nu,height:nu,opacity:nu,path:"path",r:nu,rx:nu,ry:nu,stroke:"colour","stroke-opacity":nu,"stroke-width":nu,transform:"transform",width:nu,x:nu,y:nu},eldata={},sortByKey=function(a,b){return a.key-b.key},sortByNumber=function(a,b){return toFloat(a)-toFloat(b)},fun=function(){},pipe=function(x){return x},rectPath=R._rectPath=function(x,y,w,h,r){return r?[["M",x+r,y],["l",w-2*r,0],["a",r,r,0,0,1,r,r],["l",0,h-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-w,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-h],["a",r,r,0,0,1,r,-r],["z"]]:[["M",x,y],["l",w,0],["l",0,h],["l",-w,0],["z"]]},ellipsePath=function(x,y,rx,ry){return null==ry&&(ry=rx),[["M",x,y],["m",0,-ry],["a",rx,ry,0,1,1,0,2*ry],["a",rx,ry,0,1,1,0,-2*ry],["z"]]},getPath=R._getPath={group:function(){return!1},path:function(el){return el.attr("path")},circle:function(el){var a=el.attrs;return ellipsePath(a.cx,a.cy,a.r)},ellipse:function(el){var a=el.attrs;return ellipsePath(a.cx,a.cy,a.rx,a.ry)},rect:function(el){var a=el.attrs;return rectPath(a.x,a.y,a.width,a.height,a.r)},image:function(el){var a=el.attrs;return rectPath(a.x,a.y,a.width,a.height)},text:function(el){var bbox=el._getBBox();return rectPath(bbox.x,bbox.y,bbox.width,bbox.height)}},mapPath=R.mapPath=function(path,matrix){if(!matrix)return path;var x,y,i,j,ii,jj,pathi;for(i=0,ii=(path=path2curve(path)).length;i<ii;i++)for(j=1,jj=(pathi=path[i]).length;j<jj;j+=2)x=matrix.x(pathi[j],pathi[j+1]),y=matrix.y(pathi[j],pathi[j+1]),pathi[j]=x,pathi[j+1]=y;return path},pick=R.pick=function(){for(var arg,i=0,ii=arguments.length;i<ii;i+=1)if((arg=arguments[i])||!1===arg||0===arg)return arg;return undef},lastArgIfGroup=R._lastArgIfGroup=function(args,clear){var last=args.length-1,arg=args[last];if(arg&&arg.constructor===R.el.constructor&&"group"===arg.type)return clear&&(args[last]=void 0,delete args[last],arraySplice.call(args,last,1)),arg},serializeArgs=R._serializeArgs=function(args){var arg0=args[0],pathString,attrs,i,ii;if(R.is(arg0,"object")&&!R.is(arg0,"array")&&"group"!==arg0.type)for(attrs=arg0,arg0.path&&(pathString=arg0.path)&&!R.is(pathString,string)&&!R.is(pathString[0],array)&&(pathString+=E),i=1,ii=arguments.length;i<ii;i+=2)attrs[arguments[i]]||(attrs[arguments[i]]=arguments[i+1]);else for(attrs={},i=1,ii=arguments.length;i<ii;i+=2)attrs[arguments[i]]=args[(i-1)/2]||arguments[i+1];return attrs},merge=R.merge=function(obj1,obj2,skipUndef,tgtArr,srcArr){var item,srcVal,tgtVal,str,cRef;if(srcArr?(tgtArr.push(obj1),srcArr.push(obj2)):(tgtArr=[obj1],srcArr=[obj2]),obj2 instanceof Array)for(item=0;item<obj2.length;item+=1){try{srcVal=obj1[item],tgtVal=obj2[item]}catch(e){continue}"object"!=typeof tgtVal?skipUndef&&void 0===tgtVal||(obj1[item]=tgtVal):(null!==srcVal&&"object"==typeof srcVal||(srcVal=obj1[item]=tgtVal instanceof Array?[]:{}),-1!==(cRef=checkCyclicRef(tgtVal,srcArr))?srcVal=obj1[item]=tgtArr[cRef]:merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr))}else for(item in obj2){try{srcVal=obj1[item],tgtVal=obj2[item]}catch(e){continue}null!==tgtVal&&"object"==typeof tgtVal?(str=objectToString.call(tgtVal))===objectToStr?(null!==srcVal&&"object"==typeof srcVal||(srcVal=obj1[item]={}),-1!==(cRef=checkCyclicRef(tgtVal,srcArr))?srcVal=obj1[item]=tgtArr[cRef]:merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr)):str===arrayToStr?(null!==srcVal&&srcVal instanceof Array||(srcVal=obj1[item]=[]),-1!==(cRef=checkCyclicRef(tgtVal,srcArr))?srcVal=obj1[item]=tgtArr[cRef]:merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr)):obj1[item]=tgtVal:obj1[item]=tgtVal}return obj1},extend=R.extend=function(obj1,obj2,skipUndef){return"object"!=typeof obj1&&"object"!=typeof obj2?null:"object"!=typeof obj2||null===obj2?obj1:("object"!=typeof obj1&&(obj1=obj2 instanceof Array?[]:{}),merge(obj1,obj2,skipUndef),obj1)},is=R.is=function(o,type){return(type=lowerCase.call(type))==finite?!isnan[has](+o):type==array?o instanceof Array:("object"!==type||o!==undef&&null!==o)&&("null"==type&&null===o||type==typeof o&&null!==o||type==object&&o===Object(o)||"array"==type&&Array.isArray&&Array.isArray(o)||objectToString.call(o).slice(8,-1).toLowerCase()==type)},clone=R.clone=function(obj){if(Object(obj)!==obj)return obj;var res=new obj.constructor;for(var key in obj)obj[has](key)&&(res[key]=clone(obj[key]));return res},createUUID=R.createUUID=(uuidRegEx=/[xy]/g,uuidReplacer=function(c){var r=16*math.random()|0,v;return("x"==c?r:3&r|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(uuidRegEx,uuidReplacer).toUpperCase()}),uuidRegEx,uuidReplacer;if(R._g=g,R.type=win.ENABLE_RED_CANVAS&&(win.CanvasRenderingContext2D||doc.createElement("canvas").getContext)?"CANVAS":win.SVGAngle||doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==R.type){var d=doc.createElement("div"),b;if(d.innerHTML='<v:shape adj="1"/>',(b=d.firstChild).style.behavior="url(#default#VML)",!b||typeof b.adj!=object)return R.type=E;d=null}R.svg=!((R.vml="VML"==R.type)||(R.canvas="CANVAS"==R.type)),R._Paper=Paper,R._id=0,R._oid=0,R.angle=function(x1,y1,x2,y2,x3,y3){if(null==x3){var x=x1-x2,y=y1-y2;return x||y?(180+math.atan2(-y,-x)*rad2deg+360)%360:0}return R.angle(x1,y1,x3,y3)-R.angle(x2,y2,x3,y3)},R.rad=function(deg){return deg%360*deg2rad},R.deg=function(rad){return rad*rad2deg%360},R.snapTo=function(values,value,tolerance){var rem,i;if(is(tolerance,finite)||(tolerance=10),is(values,array)){for(i=values.length;i--;)if(abs(values[i]-value)<=tolerance)return values[i]}else{if((rem=value%(values=+values))<tolerance)return value-rem;if(rem>values-tolerance)return value-rem+values}return value},R.setWindow=function(newwin){eve("raphael.setWindow",R,g.win,newwin),win=g.win=newwin,doc=g.doc=g.win.document,R._engine.initWin&&R._engine.initWin(g.win)};var toHex=function(color){if(R.vml){var trim=/^\s+|\s+$/g,bod;try{var docum=new ActiveXObject("htmlfile");docum.write("<body>"),docum.close(),bod=docum.body}catch(e){bod=createPopup().document.body}var range=bod.createTextRange();toHex=cacher((function(color){try{bod.style.color=Str(color).replace(trim,E);var value=range.queryCommandValue("ForeColor");return"#"+("000000"+(value=(255&value)<<16|65280&value|(16711680&value)>>>16).toString(16)).slice(-6)}catch(e){return none}}))}else{var i=g.doc.createElement("i");i.title="Raphal Colour Picker",i.style.display=none,g.doc.body.appendChild(i),toHex=cacher((function(color){return i.style.color=color,g.doc.defaultView.getComputedStyle(i,E).getPropertyValue("color")}))}return toHex(color)},hsbtoString=function(){return"hsb("+[this.h,this.s,this.b]+")"},hsltoString=function(){return"hsl("+[this.h,this.s,this.l]+")"},rgbtoString=function(){return this.hex},prepareRGB=function(r,g,b){if(null==g&&is(r,object)&&"r"in r&&"g"in r&&"b"in r&&(b=r.b,g=r.g,r=r.r),null==g&&is(r,string)){var clr=R.getRGB(r);r=clr.r,g=clr.g,b=clr.b}return(r>1||g>1||b>1)&&(r/=255,g/=255,b/=255),[r,g,b]},packageRGB=function(r,g,b,o){var rgb={r:r*=255,g:g*=255,b:b*=255,hex:R.rgb(r,g,b),toString:rgbtoString};return is(o,"finite")&&(rgb.opacity=o),rgb};function repush(array,item){for(var i=0,ii=array.length;i<ii;i++)if(array[i]===item)return array.push(array.splice(i,1)[0])}R.color=function(clr){var rgb;return R.is(clr,object)&&"h"in clr&&"s"in clr&&"b"in clr?(rgb=R.hsb2rgb(clr),clr.r=rgb.r,clr.g=rgb.g,clr.b=rgb.b,clr.hex=rgb.hex):R.is(clr,object)&&"h"in clr&&"s"in clr&&"l"in clr?(rgb=R.hsl2rgb(clr),clr.r=rgb.r,clr.g=rgb.g,clr.b=rgb.b,clr.hex=rgb.hex):(R.is(clr,"string")&&(clr=R.getRGB(clr)),R.is(clr,object)&&"r"in clr&&"g"in clr&&"b"in clr?(rgb=R.rgb2hsl(clr),clr.h=rgb.h,clr.s=rgb.s,clr.l=rgb.l,rgb=R.rgb2hsb(clr),clr.v=rgb.b):(clr={hex:none}).r=clr.g=clr.b=clr.h=clr.s=clr.v=clr.l=-1),clr.toString=rgbtoString,clr},R.hsb2rgb=function(h,s,v,o){var R,G,B,X,C;return this.is(h,object)&&"h"in h&&"s"in h&&"b"in h&&(v=h.b,s=h.s,o=(h=h.h).o),X=(C=v*s)*(1-abs((h=(h*=360)%360/60)%2-1)),R=G=B=v-C,packageRGB(R+=[C,X,0,0,X,C][h=~~h],G+=[X,C,C,X,0,0][h],B+=[0,0,X,C,C,X][h],o)},R.hsl2rgb=function(h,s,l,o){var R,G,B,X,C;return this.is(h,object)&&"h"in h&&"s"in h&&"l"in h&&(l=h.l,s=h.s,h=h.h),(h>1||s>1||l>1)&&(h/=360,s/=100,l/=100),X=(C=2*s*(l<.5?l:1-l))*(1-abs((h=(h*=360)%360/60)%2-1)),R=G=B=l-C/2,packageRGB(R+=[C,X,0,0,X,C][h=~~h],G+=[X,C,C,X,0,0][h],B+=[0,0,X,C,C,X][h],o)},R.rgb2hsb=function(r,g,b){var H,S,V,C;return r=(b=prepareRGB(r,g,b))[0],g=b[1],b=b[2],{h:H=((H=0==(C=(V=mmax(r,g,b))-mmin(r,g,b))?null:V==r?(g-b)/C:V==g?(b-r)/C+2:(r-g)/C+4)+360)%6*60/360,s:S=0==C?0:C/V,b:V,toString:hsbtoString}},R.rgb2hsl=function(r,g,b){var H,S,L,M,m,C;return r=(b=prepareRGB(r,g,b))[0],g=b[1],b=b[2],L=((M=mmax(r,g,b))+(m=mmin(r,g,b)))/2,{h:H=((H=0==(C=M-m)?null:M==r?(g-b)/C:M==g?(b-r)/C+2:(r-g)/C+4)+360)%6*60/360,s:S=0==C?0:L<.5?C/(2*L):C/(2-2*L),l:L,toString:hsltoString}},R._path2string=function(){return this.join(",").replace(p2s,"$1")};var cacher=R._cacher=function(f,scope,postprocessor){function cachedfunction(){var arg=arraySlice.call(arguments,0),args=arg.join(""),cache=cachedfunction.cache=cachedfunction.cache||{},count=cachedfunction.count=cachedfunction.count||[];return cache[has](args)?(repush(count,args),postprocessor?postprocessor(cache[args]):cache[args]):(count.length>=1e3&&delete cache[count.shift()],count.push(args),cache[args]=f[apply](scope,arg),postprocessor?postprocessor(cache[args]):cache[args])}return cachedfunction},preload=R._preload=function(src,f){var img=doc.createElement("img");img.style.cssText="position:absolute;left:-9999em;top:-9999em",img.onload=function(){f.call(this),this.onload=null,doc.body.removeChild(this)},img.onerror=function(){doc.body.removeChild(this)},doc.body.appendChild(img),img.src=src};function clrToString(){return this.hex}function catmullRom2bezier(crp,z){for(var d=[],i=0,iLen=crp.length;iLen-2*!z>i;i+=2){var p=[{x:+crp[i-2],y:+crp[i-1]},{x:+crp[i],y:+crp[i+1]},{x:+crp[i+2],y:+crp[i+3]},{x:+crp[i+4],y:+crp[i+5]}];z?i?iLen-4==i?p[3]={x:+crp[0],y:+crp[1]}:iLen-2==i&&(p[2]={x:+crp[0],y:+crp[1]},p[3]={x:+crp[2],y:+crp[3]}):p[0]={x:+crp[iLen-2],y:+crp[iLen-1]}:iLen-4==i?p[3]=p[2]:i||(p[0]={x:+crp[i],y:+crp[i+1]}),d.push(["C",(-p[0].x+6*p[1].x+p[2].x)/6,(-p[0].y+6*p[1].y+p[2].y)/6,(p[1].x+6*p[2].x-p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6,p[2].x,p[2].y])}return d}R.getRGB=cacher((function(colour){var opacity,res,red,green,blue,t,values,rgb;return colour&&is(colour,"object")&&"opacity"in colour&&(opacity=colour.opacity),!colour||(colour=Str(colour)).indexOf("-")+1?{r:-1,g:-1,b:-1,hex:none,error:1,toString:clrToString}:colour==none?{r:-1,g:-1,b:-1,hex:none,toString:clrToString}:(!hsrg[has](colour.toLowerCase().substring(0,2))&&"#"!==colour.charAt()&&(colour=toHex(colour)),(rgb=colour.match(colourRegExp))?(rgb[2]&&(blue=toInt(rgb[2].substring(5),16),green=toInt(rgb[2].substring(3,5),16),red=toInt(rgb[2].substring(1,3),16)),rgb[3]&&(blue=toInt((t=rgb[3].charAt(3))+t,16),green=toInt((t=rgb[3].charAt(2))+t,16),red=toInt((t=rgb[3].charAt(1))+t,16)),rgb[4]&&(values=rgb[4].split(commaSpaces),red=toFloat(values[0]),"%"==values[0].slice(-1)&&(red*=2.55),green=toFloat(values[1]),"%"==values[1].slice(-1)&&(green*=2.55),blue=toFloat(values[2]),"%"==values[2].slice(-1)&&(blue*=2.55),"rgba"==rgb[1].toLowerCase().slice(0,4)&&(opacity=toFloat(values[3])),values[3]&&"%"==values[3].slice(-1)&&(opacity/=100)),rgb[5]?(values=rgb[5].split(commaSpaces),red=toFloat(values[0]),"%"==values[0].slice(-1)&&(red*=2.55),green=toFloat(values[1]),"%"==values[1].slice(-1)&&(green*=2.55),blue=toFloat(values[2]),"%"==values[2].slice(-1)&&(blue*=2.55),("deg"==values[0].slice(-3)||""==values[0].slice(-1))&&(red/=360),"hsba"==rgb[1].toLowerCase().slice(0,4)&&(opacity=toFloat(values[3])),values[3]&&"%"==values[3].slice(-1)&&(opacity/=100),R.hsb2rgb(red,green,blue,opacity)):rgb[6]?(values=rgb[6].split(commaSpaces),red=toFloat(values[0]),"%"==values[0].slice(-1)&&(red*=2.55),green=toFloat(values[1]),"%"==values[1].slice(-1)&&(green*=2.55),blue=toFloat(values[2]),"%"==values[2].slice(-1)&&(blue*=2.55),("deg"==values[0].slice(-3)||""==values[0].slice(-1))&&(red/=360),"hsla"==rgb[1].toLowerCase().slice(0,4)&&(opacity=toFloat(values[3])),values[3]&&"%"==values[3].slice(-1)&&(opacity/=100),R.hsl2rgb(red,green,blue,opacity)):((rgb={r:red,g:green,b:blue,toString:clrToString}).hex="#"+(16777216|blue|green<<8|red<<16).toString(16).slice(1),R.is(opacity,"finite")&&(rgb.opacity=opacity),rgb)):{r:-1,g:-1,b:-1,hex:none,error:1,toString:clrToString})}),R),R.tintshade=cacher((function(colour,percent){var rgb=R.getRGB(colour),tint,offset=255;return percent<0&&(percent*=-1,offset=0),percent>1&&(percent=1),(tint=0===percent?rgb:{r:offset-(offset-rgb.r)*percent,g:offset-(offset-rgb.g)*percent,b:offset-(offset-rgb.b)*percent,toString:clrToString}).hex=R.rgb(tint.r,tint.g,tint.b),rgb.error&&(tint.error=rgb.error),"opacity"in rgb?(tint.rgba="rgba("+[tint.r,tint.g,tint.b,rgb.opacity].join(",")+")",tint.opacity=rgb.opacity):tint.rgba="rgb("+[tint.r,tint.g,tint.b].join(",")+")",tint}),R),R.hsb=cacher((function(h,s,b){return R.hsb2rgb(h,s,b).hex})),R.hsl=cacher((function(h,s,l){return R.hsl2rgb(h,s,l).hex})),R.rgb=cacher((function(r,g,b){return"#"+(16777216|b|g<<8|r<<16).toString(16).slice(1)})),R.getColor=function(value){var start=this.getColor.start=this.getColor.start||{h:0,s:1,b:value||.75},rgb=this.hsb2rgb(start.h,start.s,start.b);return start.h+=.075,start.h>1&&(start.h=0,start.s-=.2,start.s<=0&&(this.getColor.start={h:0,s:1,b:start.b})),rgb.hex},R.getColor.reset=function(){delete this.start},R.parsePathString=function(pathString){if(!pathString)return null;var pth=paths(pathString);if(pth.arr)return pathClone(pth.arr);var paramCounts={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},data=[];return R.is(pathString,array)&&R.is(pathString[0],array)&&(data=pathClone(pathString)),data.length||Str(pathString).replace(pathCommand,(function(a,b,c){var params=[],name=b.toLowerCase();if(c.replace(pathValues,(function(a,b){b&&params.push(+b)})),"m"==name&&params.length>2&&(data.push([b].concat(params.splice(0,2))),name="l",b="m"==b?"l":"L"),"r"==name)data.push([b].concat(params));else for(;params.length>=paramCounts[name]&&(data.push([b].concat(params.splice(0,paramCounts[name]))),paramCounts[name]););})),data.toString=R._path2string,pth.arr=pathClone(data),data},R.parseTransformString=cacher((function(TString){if(!TString)return null;var paramCounts_r=3,paramCounts_s=4,paramCounts_t=2,paramCounts_m=6,data=[];return R.is(TString,array)&&R.is(TString[0],array)&&(data=pathClone(TString)),data.length||Str(TString).replace(tCommand,(function(a,b,c){var params=[],name=lowerCase.call(b);c.replace(pathValues,(function(a,b){b&&params.push(+b)})),data.push([b].concat(params))})),data.toString=R._path2string,data}));var paths=function(ps){var p=paths.ps=paths.ps||{};return p[ps]?p[ps].sleep=100:p[ps]={sleep:100},setTimeout((function(){for(var key in p)p[has](key)&&key!=ps&&(p[key].sleep--,!p[key].sleep&&delete p[key])})),p[ps]};function base3(t,p1,p2,p3,p4){var t1,t2;return t*(t*(-3*p1+9*p2-9*p3+3*p4)+6*p1-12*p2+6*p3)-3*p1+3*p2}function bezlen(x1,y1,x2,y2,x3,y3,x4,y4,z){null==z&&(z=1);for(var z2=(z=z>1?1:z<0?0:z)/2,n=12,Tvalues=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Cvalues=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],sum=0,i=0;i<n;i++){var ct=z2*Tvalues[i]+z2,xbase=base3(ct,x1,x2,x3,x4),ybase=base3(ct,y1,y2,y3,y4),comb;sum+=Cvalues[i]*mathSqrt(xbase*xbase+ybase*ybase)}return z2*sum}function getTatLen(x1,y1,x2,y2,x3,y3,x4,y4,ll){if(!(ll<0||bezlen(x1,y1,x2,y2,x3,y3,x4,y4)<ll)){var t=1,step=.5,t2=1-step,l,e=.01;for(l=bezlen(x1,y1,x2,y2,x3,y3,x4,y4,t2);abs(l-ll)>e;)l=bezlen(x1,y1,x2,y2,x3,y3,x4,y4,t2+=(l<ll?1:-1)*(step/=2));return t2}}function intersect(x1,y1,x2,y2,x3,y3,x4,y4){if(!(mmax(x1,x2)<mmin(x3,x4)||mmin(x1,x2)>mmax(x3,x4)||mmax(y1,y2)<mmin(y3,y4)||mmin(y1,y2)>mmax(y3,y4))){var nx,ny,denominator=(x1-x2)*(y3-y4)-(y1-y2)*(x3-x4);if(denominator){var px=((x1*y2-y1*x2)*(x3-x4)-(x1-x2)*(x3*y4-y3*x4))/denominator,py=((x1*y2-y1*x2)*(y3-y4)-(y1-y2)*(x3*y4-y3*x4))/denominator,px2=+px.toFixed(2),py2=+py.toFixed(2);if(!(px2<+mmin(x1,x2).toFixed(2)||px2>+mmax(x1,x2).toFixed(2)||px2<+mmin(x3,x4).toFixed(2)||px2>+mmax(x3,x4).toFixed(2)||py2<+mmin(y1,y2).toFixed(2)||py2>+mmax(y1,y2).toFixed(2)||py2<+mmin(y3,y4).toFixed(2)||py2>+mmax(y3,y4).toFixed(2)))return{x:px,y:py}}}}function inter(bez1,bez2){return interHelper(bez1,bez2)}function interCount(bez1,bez2){return interHelper(bez1,bez2,1)}function interHelper(bez1,bez2,justCount){var bbox1=R.bezierBBox(bez1),bbox2=R.bezierBBox(bez2);if(!R.isBBoxIntersect(bbox1,bbox2))return justCount?0:[];for(var l1=bezlen.apply(0,bez1),l2=bezlen.apply(0,bez2),n1=mmax(~~(l1/5),1),n2=mmax(~~(l2/5),1),dots1=[],dots2=[],xy={},res=justCount?0:[],i=0;i<n1+1;i++){var p=R.findDotsAtSegment.apply(R,bez1.concat(i/n1));dots1.push({x:p.x,y:p.y,t:i/n1})}for(i=0;i<n2+1;i++)p=R.findDotsAtSegment.apply(R,bez2.concat(i/n2)),dots2.push({x:p.x,y:p.y,t:i/n2});for(i=0;i<n1;i++)for(var j=0;j<n2;j++){var di=dots1[i],di1=dots1[i+1],dj=dots2[j],dj1=dots2[j+1],ci=abs(di1.x-di.x)<.001?"y":"x",cj=abs(dj1.x-dj.x)<.001?"y":"x",is=intersect(di.x,di.y,di1.x,di1.y,dj.x,dj.y,dj1.x,dj1.y);if(is){if(xy[is.x.toFixed(4)]==is.y.toFixed(4))continue;xy[is.x.toFixed(4)]=is.y.toFixed(4);var t1=di.t+abs((is[ci]-di[ci])/(di1[ci]-di[ci]))*(di1.t-di.t),t2=dj.t+abs((is[cj]-dj[cj])/(dj1[cj]-dj[cj]))*(dj1.t-dj.t);t1>=0&&t1<=1.001&&t2>=0&&t2<=1.001&&(justCount?res++:res.push({x:is.x,y:is.y,t1:mmin(t1,1),t2:mmin(t2,1)}))}}return res}function interPathHelper(path1,path2,justCount){path1=R._path2curve(path1),path2=R._path2curve(path2);for(var x1,y1,x2,y2,x1m,y1m,x2m,y2m,bez1,bez2,res=justCount?0:[],i=0,ii=path1.length;i<ii;i++){var pi=path1[i];if("M"==pi[0])x1=x1m=pi[1],y1=y1m=pi[2];else{"C"==pi[0]?(bez1=[x1,y1].concat(pi.slice(1)),x1=bez1[6],y1=bez1[7]):(bez1=[x1,y1,x1,y1,x1m,y1m,x1m,y1m],x1=x1m,y1=y1m);for(var j=0,jj=path2.length;j<jj;j++){var pj=path2[j];if("M"==pj[0])x2=x2m=pj[1],y2=y2m=pj[2];else{"C"==pj[0]?(bez2=[x2,y2].concat(pj.slice(1)),x2=bez2[6],y2=bez2[7]):(bez2=[x2,y2,x2,y2,x2m,y2m,x2m,y2m],x2=x2m,y2=y2m);var intr=interHelper(bez1,bez2,justCount);if(justCount)res+=intr;else{for(var k=0,kk=intr.length;k<kk;k++)intr[k].segment1=i,intr[k].segment2=j,intr[k].bez1=bez1,intr[k].bez2=bez2;res=res.concat(intr)}}}}}return res}R.findDotsAtSegment=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t,t13=pow(t1,3),t12=pow(t1,2),t2=t*t,t3=t2*t,x=t13*p1x+3*t12*t*c1x+3*t1*t*t*c2x+t3*p2x,y=t13*p1y+3*t12*t*c1y+3*t1*t*t*c2y+t3*p2y,mx=p1x+2*t*(c1x-p1x)+t2*(c2x-2*c1x+p1x),my=p1y+2*t*(c1y-p1y)+t2*(c2y-2*c1y+p1y),nx=c1x+2*t*(c2x-c1x)+t2*(p2x-2*c2x+c1x),ny=c1y+2*t*(c2y-c1y)+t2*(p2y-2*c2y+c1y),ax=t1*p1x+t*c1x,ay=t1*p1y+t*c1y,cx=t1*c2x+t*p2x,cy=t1*c2y+t*p2y,alpha=90-180*math.atan2(mx-nx,my-ny)/PI;return(mx>nx||my<ny)&&(alpha+=180),{x:x,y:y,m:{x:mx,y:my},n:{x:nx,y:ny},start:{x:ax,y:ay},end:{x:cx,y:cy},alpha:alpha}},R.bezierBBox=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y){R.is(p1x,"array")||(p1x=[p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y]);var bbox=curveDim.apply(null,p1x);return{x:bbox.min.x,y:bbox.min.y,x2:bbox.max.x,y2:bbox.max.y,width:bbox.max.x-bbox.min.x,height:bbox.max.y-bbox.min.y}},R.isPointInsideBBox=function(bbox,x,y){return x>=bbox.x&&x<=bbox.x2&&y>=bbox.y&&y<=bbox.y2},R.isBBoxIntersect=function(bbox1,bbox2){var i=R.isPointInsideBBox;return i(bbox2,bbox1.x,bbox1.y)||i(bbox2,bbox1.x2,bbox1.y)||i(bbox2,bbox1.x,bbox1.y2)||i(bbox2,bbox1.x2,bbox1.y2)||i(bbox1,bbox2.x,bbox2.y)||i(bbox1,bbox2.x2,bbox2.y)||i(bbox1,bbox2.x,bbox2.y2)||i(bbox1,bbox2.x2,bbox2.y2)||(bbox1.x<bbox2.x2&&bbox1.x>bbox2.x||bbox2.x<bbox1.x2&&bbox2.x>bbox1.x)&&(bbox1.y<bbox2.y2&&bbox1.y>bbox2.y||bbox2.y<bbox1.y2&&bbox2.y>bbox1.y)},R.pathIntersection=function(path1,path2){return interPathHelper(path1,path2)},R.pathIntersectionNumber=function(path1,path2){return interPathHelper(path1,path2,1)},R.isPointInsidePath=function(path,x,y){var bbox=R.pathBBox(path);return R.isPointInsideBBox(bbox,x,y)&&(interPathHelper(path,[["M",x,y],["H",bbox.x2+10]],1)%2==1||interPathHelper(path,[["M",x,y],["V",bbox.y2+10]],1)%2==1)},R._removedFactory=function(methodname){return function(){eve("raphael.log",null,"Raphal: you are calling to method "+methodname+" of removed object",methodname)}};var pathDimensions=R.pathBBox=function(path){var pth=paths(path);if(pth.bbox)return pth.bbox;if(!path)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var x=0,y=0,X=[],Y=[],p,i=0,ii=(path=path2curve(path)).length;i<ii;i++)if("M"==(p=path[i])[0])x=p[1],y=p[2],X.push(x),Y.push(y);else{var dim=curveDim(x,y,p[1],p[2],p[3],p[4],p[5],p[6]);X=X.concat(dim.min.x,dim.max.x),Y=Y.concat(dim.min.y,dim.max.y),x=p[5],y=p[6]}var xmin=mmin[apply](0,X),ymin=mmin[apply](0,Y),xmax=mmax[apply](0,X),ymax=mmax[apply](0,Y),bb={x:xmin,y:ymin,x2:xmax,y2:ymax,width:xmax-xmin,height:ymax-ymin};return pth.bbox=clone(bb),bb},pathClone=function(pathArray){var res=clone(pathArray);return res.toString=R._path2string,res},pathToRelative=R._pathToRelative=function(pathArray){var pth=paths(pathArray);if(pth.rel)return pathClone(pth.rel);R.is(pathArray,array)&&R.is(pathArray&&pathArray[0],array)||(pathArray=R.parsePathString(pathArray));var res=[],x=0,y=0,mx=0,my=0,start=0;"M"==pathArray[0][0]&&(mx=x=pathArray[0][1],my=y=pathArray[0][2],start++,res.push(["M",x,y]));for(var i=start,ii=pathArray.length;i<ii;i++){var r=res[i]=[],pa=pathArray[i];if(pa[0]!=lowerCase.call(pa[0]))switch(r[0]=lowerCase.call(pa[0]),r[0]){case"a":r[1]=pa[1],r[2]=pa[2],r[3]=pa[3],r[4]=pa[4],r[5]=pa[5],r[6]=+(pa[6]-x).toFixed(3),r[7]=+(pa[7]-y).toFixed(3);break;case"v":r[1]=+(pa[1]-y).toFixed(3);break;case"m":mx=pa[1],my=pa[2];default:for(var j=1,jj=pa.length;j<jj;j++)r[j]=+(pa[j]-(j%2?x:y)).toFixed(3)}else{r=res[i]=[],"m"==pa[0]&&(mx=pa[1]+x,my=pa[2]+y);for(var k=0,kk=pa.length;k<kk;k++)res[i][k]=pa[k]}var len=res[i].length;switch(res[i][0]){case"z":x=mx,y=my;break;case"h":x+=+res[i][len-1];break;case"v":y+=+res[i][len-1];break;default:x+=+res[i][len-2],y+=+res[i][len-1]}}return res.toString=R._path2string,pth.rel=pathClone(res),res},pathToAbsolute=R._pathToAbsolute=function(pathArray){var pth=paths(pathArray),res;if(pth.abs)return pathClone(pth.abs);if(R.is(pathArray,array)&&R.is(pathArray&&pathArray[0],array)||(pathArray=R.parsePathString(pathArray)),!pathArray||!pathArray.length)return(res=["M",0,0]).toString=R._path2string,res;var x=0,y=0,mx=0,my=0,start=0;res=[],"M"==pathArray[0][0]&&(mx=x=+pathArray[0][1],my=y=+pathArray[0][2],start++,res[0]=["M",x,y]);for(var crz=3==pathArray.length&&"M"==pathArray[0][0]&&"R"==pathArray[1][0].toUpperCase()&&"Z"==pathArray[2][0].toUpperCase(),r,pa,i=start,ii=pathArray.length;i<ii;i++){if(res.push(r=[]),(pa=pathArray[i])[0]!=upperCase.call(pa[0]))switch(r[0]=upperCase.call(pa[0]),r[0]){case"A":r[1]=pa[1],r[2]=pa[2],r[3]=pa[3],r[4]=pa[4],r[5]=pa[5],r[6]=+(pa[6]+x),r[7]=+(pa[7]+y);break;case"V":r[1]=+pa[1]+y;break;case"H":r[1]=+pa[1]+x;break;case"R":for(var dots=[x,y].concat(pa.slice(1)),j=2,jj=dots.length;j<jj;j++)dots[j]=+dots[j]+x,dots[++j]=+dots[j]+y;res.pop(),res=res.concat(catmullRom2bezier(dots,crz));break;case"M":mx=+pa[1]+x,my=+pa[2]+y;default:for(j=1,jj=pa.length;j<jj;j++)r[j]=+pa[j]+(j%2?x:y)}else if("R"==pa[0])dots=[x,y].concat(pa.slice(1)),res.pop(),res=res.concat(catmullRom2bezier(dots,crz)),r=["R"].concat(pa.slice(-2));else for(var k=0,kk=pa.length;k<kk;k++)r[k]=pa[k];switch(r[0]){case"Z":x=mx,y=my;break;case"H":x=r[1];break;case"V":y=r[1];break;case"M":mx=r[r.length-2],my=r[r.length-1];default:x=r[r.length-2],y=r[r.length-1]}}return res.toString=R._path2string,pth.abs=pathClone(res),res},l2c=function(x1,y1,x2,y2){return[x1,y1,x2,y2,x2,y2]},q2c=function(x1,y1,ax,ay,x2,y2){var _13=1/3,_23=2/3;return[1/3*x1+2/3*ax,1/3*y1+2/3*ay,1/3*x2+2/3*ax,1/3*y2+2/3*ay,x2,y2]},a2c=function(x1,y1,rx,ry,angle,large_arc_flag,sweep_flag,x2,y2,recursive){var _120=120*PI/180,rad=deg2rad*(+angle||0),res=[],xy,rotate=cacher((function(x,y,rad){var X,Y;return{x:x*mathCos(rad)-y*mathSin(rad),y:x*mathSin(rad)+y*mathCos(rad)}}));if(recursive)f1=recursive[0],f2=recursive[1],cx=recursive[2],cy=recursive[3];else{x1=(xy=rotate(x1,y1,-rad)).x,y1=xy.y,x2=(xy=rotate(x2,y2,-rad)).x,y2=xy.y;var cos=mathCos(deg2rad*angle),sin=mathSin(deg2rad*angle),x=(x1-x2)/2,y=(y1-y2)/2,h=x*x/(rx*rx)+y*y/(ry*ry);h>1&&(rx*=h=mathSqrt(h),ry*=h);var rx2=rx*rx,ry2=ry*ry,k=(large_arc_flag==sweep_flag?-1:1)*mathSqrt(abs((rx2*ry2-rx2*y*y-ry2*x*x)/(rx2*y*y+ry2*x*x))),cx=k*rx*y/ry+(x1+x2)/2,cy=k*-ry*x/rx+(y1+y2)/2,f1=math.asin(((y1-cy)/ry).toFixed(9)),f2=math.asin(((y2-cy)/ry).toFixed(9));(f1=x1<cx?PI-f1:f1)<0&&(f1=2*PI+f1),(f2=x2<cx?PI-f2:f2)<0&&(f2=2*PI+f2),sweep_flag&&f1>f2&&(f1-=2*PI),!sweep_flag&&f2>f1&&(f2-=2*PI)}var df=f2-f1;if(abs(df)>_120){var f2old=f2,x2old=x2,y2old=y2;x2=cx+rx*mathCos(f2=f1+_120*(sweep_flag&&f2>f1?1:-1)),y2=cy+ry*mathSin(f2),res=a2c(x2,y2,rx,ry,angle,0,sweep_flag,x2old,y2old,[f2,f2old,cx,cy])}df=f2-f1;var c1=mathCos(f1),s1=mathSin(f1),c2=mathCos(f2),s2=mathSin(f2),t=math.tan(df/4),hx=4/3*rx*t,hy=4/3*ry*t,m1=[x1,y1],m2=[x1+hx*s1,y1-hy*c1],m3=[x2+hx*s2,y2-hy*c2],m4=[x2,y2];if(m2[0]=2*m1[0]-m2[0],m2[1]=2*m1[1]-m2[1],recursive)return[m2,m3,m4].concat(res);for(var newres=[],i=0,ii=(res=[m2,m3,m4].concat(res).join().split(",")).length;i<ii;i++)newres[i]=i%2?rotate(res[i-1],res[i],rad).y:rotate(res[i],res[i+1],rad).x;return newres},findDotAtSegment=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t;return{x:pow(t1,3)*p1x+3*pow(t1,2)*t*c1x+3*t1*t*t*c2x+pow(t,3)*p2x,y:pow(t1,3)*p1y+3*pow(t1,2)*t*c1y+3*t1*t*t*c2y+pow(t,3)*p2y}},curveDim=cacher((function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y){var a=c2x-2*c1x+p1x-(p2x-2*c2x+c1x),b=2*(c1x-p1x)-2*(c2x-c1x),c=p1x-c1x,t1=(-b+mathSqrt(b*b-4*a*c))/2/a,t2=(-b-mathSqrt(b*b-4*a*c))/2/a,y=[p1y,p2y],x=[p1x,p2x],dot;return abs(t1)>"1e12"&&(t1=.5),abs(t2)>"1e12"&&(t2=.5),t1>0&&t1<1&&(dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t1),x.push(dot.x),y.push(dot.y)),t2>0&&t2<1&&(dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t2),x.push(dot.x),y.push(dot.y)),t1=(-(b=2*(c1y-p1y)-2*(c2y-c1y))+mathSqrt(b*b-4*(a=c2y-2*c1y+p1y-(p2y-2*c2y+c1y))*(c=p1y-c1y)))/2/a,t2=(-b-mathSqrt(b*b-4*a*c))/2/a,abs(t1)>"1e12"&&(t1=.5),abs(t2)>"1e12"&&(t2=.5),t1>0&&t1<1&&(dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t1),x.push(dot.x),y.push(dot.y)),t2>0&&t2<1&&(dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t2),x.push(dot.x),y.push(dot.y)),{min:{x:mmin[apply](0,x),y:mmin[apply](0,y)},max:{x:mmax[apply](0,x),y:mmax[apply](0,y)}}})),path2curve=R._path2curve=cacher((function(path,path2){var pth=!path2&&paths(path);if(!path2&&pth.curve)return pathClone(pth.curve);for(var p=pathToAbsolute(path),p2=path2&&pathToAbsolute(path2),attrs={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},attrs2={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},processPath=function(path,d){var nx,ny;if(!path)return["C",d.x,d.y,d.x,d.y,d.x,d.y];switch(!(path[0]in{T:1,Q:1})&&(d.qx=d.qy=null),path[0]){case"M":d.X=path[1],d.Y=path[2];break;case"A":path=["C"].concat(a2c[apply](0,[d.x,d.y].concat(path.slice(1))));break;case"S":path=["C",nx=d.x+(d.x-(d.bx||d.x)),ny=d.y+(d.y-(d.by||d.y))].concat(path.slice(1));break;case"T":d.qx=d.x+(d.x-(d.qx||d.x)),d.qy=d.y+(d.y-(d.qy||d.y)),path=["C"].concat(q2c(d.x,d.y,d.qx,d.qy,path[1],path[2]));break;case"Q":d.qx=path[1],d.qy=path[2],path=["C"].concat(q2c(d.x,d.y,path[1],path[2],path[3],path[4]));break;case"L":path=["C"].concat(l2c(d.x,d.y,path[1],path[2]));break;case"H":path=["C"].concat(l2c(d.x,d.y,path[1],d.y));break;case"V":path=["C"].concat(l2c(d.x,d.y,d.x,path[1]));break;case"Z":path=["C"].concat(l2c(d.x,d.y,d.X,d.Y))}return path},fixArc=function(pp,i){if(pp[i].length>7){pp[i].shift();for(var pi=pp[i];pi.length;)pp.splice(i++,0,["C"].concat(pi.splice(0,6)));pp.splice(i,1),ii=mmax(p.length,p2&&p2.length||0)}},fixM=function(path1,path2,a1,a2,i){path1&&path2&&"M"==path1[i][0]&&"M"!=path2[i][0]&&(path2.splice(i,0,["M",a2.x,a2.y]),a1.bx=0,a1.by=0,a1.x=path1[i][1],a1.y=path1[i][2],ii=mmax(p.length,p2&&p2.length||0))},i=0,ii=mmax(p.length,p2&&p2.length||0);i<ii;i++){p[i]=processPath(p[i],attrs),fixArc(p,i),p2&&(p2[i]=processPath(p2[i],attrs2)),p2&&fixArc(p2,i),fixM(p,p2,attrs,attrs2,i),fixM(p2,p,attrs2,attrs,i);var seg=p[i],seg2=p2&&p2[i],seglen=seg.length,seg2len=p2&&seg2.length;attrs.x=seg[seglen-2],attrs.y=seg[seglen-1],attrs.bx=toFloat(seg[seglen-4])||attrs.x,attrs.by=toFloat(seg[seglen-3])||attrs.y,attrs2.bx=p2&&(toFloat(seg2[seg2len-4])||attrs2.x),attrs2.by=p2&&(toFloat(seg2[seg2len-3])||attrs2.y),attrs2.x=p2&&seg2[seg2len-2],attrs2.y=p2&&seg2[seg2len-1]}return p2||(pth.curve=pathClone(p)),p2?[p,p2]:p}),null,pathClone),parseDots=R._parseDots=cacher((function(gradient){for(var dots=[],i=0,ii=gradient.length;i<ii;i++){var dot={},par=gradient[i].match(/^([^:]*):?([\d\.]*)/);if(dot.color=R.getRGB(par[1]),dot.color.error)return null;dot.opacity=dot.color.opacity,dot.color=dot.color.hex,par[2]&&(dot.offset=par[2]+"%"),dots.push(dot)}for(i=1,ii=dots.length-1;i<ii;i++)if(!dots[i].offset){for(var start=toFloat(dots[i-1].offset||0),end=0,j=i+1;j<ii;j++)if(dots[j].offset){end=dots[j].offset;break}end||(end=100,j=ii);for(var d=((end=toFloat(end))-start)/(j-i+1);i<j;i++)start+=d,dots[i].offset=start+"%"}return dots})),tear=R._tear=function(el,paper){el==paper.top&&(paper.top=el.prev),el==paper.bottom&&(paper.bottom=el.next),el.next&&(el.next.prev=el.prev),el.prev&&(el.prev.next=el.next)},tofront=R._tofront=function(el,paper){return paper.top!==el&&(tear(el,paper),el.next=null,el.prev=paper.top,paper.top.next=el,paper.top=el,!0)},toback=R._toback=function(el,paper){return paper.bottom!==el&&(tear(el,paper),el.next=paper.bottom,el.prev=null,paper.bottom.prev=el,paper.bottom=el,!0)},insertafter=R._insertafter=function(el,el2,paper,paper2){tear(el,paper),el.parent=paper2,el2===paper2.top&&(paper2.top=el),el2.next&&(el2.next.prev=el),el.next=el2.next,el.prev=el2,el2.next=el},insertbefore=R._insertbefore=function(el,el2,paper,paper2){tear(el,paper),el.parent=paper2,el2===paper2.bottom&&(paper2.bottom=el),el2.prev&&(el2.prev.next=el),el.prev=el2.prev,el2.prev=el,el.next=el2},toMatrix=R.toMatrix=function(path,transform){var bb=pathDimensions(path),el={_:{transform:E},getBBox:function(){return bb}};return extractTransform(el,transform),el.matrix},transformPath=R.transformPath=function(path,transform){return mapPath(path,toMatrix(path,transform))},extractTransform=R._extractTransform=function(el,tstr){if(null==tstr)return el._.transform;tstr=Str(tstr).replace(/\.{3}|\u2026/g,el._.transform||E);var tdata=R.parseTransformString(tstr),deg=0,dx=0,dy=0,sx=1,sy=1,_=el._,m=new Matrix;if(_.transform=tdata||[],tdata)for(var i=0,ii=tdata.length;i<ii;i++){var t=tdata[i],tlen=t.length,command=Str(t[0]).toLowerCase(),absolute=t[0]!=command,inver=absolute?m.invert():0,x1,y1,x2,y2,bb;"t"==command&&3==tlen?absolute?(x1=inver.x(0,0),y1=inver.y(0,0),x2=inver.x(t[1],t[2]),y2=inver.y(t[1],t[2]),m.translate(x2-x1,y2-y1)):m.translate(t[1],t[2]):"r"==command?2==tlen?(bb=bb||el.getBBox(1),m.rotate(t[1],bb.x+bb.width/2,bb.y+bb.height/2),deg+=t[1]):4==tlen&&(absolute?(x2=inver.x(t[2],t[3]),y2=inver.y(t[2],t[3]),m.rotate(t[1],x2,y2)):m.rotate(t[1],t[2],t[3]),deg+=t[1]):"s"==command?2==tlen||3==tlen?(bb=bb||el.getBBox(1),m.scale(t[1],t[tlen-1],bb.x+bb.width/2,bb.y+bb.height/2),sx*=t[1],sy*=t[tlen-1]):5==tlen&&(absolute?(x2=inver.x(t[3],t[4]),y2=inver.y(t[3],t[4]),m.scale(t[1],t[2],x2,y2)):m.scale(t[1],t[2],t[3],t[4]),sx*=t[1],sy*=t[2]):"m"==command&&7==tlen&&m.add(t[1],t[2],t[3],t[4],t[5],t[6]),_.dirtyT=1,el.matrix=m}el.matrix=m,_.sx=sx,_.sy=sy,_.deg=deg,_.dx=dx=m.e,_.dy=dy=m.f,1==sx&&1==sy&&!deg&&_.bbox?(_.bbox.x+=+dx,_.bbox.y+=+dy):_.dirtyT=1},getEmpty=function(item){var l=item[0];switch(l.toLowerCase()){case"t":return[l,0,0];case"m":return[l,1,0,0,1,0,0];case"r":return 4==item.length?[l,0,item[2],item[3]]:[l,0];case"s":return 5==item.length?[l,1,1,item[3],item[4]]:3==item.length?[l,1,1]:[l,1]}},equaliseTransform=R._equaliseTransform=function(t1,t2){t2=Str(t2).replace(/\.{3}|\u2026/g,t1),t1=R.parseTransformString(t1)||[],t2=R.parseTransformString(t2)||[];for(var maxlength=mmax(t1.length,t2.length),from=[],to=[],i=0,j,jj,tt1,tt2;i<maxlength;i++){if(tt1=t1[i]||getEmpty(t2[i]),tt2=t2[i]||getEmpty(tt1),tt1[0]!=tt2[0]||"r"==tt1[0].toLowerCase()&&(tt1[2]!=tt2[2]||tt1[3]!=tt2[3])||"s"==tt1[0].toLowerCase()&&(tt1[3]!=tt2[3]||tt1[4]!=tt2[4]))return;for(from[i]=[],to[i]=[],j=0,jj=mmax(tt1.length,tt2.length);j<jj;j++)j in tt1&&(from[i][j]=tt1[j]),j in tt2&&(to[i][j]=tt2[j])}return{from:from,to:to}};function Matrix(a,b,c,d,e,f){null!=a?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}R._getContainer=function(x,y,w,h){var container;if(null!=(container=null!=h||R.is(x,object)?x:g.doc.getElementById(x)))return container.tagName?null==y?{container:container,width:container.style.pixelWidth||container.offsetWidth,height:container.style.pixelHeight||container.offsetHeight}:{container:container,width:y,height:w}:{container:1,x:x,y:y,width:w,height:h}},R.pathToRelative=pathToRelative,R._engine={},R.path2curve=path2curve,R.matrix=function(a,b,c,d,e,f){return new Matrix(a,b,c,d,e,f)},function(matrixproto){function norm(a){return a[0]*a[0]+a[1]*a[1]}function normalize(a){var mag=mathSqrt(norm(a));a[0]&&(a[0]/=mag),a[1]&&(a[1]/=mag)}matrixproto.add=function(a,b,c,d,e,f){var out=[[],[],[]],m=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],matrix=[[a,c,e],[b,d,f],[0,0,1]],x,y,z,res;for(a&&a instanceof Matrix&&(matrix=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]),x=0;x<3;x++)for(y=0;y<3;y++){for(res=0,z=0;z<3;z++)res+=m[x][z]*matrix[z][y];out[x][y]=res}this.a=out[0][0],this.b=out[1][0],this.c=out[0][1],this.d=out[1][1],this.e=out[0][2],this.f=out[1][2]},matrixproto.invert=function(){var me=this,x=me.a*me.d-me.b*me.c;return new Matrix(me.d/x,-me.b/x,-me.c/x,me.a/x,(me.c*me.f-me.d*me.e)/x,(me.b*me.e-me.a*me.f)/x)},matrixproto.clone=function(){return new Matrix(this.a,this.b,this.c,this.d,this.e,this.f)},matrixproto.translate=function(x,y){this.add(1,0,0,1,x,y)},matrixproto.scale=function(x,y,cx,cy){null==y&&(y=x),(cx||cy)&&this.add(1,0,0,1,cx,cy),this.add(x,0,0,y,0,0),(cx||cy)&&this.add(1,0,0,1,-cx,-cy)},matrixproto.rotate=function(a,x,y){a=R.rad(a),x=x||0,y=y||0;var cos=+mathCos(a).toFixed(9),sin=+mathSin(a).toFixed(9);this.add(cos,sin,-sin,cos,x,y),this.add(1,0,0,1,-x,-y)},matrixproto.x=function(x,y){return x*this.a+y*this.c+this.e},matrixproto.y=function(x,y){return x*this.b+y*this.d+this.f},matrixproto.get=function(i){return+this[Str.fromCharCode(97+i)].toFixed(4)},matrixproto.toString=function(){return R.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},matrixproto.toMatrixString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},matrixproto.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},matrixproto.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},matrixproto.split=function(){var out={};out.dx=this.e,out.dy=this.f;var row=[[this.a,this.c],[this.b,this.d]];out.scalex=mathSqrt(norm(row[0])),normalize(row[0]),out.shear=row[0][0]*row[1][0]+row[0][1]*row[1][1],row[1]=[row[1][0]-row[0][0]*out.shear,row[1][1]-row[0][1]*out.shear],out.scaley=mathSqrt(norm(row[1])),normalize(row[1]),out.shear/=out.scaley;var sin=-row[0][1],cos=row[1][1];return cos<0?(out.rotate=R.deg(math.acos(cos)),sin<0&&(out.rotate=360-out.rotate)):out.rotate=R.deg(math.asin(sin)),out.isSimple=!(+out.shear.toFixed(9)||out.scalex.toFixed(9)!=out.scaley.toFixed(9)&&out.rotate),out.isSuperSimple=!+out.shear.toFixed(9)&&out.scalex.toFixed(9)==out.scaley.toFixed(9)&&!out.rotate,out.noRotation=!+out.shear.toFixed(9)&&!out.rotate,out},matrixproto.toTransformString=function(shorter){var s=shorter||this.split();return s.isSimple?(s.scalex=+s.scalex.toFixed(4),s.scaley=+s.scaley.toFixed(4),s.rotate=+s.rotate.toFixed(4),(s.dx||s.dy?"t"+[s.dx,s.dy]:E)+(1!=s.scalex||1!=s.scaley?"s"+[s.scalex,s.scaley,0,0]:E)+(s.rotate?"r"+[s.rotate,0,0]:E)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(Matrix.prototype);var version=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(version&&version[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&version&&version[1]<8?paperproto.safari=function(){var rect=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});return setTimeout((function(){rect.remove()})),!0}:paperproto.safari=fun;for(var preventDefault=function(){this.returnValue=!1},preventTouch=function(){return this.originalEvent.preventDefault()},stopPropagation=function(){this.cancelBubble=!0},stopTouch=function(){return this.originalEvent.stopPropagation()},addEvent=R.addEvent=g.doc.addEventListener?function(obj,type,fn,element){var realName=supportsTouch&&touchMap[type]?touchMap[type]:type,f=function(e){var scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft;if(supportsTouch&&touchMap[has](type))for(var i=0,ii=e.targetTouches&&e.targetTouches.length;i<ii;i++)if(e.targetTouches[i].target==obj){var olde=e;(e=e.targetTouches[i]).originalEvent=olde,e.preventDefault=preventTouch,e.stopPropagation=stopTouch;break}return fn.call(element,e,e.clientX+scrollX,e.clientY+scrollY)};return obj.addEventListener(realName,f,!1),function(){return obj.removeEventListener(realName,f,!1),!0}}:g.doc.attachEvent?function(obj,type,fn,element){var f=function(e){e=e||g.win.event;var scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,x=e.clientX+scrollX,y=e.clientY+scrollY;return e.preventDefault=e.preventDefault||preventDefault,e.stopPropagation=e.stopPropagation||stopPropagation,fn.call(element,e,x,y)},detacher;return obj.attachEvent("on"+type,f),function(){return obj.detachEvent("on"+type,f),!0}}:void 0,drag=[],dragMove=function(e){for(var x=e.clientX,y=e.clientY,scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,dragi,j=drag.length;j--;){if(dragi=drag[j],supportsTouch){for(var i=e.touches.length,touch;i--;)if((touch=e.touches[i]).identifier==dragi.el._drag.id){x=touch.clientX,y=touch.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();if(!dragi.el.removed){var node=R._engine.getNode(dragi.el),o,next=node.nextSibling,parent=node.parentNode,display=node.style.display;g.win.opera&&parent.removeChild(node),node.style.display="none",o=dragi.el.paper.getElementByPoint(x,y),node.style.display=display,g.win.opera&&(next?parent.insertBefore(node,next):parent.appendChild(node)),o&&eve("raphael.drag.over."+dragi.el.id,dragi.el,o),x+=scrollX,y+=scrollY,eve("raphael.drag.move."+dragi.el.id,dragi.move_scope||dragi.el,x-dragi.el._drag.x,y-dragi.el._drag.y,x,y,e)}}},dragUp=function(e){R.unmousemove(dragMove).unmouseup(dragUp);for(var i=drag.length,dragi;i--;)(dragi=drag[i]).el._drag={},eve("raphael.drag.end."+dragi.el.id,dragi.end_scope||dragi.start_scope||dragi.move_scope||dragi.el,e);drag=[]},elproto=R.el={},i=events.length;i--;)!function(eventName){R[eventName]=elproto[eventName]=function(fn,scope){return R.is(fn,"function")&&(this.events=this.events||[],this.events.push({name:eventName,f:fn,unbind:addEvent(this.shape||this.node||g.doc,eventName,fn,scope||this)})),this},R["un"+eventName]=elproto["un"+eventName]=function(fn){for(var events=this.events||[],l=events.length;l--;)if(events[l].name==eventName&&events[l].f==fn)return events[l].unbind(),events.splice(l,1),!events.length&&delete this.events,this;return this}}(events[i]);elproto.data=function(key,value){var data=eldata[this.id]=eldata[this.id]||{};if(1==arguments.length){if(R.is(key,object)){for(var i in key)key[has](i)&&this.data(i,key[i]);return this}return eve("raphael.data.get."+this.id,this,data[key],key),data[key]}return data[key]=value,eve("raphael.data.set."+this.id,this,value,key),this},elproto.removeData=function(key){return null==key?delete eldata[this.id]:eldata[this.id]&&delete eldata[this.id][key],this},elproto.getData=function(){return clone(eldata[this.id]||{})};var downables=[],mouseDown=function(){this.untrack=addEvent(g.doc,"mouseup",mouseUp,this)},mouseUp=function(){return this.untrack(),this.untrack=null,this.fn&&this.fn.apply(this.scope||this.el,arguments)};elproto.mouseup=function(fn,scope,track){return track?(downables.push(track={el:this,fn:fn,scope:scope}),track.unbind=addEvent(this.shape||this.node||g.doc,"mousedown",mouseDown,track),this):R.mouseup.apply(this,arguments)},elproto.unmouseup=function(fn){for(var i=downables.length,undowned;i--;)downables[i].el===this&&downables[i].fn===fn&&((undowned=downables[i]).unbind(),undowned.untrack&&undowned.untrack(),downables.splice(i,1));return undowned?this:R.unmouseup.apply(this,arguments)},elproto.hover=function(f_in,f_out,scope_in,scope_out){return this.mouseover(f_in,scope_in).mouseout(f_out,scope_out||scope_in)},elproto.unhover=function(f_in,f_out){return this.unmouseover(f_in).unmouseout(f_out)};var draggable=[];elproto.drag=function(onmove,onstart,onend,move_scope,start_scope,end_scope){function start(e){(e.originalEvent||e).preventDefault();var scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft;this._drag.x=e.clientX+scrollX,this._drag.y=e.clientY+scrollY,this._drag.id=e.identifier,!drag.length&&R.mousemove(dragMove).mouseup(dragUp),drag.push({el:this,move_scope:move_scope,start_scope:start_scope,end_scope:end_scope}),onstart&&eve.on("raphael.drag.start."+this.id,onstart),onmove&&eve.on("raphael.drag.move."+this.id,onmove),onend&&eve.on("raphael.drag.end."+this.id,onend),eve("raphael.drag.start."+this.id,start_scope||move_scope||this,e.clientX+scrollX,e.clientY+scrollY,e)}return this._drag={},draggable.push({el:this,start:start}),this.mousedown(start),this},elproto.onDragOver=function(f){f?eve.on("raphael.drag.over."+this.id,f):eve.unbind("raphael.drag.over."+this.id)},elproto.undrag=function(){for(var i=draggable.length;i--;)draggable[i].el==this&&(this.unmousedown(draggable[i].start),draggable.splice(i,1),eve.unbind("raphael.drag.*."+this.id));!draggable.length&&R.unmousemove(dragMove).unmouseup(dragUp),delete this._drag},elproto.follow=function(el,callback,stalk){return el.removed||el.constructor!==R.el.constructor?this:(el.followers.push({el:this,stalk:stalk={before:"insertBefore",after:"insertAfter"}[stalk],cb:callback}),stalk&&this[stalk](el),this)},elproto.unfollow=function(el){if(el.removed||el.constructor!==R.el.constructor)return this;for(var i=0,ii=el.followers.length;i<ii;i++)if(el.followers[i].el===this){el.followers.splice(i,1);break}return this},paperproto.hide=function(){var paper=this;return this.canvas.style.visibility="hidden",this},paperproto.show=function(){var paper=this;return this.canvas.style.visibility=E,this},paperproto.group=function(){var paper=this,args=arguments,group=lastArgIfGroup(args,!0),out=R._engine.group(paper,args[0],group);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out},paperproto.circle=function(){var paper=this,args=arguments,group=lastArgIfGroup(args,!0),attrs=serializeArgs(args,"cx",0,"cy",0,"r",0,"fill",none,"stroke",black),out=R._engine.circle(paper,attrs,group);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out},paperproto.rect=function(){var paper=this,args=arguments,group=lastArgIfGroup(args,!0),attrs=serializeArgs(args,"x",0,"y",0,"width",0,"height",0,"r",0,"fill",none,"stroke",black),out=R._engine.rect(paper,attrs,group);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out},paperproto.ellipse=function(){var paper=this,args=arguments,group=lastArgIfGroup(args,!0),attrs=serializeArgs(args,"x",0,"y",0,"rx",0,"ry",0,"fill",none,"stroke",black),out=R._engine.ellipse(this,attrs,group);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out},paperproto.path=function(){var paper=this,args=arguments,group=lastArgIfGroup(args,!0),attrs=serializeArgs(args,"path",E,"fill",none,"stroke",black),out=R._engine.path(paper,attrs,group);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out},paperproto.image=function(){var paper=this,args=arguments,group=lastArgIfGroup(args,!0),attrs=serializeArgs(args,"src","about:blank","x",0,"y",0,"width",0,"height",0);return out=R._engine.image(paper,attrs,group),paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out},paperproto.text=function(){var paper=this,args=arguments,group=lastArgIfGroup(args,!0),attrs=serializeArgs(args,"x",0,"y",0,"text",E,"stroke",none,"fill",black,"text-anchor","middle","vertical-align","middle"),out=R._engine.text(paper,attrs,group);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out},paperproto.set=function(itemsArray){!R.is(itemsArray,"array")&&(itemsArray=arraySplice.call(arguments,0,arguments.length));var out=new Set(itemsArray);return this.__set__&&this.__set__.push(out),out},paperproto.setStart=function(set){this.__set__=set||this.set()},paperproto.setFinish=function(set){var out=this.__set__;return delete this.__set__,out},paperproto.setSize=function(width,height){return R._engine.setSize.call(this,width,height)},paperproto.setViewBox=function(x,y,w,h,fit){return R._engine.setViewBox.call(this,x,y,w,h,fit)},paperproto.top=paperproto.bottom=null,paperproto.raphael=R;var getOffset=function(elem){var box=elem.getBoundingClientRect(),doc=elem.ownerDocument,body=doc.body,docElem=doc.documentElement,clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,top,left;return{y:box.top+(g.win.pageYOffset||docElem.scrollTop||body.scrollTop)-clientTop,x:box.left+(g.win.pageXOffset||docElem.scrollLeft||body.scrollLeft)-clientLeft}};function x_y(){return this.x+S+this.y}function x_y_w_h(){return this.x+S+this.y+S+this.width+"  "+this.height}paperproto.getElementByPoint=function(x,y){var paper=this,svg=this.canvas,target=g.doc.elementFromPoint(x,y);if(g.win.opera&&"svg"==target.tagName){var so=getOffset(svg),sr=svg.createSVGRect();sr.x=x-so.x,sr.y=y-so.y,sr.width=sr.height=1;var hits=svg.getIntersectionList(sr,null);hits.length&&(target=hits[hits.length-1])}if(!target)return null;for(;target.parentNode&&target!=svg.parentNode&&!target.raphael;)target=target.parentNode;return target==this.canvas.parentNode&&(target=svg),target=target&&target.raphael?this.getById(target.raphaelid):null},paperproto.getElementsByBBox=function(bbox){var set=this.set();return this.forEach((function(el){R.isBBoxIntersect(el.getBBox(),bbox)&&set.push(el)})),set},paperproto.getById=function(id){return this._elementsById[id]||null},paperproto.forEach=function(callback,thisArg){for(var bot=this.bottom;bot;){if(!1===callback.call(thisArg,bot))return this;bot=bot.next}return this},paperproto.getElementsByPoint=function(x,y){var set=this.set();return this.forEach((function(el){el.isPointInside(x,y)&&set.push(el)})),set},elproto.isPointInside=function(x,y){var rp=this.realPath=this.realPath||getPath[this.type](this),tr;return R.isPointInsidePath((tr=this.attr("transform"))&&tr.length&&R.transformPath(rp,tr)||rp,x,y)},elproto.getBBox=function(isWithoutTransform){if(this.removed)return{};var _=this._;return isWithoutTransform?(!_.dirty&&_.bboxwt||(this.realPath=getPath[this.type](this),_.bboxwt=pathDimensions(this.realPath),_.bboxwt.toString=x_y_w_h,_.dirty=0),_.bboxwt):((_.dirty||_.dirtyT||!_.bbox)&&(!_.dirty&&this.realPath||(_.bboxwt=0,this.realPath=getPath[this.type](this)),_.bbox=pathDimensions(mapPath(this.realPath,this.matrix)),_.bbox.toString=x_y_w_h,_.dirty=_.dirtyT=0),_.bbox)},elproto.clone=function(){if(this.removed)return null;var o=this,out=o.paper[o.type]().attr(o.attr());return o.__set__&&o.__set__.push(out),out},elproto.glow=function(glow){if("text"==this.type)return null;var s={width:((glow=glow||{}).width||10)+(+this.attr("stroke-width")||1),fill:glow.fill||!1,opacity:glow.opacity||.5,offsetx:glow.offsetx||0,offsety:glow.offsety||0,color:glow.color||"#000"},c=s.width/2,r=this.paper,out=r.set(),path=this.realPath||getPath[this.type](this);path=this.matrix?mapPath(path,this.matrix):path;for(var i=1;i<c+1;i++)out.push(r.path(path).attr({stroke:s.color,fill:s.fill?s.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(s.width/c*i).toFixed(3),opacity:+(s.opacity/c).toFixed(3)}));return out.insertBefore(this).translate(s.offsetx,s.offsety)};var getPointAtSegmentLength=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,length){return null==length?bezlen(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y):R.findDotsAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,getTatLen(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,length))},getLengthFactory=function(istotal,subpath){return function(path,length,onlystart){for(var x,y,p,l,sp="",subpaths={},point,len=0,i=0,ii=(path=path2curve(path)).length;i<ii;i++){if("M"==(p=path[i])[0])x=+p[1],y=+p[2];else{if(len+(l=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6]))>length){if(subpath&&!subpaths.start){if(sp+=["C"+(point=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6],length-len)).start.x,point.start.y,point.m.x,point.m.y,point.x,point.y],onlystart)return sp;subpaths.start=sp,sp=["M"+point.x,point.y+"C"+point.n.x,point.n.y,point.end.x,point.end.y,p[5],p[6]].join(),len+=l,x=+p[5],y=+p[6];continue}if(!istotal&&!subpath)return{x:(point=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6],length-len)).x,y:point.y,alpha:point.alpha}}len+=l,x=+p[5],y=+p[6]}sp+=p.shift()+p}return subpaths.end=sp,(point=istotal?len:subpath?subpaths:R.findDotsAtSegment(x,y,p[0],p[1],p[2],p[3],p[4],p[5],1)).alpha&&(point={x:point.x,y:point.y,alpha:point.alpha}),point}},getTotalLength=getLengthFactory(1),getPointAtLength=getLengthFactory(),getSubpathsAtLength=getLengthFactory(0,1);R.getTotalLength=getTotalLength,R.getPointAtLength=getPointAtLength,R.getSubpath=function(path,from,to){if(this.getTotalLength(path)-to<1e-6)return getSubpathsAtLength(path,from).end;var a=getSubpathsAtLength(path,to,1);return from?getSubpathsAtLength(a,from).end:a},elproto.getTotalLength=function(){if("path"==this.type)return this.node.getTotalLength?this.node.getTotalLength():getTotalLength(this.attrs.path)},elproto.getPointAtLength=function(length){if("path"==this.type)return getPointAtLength(this.attrs.path,length)},elproto.getSubpath=function(from,to){if("path"==this.type)return R.getSubpath(this.attrs.path,from,to)};var ef=R.easing_formulas={linear:function(n){return n},"<":function(n){return pow(n,1.7)},">":function(n){return pow(n,.48)},"<>":function(n){var q=.48-n/1.04,Q=mathSqrt(.1734+q*q),x=Q-q,X,y=-Q-q,Y,t=pow(abs(x),1/3)*(x<0?-1:1)+pow(abs(y),1/3)*(y<0?-1:1)+.5;return 3*(1-t)*t*t+t*t*t},backIn:function(n){var s=1.70158;return n*n*((s+1)*n-s)},backOut:function(n){var s=1.70158;return(n-=1)*n*((s+1)*n+s)+1},elastic:function(n){return n==!!n?n:pow(2,-10*n)*mathSin(2*PI*(n-.075)/.3)+1},bounce:function(n){var s=7.5625,p=2.75,l;return l=n<1/p?s*n*n:n<2/p?s*(n-=1.5/p)*n+.75:n<2.5/p?s*(n-=2.25/p)*n+.9375:s*(n-=2.625/p)*n+.984375}};ef.easeIn=ef["ease-in"]=ef["<"],ef.easeOut=ef["ease-out"]=ef[">"],ef.easeInOut=ef["ease-in-out"]=ef["<>"],ef["back-in"]=ef.backIn,ef["back-out"]=ef.backOut;var animationElements=[],requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,16)},animation=function(){for(var Now=+new Date,l=0;l<animationElements.length;l++){var e=animationElements[l];if(!e.el.removed&&!e.paused){var time=Now-e.start,ms=e.ms,easing=e.easing,from=e.from,diff=e.diff,to=e.to,t=e.t,that=e.el,set={},now,init={},key;if(e.initstatus?(time=(e.initstatus*e.anim.top-e.prev)/(e.percent-e.prev)*ms,e.status=e.initstatus,delete e.initstatus,e.stop&&animationElements.splice(l--,1)):e.status=(e.prev+(e.percent-e.prev)*(time/ms))/e.anim.top,!(time<0))if(time<ms){var pos=easing(time/ms);for(var attr in from)if(from[has](attr)){switch(availableAnimAttrs[attr]){case nu:now=+from[attr]+pos*ms*diff[attr];break;case"colour":now="rgb("+[upto255(round(from[attr].r+pos*ms*diff[attr].r)),upto255(round(from[attr].g+pos*ms*diff[attr].g)),upto255(round(from[attr].b+pos*ms*diff[attr].b))].join(",")+")";break;case"path":now=[];for(var i=0,ii=from[attr].length;i<ii;i++){now[i]=[from[attr][i][0]];for(var j=1,jj=from[attr][i].length;j<jj;j++)now[i][j]=(+from[attr][i][j]+pos*ms*diff[attr][i][j]).toFixed(4);now[i]=now[i].join(S)}now=now.join(S);break;case"transform":if(diff[attr].real)for(now=[],i=0,ii=from[attr].length;i<ii;i++)for(now[i]=[from[attr][i][0]],j=1,jj=from[attr][i].length;j<jj;j++)now[i][j]=from[attr][i][j]+pos*ms*diff[attr][i][j];else{var get=function(i){return+from[attr][i]+pos*ms*diff[attr][i]};now=[["m",get(0),get(1),get(2),get(3),get(4),get(5)]]}break;case"csv":if("clip-rect"==attr)for(now=[],i=4;i--;)now[i]=+from[attr][i]+pos*ms*diff[attr][i];break;default:var from2=[].concat(from[attr]);for(now=[],i=that.ca[attr].length;i--;)now[i]=+from2[i]+pos*ms*diff[attr][i]}set[attr]=now}that.attr(set),function(id,that,anim){setTimeout((function(){eve("raphael.anim.frame."+id,that,anim)}))}(that.id,that,e.anim)}else{if(function(f,el,a){setTimeout((function(){eve("raphael.anim.frame."+el.id,el,a),eve("raphael.anim.finish."+el.id,el,a),R.is(f,"function")&&f.call(el)}))}(e.callback,that,e.anim),that.attr(to),animationElements.splice(l--,1),e.repeat>1&&!e.next){for(key in to)to[has](key)&&(init[key]=e.totalOrigin[key]);e.el.attr(init),runAnimation(e.anim,e.el,e.anim.percents[0],null,e.totalOrigin,e.repeat-1)}e.next&&!e.stop&&runAnimation(e.anim,e.el,e.next,null,e.totalOrigin,e.repeat)}}}R.svg&&that&&that.paper&&that.paper.safari(),animationElements.length&&requestAnimFrame(animation)},upto255=function(color){return color>255?255:color<0?0:color};function CubicBezierAtTime(t,p1x,p1y,p2x,p2y,duration){var cx=3*p1x,bx=3*(p2x-p1x)-cx,ax=1-cx-bx,cy=3*p1y,by=3*(p2y-p1y)-cy,ay=1-cy-by;function sampleCurveX(t){return((ax*t+bx)*t+cx)*t}function solve(x,epsilon){var t=solveCurveX(x,epsilon);return((ay*t+by)*t+cy)*t}function solveCurveX(x,epsilon){var t0,t1,t2,x2,d2,i;for(t2=x,i=0;i<8;i++){if(x2=sampleCurveX(t2)-x,abs(x2)<epsilon)return t2;if(abs(d2=(3*ax*t2+2*bx)*t2+cx)<1e-6)break;t2-=x2/d2}if((t2=x)<(t0=0))return t0;if(t2>(t1=1))return t1;for(;t0<t1;){if(x2=sampleCurveX(t2),abs(x2-x)<epsilon)return t2;x>x2?t0=t2:t1=t2,t2=(t1-t0)/2+t0}return t2}return solve(t,1/(200*duration))}function Animation(anim,ms){var percents=[],newAnim={};if(this.ms=ms,this.times=1,anim){for(var attr in anim)anim[has](attr)&&(newAnim[toFloat(attr)]=anim[attr],percents.push(toFloat(attr)));percents.sort(sortByNumber)}this.anim=newAnim,this.top=percents[percents.length-1],this.percents=percents}function runAnimation(anim,element,percent,status,totalOrigin,times){percent=toFloat(percent);var params,isInAnim,isInAnimSet,percents=[],next,prev,timestamp,ms=anim.ms,from={},to={},diff={};if(status)for(i=0,ii=animationElements.length;i<ii;i++){var e=animationElements[i];if(e.el.id==element.id&&e.anim==anim){e.percent!=percent?(animationElements.splice(i,1),isInAnimSet=1):isInAnim=e,element.attr(e.totalOrigin);break}}else status=+to;for(var i=0,ii=anim.percents.length;i<ii;i++){if(anim.percents[i]==percent||anim.percents[i]>status*anim.top){percent=anim.percents[i],prev=anim.percents[i-1]||0,ms=ms/anim.top*(percent-prev),next=anim.percents[i+1],params=anim.anim[percent];break}status&&element.attr(anim.anim[anim.percents[i]])}if(params){if(isInAnim)isInAnim.initstatus=status,isInAnim.start=new Date-isInAnim.ms*status;else{for(var attr in params)if(params[has](attr)&&(availableAnimAttrs[has](attr)||element.ca[attr]))switch(from[attr]=element.attr(attr),null==from[attr]&&(from[attr]=availableAttrs[attr]),to[attr]=params[attr],availableAnimAttrs[attr]){case nu:diff[attr]=(to[attr]-from[attr])/ms;break;case"colour":from[attr]=R.getRGB(from[attr]);var toColour=R.getRGB(to[attr]);diff[attr]={r:(toColour.r-from[attr].r)/ms,g:(toColour.g-from[attr].g)/ms,b:(toColour.b-from[attr].b)/ms};break;case"path":var pathes=path2curve(from[attr],to[attr]),toPath=pathes[1];for(from[attr]=pathes[0],diff[attr]=[],i=0,ii=from[attr].length;i<ii;i++){diff[attr][i]=[0];for(var j=1,jj=from[attr][i].length;j<jj;j++)diff[attr][i][j]=(toPath[i][j]-from[attr][i][j])/ms}break;case"transform":var _=element._,eq=equaliseTransform(_[attr],to[attr]);if(eq)for(from[attr]=eq.from,to[attr]=eq.to,diff[attr]=[],diff[attr].real=!0,i=0,ii=from[attr].length;i<ii;i++)for(diff[attr][i]=[from[attr][i][0]],j=1,jj=from[attr][i].length;j<jj;j++)diff[attr][i][j]=(to[attr][i][j]-from[attr][i][j])/ms;else{var m=element.matrix||new Matrix,to2={_:{transform:_.transform},getBBox:function(){return element.getBBox(1)}};from[attr]=[m.a,m.b,m.c,m.d,m.e,m.f],extractTransform(to2,to[attr]),to[attr]=to2._.transform,diff[attr]=[(to2.matrix.a-m.a)/ms,(to2.matrix.b-m.b)/ms,(to2.matrix.c-m.c)/ms,(to2.matrix.d-m.d)/ms,(to2.matrix.e-m.e)/ms,(to2.matrix.f-m.f)/ms]}break;case"csv":var values=Str(params[attr]).split(separator),from2=Str(from[attr]).split(separator);if("clip-rect"==attr)for(from[attr]=from2,diff[attr]=[],i=from2.length;i--;)diff[attr][i]=(values[i]-from[attr][i])/ms;to[attr]=values;break;default:for(values=[].concat(params[attr]),from2=[].concat(from[attr]),diff[attr]=[],i=element.ca[attr].length;i--;)diff[attr][i]=((values[i]||0)-(from2[i]||0))/ms}var easing=params.easing,easyeasy=R.easing_formulas[easing];if(!easyeasy)if((easyeasy=Str(easing).match(bezierrg))&&5==easyeasy.length){var curve=easyeasy;easyeasy=function(t){return CubicBezierAtTime(t,+curve[1],+curve[2],+curve[3],+curve[4],ms)}}else easyeasy=pipe;if(e={anim:anim,percent:percent,timestamp:timestamp=params.start||anim.start||+new Date,start:timestamp+(anim.del||0),status:0,initstatus:status||0,stop:!1,ms:ms,easing:easyeasy,from:from,diff:diff,to:to,el:element,callback:params.callback,prev:prev,next:next,repeat:times||anim.times,origin:element.attr(),totalOrigin:totalOrigin},animationElements.push(e),status&&!isInAnim&&!isInAnimSet&&(e.stop=!0,e.start=new Date-ms*status,1==animationElements.length))return animation();isInAnimSet&&(e.start=new Date-e.ms*status),1==animationElements.length&&requestAnimFrame(animation)}eve("raphael.anim.start."+element.id,element,anim)}}function stopAnimation(paper){for(var i=0;i<animationElements.length;i++)animationElements[i].el.paper==paper&&animationElements.splice(i--,1)}elproto.animateWith=function(el,anim,params,ms,easing,callback){var element=this;if(this.removed)return callback&&callback.call(this),this;var a=params instanceof Animation?params:R.animation(params,ms,easing,callback),x,y;runAnimation(a,this,a.percents[0],null,this.attr());for(var i=0,ii=animationElements.length;i<ii;i++)if(animationElements[i].anim==anim&&animationElements[i].el==el){animationElements[ii-1].start=animationElements[i].start;break}return this},elproto.onAnimation=function(f){return f?eve.on("raphael.anim.frame."+this.id,f):eve.unbind("raphael.anim.frame."+this.id),this},Animation.prototype.delay=function(delay){var a=new Animation(this.anim,this.ms);return a.times=this.times,a.del=+delay||0,a},Animation.prototype.repeat=function(times){var a=new Animation(this.anim,this.ms);return a.del=this.del,a.times=math.floor(mmax(times,0))||1,a},R.animation=function(params,ms,easing,callback){if(params instanceof Animation)return params;!R.is(easing,"function")&&easing||(callback=callback||easing||null,easing=null),params=Object(params),ms=+ms||0;var p={},json,attr;for(attr in params)params[has](attr)&&toFloat(attr)!=attr&&toFloat(attr)+"%"!=attr&&(json=!0,p[attr]=params[attr]);return json?(easing&&(p.easing=easing),callback&&(p.callback=callback),new Animation({100:p},ms)):new Animation(params,ms)},elproto.animate=function(params,ms,easing,callback){var element=this;if(this.removed)return callback&&callback.call(this),this;var anim=params instanceof Animation?params:R.animation(params,ms,easing,callback);return runAnimation(anim,this,anim.percents[0],null,this.attr()),this},elproto.setTime=function(anim,value){return anim&&null!=value&&this.status(anim,mmin(value,anim.ms)/anim.ms),this},elproto.status=function(anim,value){var out=[],i=0,len,e;if(null!=value)return runAnimation(anim,this,-1,mmin(value,1)),this;for(len=animationElements.length;i<len;i++)if((e=animationElements[i]).el.id==this.id&&(!anim||e.anim==anim)){if(anim)return e.status;out.push({anim:e.anim,status:e.status})}return anim?0:out},elproto.pause=function(anim){for(var i=0;i<animationElements.length;i++)animationElements[i].el.id!=this.id||anim&&animationElements[i].anim!=anim||!1!==eve("raphael.anim.pause."+this.id,this,animationElements[i].anim)&&(animationElements[i].paused=!0);return this},elproto.resume=function(anim){for(var i=0;i<animationElements.length;i++)if(animationElements[i].el.id==this.id&&(!anim||animationElements[i].anim==anim)){var e=animationElements[i];!1!==eve("raphael.anim.resume."+this.id,this,e.anim)&&(delete e.paused,this.status(e.anim,e.status))}return this},elproto.stop=function(anim){for(var i=0;i<animationElements.length;i++)animationElements[i].el.id!=this.id||anim&&animationElements[i].anim!=anim||!1!==eve("raphael.anim.stop."+this.id,this,animationElements[i].anim)&&animationElements.splice(i--,1);return this},eve.on("raphael.remove",stopAnimation),eve.on("raphael.clear",stopAnimation),elproto.toString=function(){return"Raphals object"},elproto.toFront=function(){if(this.removed)return this;var o=this,thisNode=R._engine.getNode(o),parent=o.parent,followers=o.followers,follower,i,ii;for(R._tofront(o,parent)&&parent.canvas.appendChild(thisNode),i=0,ii=followers.length;i<ii;i++)(follower=followers[i]).stalk&&follower.el[follower.stalk](o);return o},elproto.toBack=function(){if(this.removed)return this;var o=this,thisNode=R._engine.getNode(o),parent=o.parent,followers=o.followers,follower,i,ii;for(R._toback(o,parent)&&parent.canvas.insertBefore(thisNode,parent.canvas.firstChild),i=0,ii=followers.length;i<ii;i++)(follower=followers[i]).stalk&&follower.el[follower.stalk](o);return o},elproto.insertAfter=function(element){if(this.removed)return this;var o=this,thisNode=R._engine.getNode(o),thatNode=R._engine.getLastNode(element),parentNode=element.parent.canvas,followers=o.followers,follower,i,ii;for(thatNode.nextSibling?parentNode.insertBefore(thisNode,thatNode.nextSibling):parentNode.appendChild(thisNode),R._insertafter(o,element,o.parent,element.parent),i=0,ii=followers.length;i<ii;i++)(follower=followers[i]).stalk&&follower.el[follower.stalk](element);return o},elproto.insertBefore=function(element){if(this.removed)return this;var o=this,thisNode=R._engine.getNode(o),thatNode=R._engine.getNode(element),followers=o.followers,follower,i,ii;for(element.parent.canvas.insertBefore(thisNode,thatNode),R._insertbefore(o,element,o.parent,element.parent),o.parent=element.parent,i=0,ii=followers.length;i<ii;i++)(follower=followers[i]).stalk&&follower.el[follower.stalk](element);return this},elproto.appendChild=function(element){if(this.removed||"group"!==this.type)return this;var group=this,followers=this.followers,follower,thatNode,i,ii;if(element.parent===this)return element.toFront(),this;for(thatNode=R._engine.getNode(element),R._tear(element,element.parent),this.canvas.appendChild(thatNode),element.parent=this,!this.bottom&&(this.bottom=element),element.prev=this.top,element.next=null,this.top&&(this.top.next=element),this.top=element,i=0,ii=followers.length;i<ii;i++)(follower=followers[i]).stalk&&follower.el[follower.stalk](element);return this},elproto.removeChild=function(element){if(this.removed||"group"!==this.type||element.parent!==this)return this;var o=this,thatNode=R._engine.getNode(element),paper=o.paper;return R._tear(element,o),paper.canvas.appendChild(thatNode),o.parent=paper,!paper.bottom&&(paper.bottom=o),o.prev=paper.top,paper.top&&(paper.top.next=o),paper.top=o,o.next=null,o};var Set=function(items){if(this.items=[],this.length=0,this.type="set",items)for(var i=0,ii=items.length;i<ii;i++)!items[i]||items[i].constructor!=elproto.constructor&&items[i].constructor!=Set||(this[this.items.length]=this.items[this.items.length]=items[i],this.length++)},setproto=Set.prototype,tokenRegex,objNotationRegex,replacer;for(var method in setproto.push=function(){for(var item,len,i=0,ii=arguments.length;i<ii;i++)!(item=arguments[i])||item.constructor!=elproto.constructor&&item.constructor!=Set||(this[len=this.items.length]=this.items[len]=item,this.length++);return this},setproto.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},setproto.forEach=function(callback,thisArg){for(var i=0,ii=this.items.length;i<ii;i++)if(!1===callback.call(thisArg,this.items[i],i))return this;return this},elproto)elproto[has](method)&&(setproto[method]=function(methodname){return function(){var arg=arguments;return this.forEach((function(el){el[methodname][apply](el,arg)}))}}(method));setproto.attr=function(name,value){if(name&&R.is(name,array)&&R.is(name[0],object))for(var j=0,jj=name.length;j<jj;j++)this.items[j].attr(name[j]);else for(var i=0,ii=this.items.length;i<ii;i++)this.items[i].attr(name,value);return this},setproto.clear=function(){for(;this.length;)this.pop()},setproto.splice=function(index,count,insertion){index=index<0?mmax(this.length+index,0):index,count=mmax(0,mmin(this.length-index,isNaN(count)&&this.length||count));var tail=[],todel=[],args=[],i;for(i=2;i<arguments.length;i++)args.push(arguments[i]);for(i=0;i<count;i++)todel.push(this[index+i]);for(;i<this.length-index;i++)tail.push(this[index+i]);var arglen=args.length;for(i=0;i<arglen+tail.length;i++)this.items[index+i]=this[index+i]=i<arglen?args[i]:tail[i-arglen];for(i=this.items.length=this.length-=count-arglen;this[i];)delete this[i++];return new Set(todel)},setproto.exclude=function(el){for(var i=0,ii=this.length;i<ii;i++)if(this[i]==el)return this.splice(i,1),!0},setproto.animate=function(params,ms,easing,callback){(R.is(easing,"function")||!easing)&&(callback=easing||null);var len=this.items.length,i=len,item,set=this,collector;if(!len)return this;callback&&(collector=function(){!--len&&callback.call(set)}),easing=R.is(easing,string)?easing:collector;var anim=R.animation(params,ms,easing,collector);for(item=this.items[--i].animate(anim);i--;)this.items[i]&&!this.items[i].removed&&this.items[i].animateWith(item,anim,anim);return this},setproto.insertAfter=function(el){for(var i=this.items.length;i--;)this.items[i].insertAfter(el);return this},setproto.getBBox=function(){for(var x=[],y=[],x2=[],y2=[],i=this.items.length;i--;)if(!this.items[i].removed){var box=this.items[i].getBBox();x.push(box.x),y.push(box.y),x2.push(box.x+box.width),y2.push(box.y+box.height)}return{x:x=mmin[apply](0,x),y:y=mmin[apply](0,y),x2:x2=mmax[apply](0,x2),y2:y2=mmax[apply](0,y2),width:x2-x,height:y2-y}},setproto.clone=function(s){s=new Set;for(var i=0,ii=this.items.length;i<ii;i++)s.push(this.items[i].clone());return s},setproto.toString=function(){return"Raphals set"},setproto.glow=function(glowConfig){var ret=this.paper.set();return this.forEach((function(shape,index){var g=shape.glow(glowConfig);null!=g&&g.forEach((function(shape2,index2){ret.push(shape2)}))})),ret},R.registerFont=function(font){if(!font.face)return font;this.fonts=this.fonts||{};var fontcopy={w:font.w,face:{},glyphs:{}},family=font.face["font-family"];for(var prop in font.face)font.face[has](prop)&&(fontcopy.face[prop]=font.face[prop]);if(this.fonts[family]?this.fonts[family].push(fontcopy):this.fonts[family]=[fontcopy],!font.svg)for(var glyph in fontcopy.face["units-per-em"]=toInt(font.face["units-per-em"],10),font.glyphs)if(font.glyphs[has](glyph)){var path=font.glyphs[glyph];if(fontcopy.glyphs[glyph]={w:path.w,k:{},d:path.d&&"M"+path.d.replace(/[mlcxtrv]/g,(function(command){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[command]||"M"}))+"z"},path.k)for(var k in path.k)path[has](k)&&(fontcopy.glyphs[glyph].k[k]=path.k[k])}return font},paperproto.getFont=function(family,weight,style,stretch){if(stretch=stretch||"normal",style=style||"normal",weight=+weight||{normal:400,bold:700,lighter:300,bolder:800}[weight]||400,R.fonts){var font=R.fonts[family],thefont;if(!font){var name=new RegExp("(^|\\s)"+family.replace(/[^\w\d\s+!~.:_-]/g,E)+"(\\s|$)","i");for(var fontName in R.fonts)if(R.fonts[has](fontName)&&name.test(fontName)){font=R.fonts[fontName];break}}if(font)for(var i=0,ii=font.length;i<ii&&((thefont=font[i]).face["font-weight"]!=weight||thefont.face["font-style"]!=style&&thefont.face["font-style"]||thefont.face["font-stretch"]!=stretch);i++);return thefont}},paperproto.print=function(x,y,string,font,size,origin,letter_spacing){origin=origin||"middle",letter_spacing=mmax(mmin(letter_spacing||0,1),-1);var letters=Str(string).split(E),shift=0,notfirst=0,path=E,scale;if(R.is(font,string)&&(font=this.getFont(font)),font){scale=(size||16)/font.face["units-per-em"];for(var bb=font.face.bbox.split(separator),top=+bb[0],lineHeight=bb[3]-bb[1],shifty=0,height=+bb[1]+("baseline"==origin?lineHeight+ +font.face.descent:lineHeight/2),i=0,ii=letters.length;i<ii;i++){if("\n"==letters[i])shift=0,curr=0,notfirst=0,shifty+=lineHeight;else{var prev=notfirst&&font.glyphs[letters[i-1]]||{},curr=font.glyphs[letters[i]];shift+=notfirst?(prev.w||font.w)+(prev.k&&prev.k[letters[i]]||0)+font.w*letter_spacing:0,notfirst=1}curr&&curr.d&&(path+=R.transformPath(curr.d,["t",shift*scale,shifty*scale,"s",scale,scale,top,height,"t",(x-top)/scale,(y-height)/scale]))}}return this.path(path).attr({fill:"#000",stroke:"none"})},paperproto.add=function(json){if(R.is(json,"array"))for(var res=this.set(),i=0,ii=json.length,j;i<ii;i++)j=json[i]||{},elements[has](j.type)&&res.push(this[j.type]().attr(j));return res},R.format=function(token,params){var args=R.is(params,array)?[0].concat(params):arguments;return token&&R.is(token,string)&&args.length-1&&(token=token.replace(formatrg,(function(str,i){return null==args[++i]?E:args[i]}))),token||E},R.fullfill=(tokenRegex=/\{([^\}]+)\}/g,objNotationRegex=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,replacer=function(all,key,obj){var res=obj;return key.replace(objNotationRegex,(function(all,name,quote,quotedName,isFunc){name=name||quotedName,res&&(name in res&&(res=res[name]),"function"==typeof res&&isFunc&&(res=res()))})),res=(null==res||res==obj?all:res)+""},function(str,obj){return String(str).replace(tokenRegex,(function(all,key){return replacer(all,key,obj)}))}),R.ninja=function(){return oldRaphael.was?g.win.Raphael=oldRaphael.is:delete Raphael,R};var crispFixer=R.vml?.5:0;return R.crispBound=cacher((function(x,y,w,h,s){var at={},normalizer;return x=x||0,y=y||0,w=w||0,h=h||0,normalizer=(s=s||0)%2/2+crispFixer,at.x=round(x+normalizer)-normalizer,at.y=round(y+normalizer)-normalizer,at.width=round(x+w+normalizer)-normalizer-at.x,at.height=round(y+h+normalizer)-normalizer-at.y,at["stroke-width"]=s,0===at.width&&0!==w&&(at.width=1),0===at.height&&0!==h&&(at.height=1),at}),R),elproto.crisp=function(){var o=this,attrs=o.attrs,key,values=o.attr(["x","y","width","height","stroke-width"]);for(key in values=R.crispBound(values.x,values.y,values.width,values.height,values["stroke-width"]))attrs[key]===values[key]&&delete values[key];return o.attr(values)},R.st=setproto,R.define=function(name,init,ca,fn,e,data){var i,ii;if(R.is(name,array))for(i=0,ii=name.length;i<ii;i++)R.define(name[i]);else if(R.is(name,object))R.define(name.name,name[name.name],name.ca,name.fn,name.e,name.data);else if(name&&!R.fn[name])return R.fn[name]=function(){var args=arguments,element=init.apply(this,args),key;if(fn&&R.is(fn,object))for(key in fn)element[key]=fn[key];if(e&&R.is(e,object))for(key in e)element[key]&&element[key](e[key]);if(ca){if(R.is(ca,"function"))element.ca[name]=ca;else for(key in ca)element.ca[key]=ca[key];element.ca[name]&&(R._lastArgIfGroup(args,!0),element.attr(name,arraySlice.call(args)))}return element},ca&&(R.fn[name].ca=ca),fn&&(R.fn[name].fn=fn),e&&(R.fn[name].e=e),data&&(R.fn[name].data=data),R.fn[name]},function(doc,loaded,f){function isLoaded(){/in/.test(doc.readyState)?setTimeout(isLoaded,9):R.eve("raphael.DOMload")}null==doc.readyState&&doc.addEventListener&&(doc.addEventListener(loaded,f=function(){doc.removeEventListener(loaded,f,!1),doc.readyState="complete"},!1),doc.readyState="loading"),isLoaded()}(document,"DOMContentLoaded"),eve.on("raphael.DOMload",(function(){loaded=!0})),
/**!
            * RedRaphael 1.0.0 - JavaScript Vector Library SVG Module
            * Copyright (c) 2012-2013 FusionCharts Technologies <http://www.fusioncharts.com>
            *
            * Raphael 2.1.0 - JavaScript Vector Library SVG Module
            * Copyright (c) 2008-2012 Dmitry Baranovskiy <http://raphaeljs.com>
            * Copyright  2008-2012 Sencha Labs <http://sencha.com>
            *
            * Licensed under the MIT license.
            */
function(){if(R.svg){var has="hasOwnProperty",Str=String,toFloat=parseFloat,toInt=parseInt,math=Math,mmax=math.max,abs=math.abs,pow=math.pow,sqrt=math.sqrt,separator=/[, ]+/,zeroStrokeFix=!(!/AppleWebKit/.test(R._g.win.navigator.userAgent)||/Chrome/.test(R._g.win.navigator.userAgent)&&!(R._g.win.navigator.appVersion.match(/Chrome\/(\d+)\./)[1]<29)),eve=R.eve,E="",S=" ",xlink="http://www.w3.org/1999/xlink",markers={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},markerCounter={},updateReferenceUrl=function(){return R._url=R._g.win.location.href.replace(/#.*?$/,E)};R.toString=function(){return"Your browser supports SVG.\nYou are running Raphal "+this.version},R._url=E;var updateGradientReference=function(element,newGradient){var gradient=element.gradient;if(gradient){if(gradient===newGradient)return;gradient.refCount--,gradient.refCount||gradient.parentNode.removeChild(gradient),delete element.gradient}newGradient&&(element.gradient=newGradient,newGradient.refCount++)},$=R._createNode=function(el,attr){if(attr)for(var key in"string"==typeof el&&(el=$(el)),attr)attr[has](key)&&("xlink:"==key.substring(0,6)?el.setAttributeNS(xlink,key.substring(6),Str(attr[key])):el.setAttribute(key,Str(attr[key])));else el=R._g.doc.createElementNS("http://www.w3.org/2000/svg",el);return el},gradientUnitNames={userSpaceOnUse:"userSpaceOnUse",objectBoundingBox:"objectBoundingBox"},gradientSpreadNames={pad:"pad",redlect:"reflect",repeat:"repeat"},addGradientFill=function(element,gradient){if(!element.paper||!element.paper.defs)return 0;var type="linear",SVG=element.paper,id=(SVG.id+"-"+gradient).replace(/[\(\)\s%:,\xb0#]/g,"_"),fx=.5,fy=.5,r,cx,cy,units,spread,o=element.node,s=o.style,el=R._g.doc.getElementById(id);if(!el){if(gradient=(gradient=Str(gradient).replace(R._radial_gradient,(function(all,opts){type="radial",opts=opts&&opts.split(",")||[],units=opts[5],spread=opts[6];var _fx=opts[0],_fy=opts[1],_r=opts[2],_cx=opts[3],_cy=opts[4],shifted=_fx&&_fy,dir,sqx;return _r&&(r=/\%/.test(_r)?_r:toFloat(_r)),units===gradientUnitNames.userSpaceOnUse?(shifted&&(fx=_fx,fy=_fy),_cx&&_cy&&(cx=_cx,cy=_cy,shifted||(fx=cx,fy=cy)),E):(shifted&&(fx=toFloat(_fx),dir=2*((fy=toFloat(_fy))>.5)-1,(sqx=pow(fx-.5,2))+pow(fy-.5,2)>.25&&sqx<.25&&(fy=sqrt(.25-sqx)*dir+.5)&&.5!==fy&&(fy=fy.toFixed(5)-1e-5*dir)),_cx&&_cy&&(cx=toFloat(_cx),dir=2*((cy=toFloat(_cy))>.5)-1,(sqx=pow(cx-.5,2))+pow(cy-.5,2)>.25&&sqx<.25&&(cy=sqrt(.25-sqx)*dir+.5)&&.5!==cy&&(cy=cy.toFixed(5)-1e-5*dir),shifted||(fx=cx,fy=cy)),E)}))).split(/\s*\-\s*/),"linear"==type){var angle=gradient.shift(),specs=angle.match(/\((.*)\)/),vector,max;if(specs=specs&&specs[1]&&specs[1].split(/\s*\,\s*/),angle=-toFloat(angle),isNaN(angle))return null;specs&&specs.length?(specs[0]in gradientUnitNames?(units=specs.shift(),specs[0]in gradientSpreadNames&&(spread=specs.shift())):(specs[4]&&(units=specs[4]),specs[5]&&(spread=specs[5])),vector=[specs[0]||"0%",specs[1]||"0%",specs[2]||"100%",specs[3]||"0%"]):(vector=[0,0,math.cos(R.rad(angle)),math.sin(R.rad(angle))],max=1/(mmax(abs(vector[2]),abs(vector[3]))||1),vector[2]*=max,vector[3]*=max,vector[2]<0&&(vector[0]=-vector[2],vector[2]=0),vector[3]<0&&(vector[1]=-vector[3],vector[3]=0))}var dots=R._parseDots(gradient);if(!dots)return null;(el=$(type+"Gradient",{id:id})).refCount=0,units in gradientUnitNames&&el.setAttribute("gradientUnits",Str(units)),spread in gradientSpreadNames&&el.setAttribute("spreadMethod",Str(spread)),"radial"===type?(void 0!==r&&el.setAttribute("r",Str(r)),void 0!==cx&&void 0!==cy&&(el.setAttribute("cx",Str(cx)),el.setAttribute("cy",Str(cy))),el.setAttribute("fx",Str(fx)),el.setAttribute("fy",Str(fy))):$(el,{x1:vector[0],y1:vector[1],x2:vector[2],y2:vector[3]});for(var i=0,ii=dots.length;i<ii;i++)el.appendChild($("stop",{offset:dots[i].offset?dots[i].offset:i?"100%":"0%","stop-color":dots[i].color||"#fff","stop-opacity":void 0===dots[i].opacity?1:dots[i].opacity}));SVG.defs.appendChild(el)}return updateGradientReference(element,el),$(o,{fill:"url('"+R._url+"#"+id+"')",opacity:1,"fill-opacity":1}),s.fill=E,s.opacity=1,s.fillOpacity=1,1},updatePosition=function(o){var bbox=o.getBBox(1);$(o.pattern,{patternTransform:o.matrix.invert()+" translate("+bbox.x+","+bbox.y+")"})},addArrow=function(o,value,isEnd){if("path"==o.type){for(var values=Str(value).toLowerCase().split("-"),p=o.paper,se=isEnd?"end":"start",node=o.node,attrs=o.attrs,stroke=attrs["stroke-width"],i=values.length,type="classic",from,to,dx,refX,attr,w=3,h=3,t=5;i--;)switch(values[i]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":type=values[i];break;case"wide":h=5;break;case"narrow":h=2;break;case"long":w=5;break;case"short":w=2}if("open"==type?(w+=2,h+=2,t+=2,dx=1,refX=isEnd?4:1,attr={fill:"none",stroke:attrs.stroke}):(refX=dx=w/2,attr={fill:attrs.stroke,stroke:"none"}),o._.arrows?isEnd?(o._.arrows.endPath&&markerCounter[o._.arrows.endPath]--,o._.arrows.endMarker&&markerCounter[o._.arrows.endMarker]--):(o._.arrows.startPath&&markerCounter[o._.arrows.startPath]--,o._.arrows.startMarker&&markerCounter[o._.arrows.startMarker]--):o._.arrows={},"none"!=type){var pathId="raphael-marker-"+type,markerId="raphael-marker-"+se+type+w+h+"-obj"+o.id;R._g.doc.getElementById(pathId)?markerCounter[pathId]++:(p.defs.appendChild($($("path"),{"stroke-linecap":"round",d:markers[type],id:pathId})),markerCounter[pathId]=1);var marker=R._g.doc.getElementById(markerId),use;marker?(markerCounter[markerId]++,use=marker.getElementsByTagName("use")[0]):(marker=$($("marker"),{id:markerId,markerHeight:h,markerWidth:w,orient:"auto",refX:refX,refY:h/2}),use=$($("use"),{"xlink:href":"#"+pathId,transform:(isEnd?"rotate(180 "+w/2+" "+h/2+") ":E)+"scale("+w/t+","+h/t+")","stroke-width":(1/((w/t+h/t)/2)).toFixed(4)}),marker.appendChild(use),p.defs.appendChild(marker),markerCounter[markerId]=1),$(use,attr);var delta=dx*("diamond"!=type&&"oval"!=type);isEnd?(from=o._.arrows.startdx*stroke||0,to=R.getTotalLength(attrs.path)-delta*stroke):(from=delta*stroke,to=R.getTotalLength(attrs.path)-(o._.arrows.enddx*stroke||0)),(attr={})["marker-"+se]="url('"+R._url+"#"+markerId+"')",(to||from)&&(attr.d=Raphael.getSubpath(attrs.path,from,to)),$(node,attr),o._.arrows[se+"Path"]=pathId,o._.arrows[se+"Marker"]=markerId,o._.arrows[se+"dx"]=delta,o._.arrows[se+"Type"]=type,o._.arrows[se+"String"]=value}else isEnd?(from=o._.arrows.startdx*stroke||0,to=R.getTotalLength(attrs.path)-from):(from=0,to=R.getTotalLength(attrs.path)-(o._.arrows.enddx*stroke||0)),o._.arrows[se+"Path"]&&$(node,{d:Raphael.getSubpath(attrs.path,from,to)}),delete o._.arrows[se+"Path"],delete o._.arrows[se+"Marker"],delete o._.arrows[se+"dx"],delete o._.arrows[se+"Type"],delete o._.arrows[se+"String"];for(attr in markerCounter)if(markerCounter[has](attr)&&!markerCounter[attr]){var item=R._g.doc.getElementById(attr);item&&item.parentNode.removeChild(item)}}},dasharray={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},addDashes=function(o,value,params){var predefValue=dasharray[Str(value).toLowerCase()];if(value=predefValue||void 0!==value&&[].concat(value)){var width=o.attrs["stroke-width"]||"1",butt={round:width,square:width,butt:0}[o.attrs["stroke-linecap"]||params["stroke-linecap"]]||0,i,l=i=value.length;if(predefValue)for(;i--;)value[i]=value[i]*width+(i%2?1:-1)*butt;else for(i=0;i<l;i+=2)value[i]-=butt,value[i+1]&&(value[i+1]+=butt),value[i]<=0&&(value[i]=.1);R.is(value,"array")&&$(o.node,{"stroke-dasharray":value.join(",")})}},applyCustomAttributes=function(o,attrs){for(var key in attrs)eve("raphael.attr."+key+"."+o.id,o,attrs[key],key),o.ca[key]&&o.attr(key,attrs[key])},setFillAndStroke=R._setFillAndStroke=function(o,params){if(o.paper.canvas){var node=o.node,attrs=o.attrs,paper=o.paper,s=node.style,vis=s.visibility;for(var att in s.visibility="hidden",params)if(params[has](att)){if(!R._availableAttrs[has](att))continue;var value=params[att];switch(attrs[att]=value,att){case"blur":o.blur(value);break;case"href":case"title":case"target":var pn=node.parentNode;if("a"!=pn.tagName.toLowerCase()){if(value==E)break;var hl=$("a");hl.raphael=!0,hl.raphaelid=node.raphaelid,pn.insertBefore(hl,node),hl.appendChild(node),pn=hl}"target"==att?pn.setAttributeNS(xlink,"show","blank"==value?"new":value):pn.setAttributeNS(xlink,att,value),node.titleNode=pn;break;case"cursor":s.cursor=value;break;case"transform":o.transform(value);break;case"rotation":R.is(value,"array")?o.rotate.apply(o,value):o.rotate(value);break;case"arrow-start":addArrow(o,value);break;case"arrow-end":addArrow(o,value,1);break;case"clip-path":var pathClip=!0;case"clip-rect":var rect=!pathClip&&Str(value).split(separator);if(o._.clipispath=!!pathClip,pathClip||4==rect.length){o.clip&&o.clip.parentNode.parentNode.removeChild(o.clip.parentNode);var el=$("clipPath"),rc=$(pathClip?"path":"rect");el.id=R.createUUID(),$(rc,pathClip?{d:value?attrs["clip-path"]=R._pathToAbsolute(value):R._availableAttrs.path,fill:"none"}:{x:rect[0],y:rect[1],width:rect[2],height:rect[3],transform:o.matrix.invert()}),el.appendChild(rc),paper.defs.appendChild(el),$(node,{"clip-path":"url('"+R._url+"#"+el.id+"')"}),o.clip=rc}if(!value){var path=node.getAttribute("clip-path");if(path){var clip=R._g.doc.getElementById(path.replace(/(^url\(#|\)$)/g,E));clip&&clip.parentNode.removeChild(clip),$(node,{"clip-path":E}),delete o.clip}}break;case"path":"path"==o.type&&($(node,{d:value?attrs.path=R._pathToAbsolute(value):R._availableAttrs.path}),o._.dirty=1,o._.arrows&&("startString"in o._.arrows&&addArrow(o,o._.arrows.startString),"endString"in o._.arrows&&addArrow(o,o._.arrows.endString,1)));break;case"width":if(node.setAttribute(att,value),o._.dirty=1,!attrs.fx)break;att="x",value=attrs.x;case"x":attrs.fx&&(value=-attrs.x-(attrs.width||0));case"rx":if("rx"==att&&"rect"==o.type)break;case"cx":node.setAttribute(att,value),o.pattern&&updatePosition(o),o._.dirty=1;break;case"height":if(node.setAttribute(att,value),o._.dirty=1,!attrs.fy)break;att="y",value=attrs.y;case"y":attrs.fy&&(value=-attrs.y-(attrs.height||0));case"ry":if("ry"==att&&"rect"==o.type)break;case"cy":node.setAttribute(att,value),o.pattern&&updatePosition(o),o._.dirty=1;break;case"r":"rect"==o.type?$(node,{rx:value,ry:value}):node.setAttribute(att,value),o._.dirty=1;break;case"src":"image"==o.type&&node.setAttributeNS(xlink,"href",value);break;case"stroke-width":1==o._.sx&&1==o._.sy||(value/=mmax(abs(o._.sx),abs(o._.sy))||1),paper._vbSize&&(value*=paper._vbSize),zeroStrokeFix&&0===value&&(value=1e-6),node.setAttribute(att,value),attrs["stroke-dasharray"]&&addDashes(o,attrs["stroke-dasharray"],params),o._.arrows&&("startString"in o._.arrows&&addArrow(o,o._.arrows.startString),"endString"in o._.arrows&&addArrow(o,o._.arrows.endString,1));break;case"stroke-dasharray":addDashes(o,value,params);break;case"fill":var isURL=Str(value).match(R._ISURL);if(isURL){el=$("pattern");var ig=$("image");el.id=R.createUUID(),$(el,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),$(ig,{x:0,y:0,"xlink:href":isURL[1]}),el.appendChild(ig),function(el){R._preload(isURL[1],(function(){var w=this.offsetWidth,h=this.offsetHeight;$(el,{width:w,height:h}),$(ig,{width:w,height:h}),paper.safari()}))}(el),paper.defs.appendChild(el),s.fill="url('"+R._url+"#"+el.id+"')",$(node,{fill:s.fill}),o.pattern=el,o.pattern&&updatePosition(o);break}var clr=R.getRGB(value);if(clr.error){if(("circle"==o.type||"ellipse"==o.type||"r"!=Str(value).charAt())&&addGradientFill(o,value)){if("opacity"in attrs||"fill-opacity"in attrs){var gradient=R._g.doc.getElementById(node.getAttribute("fill").replace(/^url\(#|\)$/g,E));if(gradient){var stops=gradient.getElementsByTagName("stop");$(stops[stops.length-1],{"stop-opacity":("opacity"in attrs?attrs.opacity:1)*("fill-opacity"in attrs?attrs["fill-opacity"]:1)})}}attrs.gradient=value,attrs.fill="none",s.fill=E;break}}else delete params.gradient,delete attrs.gradient,!R.is(attrs.opacity,"undefined")&&R.is(params.opacity,"undefined")&&$(node,{opacity:attrs.opacity}),!R.is(attrs["fill-opacity"],"undefined")&&R.is(params["fill-opacity"],"undefined")&&$(node,{"fill-opacity":attrs["fill-opacity"]}),o.gradient&&updateGradientReference(o);clr[has]("opacity")?($(node,{"fill-opacity":s.fillOpacity=clr.opacity>1?clr.opacity/100:clr.opacity}),o._.fillOpacityDirty=!0):o._.fillOpacityDirty&&R.is(attrs["fill-opacity"],"undefined")&&R.is(params["fill-opacity"],"undefined")&&(node.removeAttribute("fill-opacity"),s.fillOpacity=E,delete o._.fillOpacityDirty);case"stroke":clr=R.getRGB(value),node.setAttribute(att,clr.hex),s[att]=clr.hex,"stroke"==att&&(clr[has]("opacity")?($(node,{"stroke-opacity":s.strokeOpacity=clr.opacity>1?clr.opacity/100:clr.opacity}),o._.strokeOpacityDirty=!0):o._.strokeOpacityDirty&&R.is(attrs["stroke-opacity"],"undefined")&&R.is(params["stroke-opacity"],"undefined")&&(node.removeAttribute("stroke-opacity"),s.strokeOpacity=E,delete o._.strokeOpacityDirty),o._.arrows&&("startString"in o._.arrows&&addArrow(o,o._.arrows.startString),"endString"in o._.arrows&&addArrow(o,o._.arrows.endString,1)));break;case"gradient":("circle"==o.type||"ellipse"==o.type||"r"!=Str(value).charAt())&&addGradientFill(o,value);break;case"line-height":case"vertical-align":break;case"visibility":"hidden"===value?o.hide():o.show();break;case"opacity":attrs.gradient&&!attrs[has]("stroke-opacity")&&$(node,{"stroke-opacity":value>1?value/100:value});case"fill-opacity":if(attrs.gradient){(gradient=R._g.doc.getElementById(node.getAttribute("fill").replace(/^url\(#|\)$/g,E)))&&(stops=gradient.getElementsByTagName("stop"),$(stops[stops.length-1],{"stop-opacity":value}));break}default:var cssrule;"font-size"==att&&(value=toInt(value,10)+"px"),s[att.replace(/(\-.)/g,(function(w){return w.substring(1).toUpperCase()}))]=value,o._.dirty=1,node.setAttribute(att,value)}}"text"===o.type&&tuneText(o,params),s.visibility=vis}},leading=1.2,tuneText=function(el,params){if("text"==el.type&&(params[has]("text")||params[has]("font")||params[has]("font-size")||params[has]("x")||params[has]("y")||params[has]("line-height")||params[has]("vertical-align"))){var a=el.attrs,node=el.node,computedStyle,fontSize=node.firstChild&&R._g.doc.defaultView.getComputedStyle(node.firstChild,E)?toFloat(R._g.doc.defaultView.getComputedStyle(node.firstChild,E).getPropertyValue("font-size")):10,lineHeight=toFloat(params["line-height"]||a["line-height"])||1.2*fontSize,valign=a[has]("vertical-align")?a["vertical-align"]:"middle";if(isNaN(lineHeight)&&(lineHeight=1.2*fontSize),R.is(params.text,"array")&&(params.text=params.text.join("<br>")),valign="top"===valign?-.5:"bottom"===valign?.5:0,params[has]("text")&&(params.text!==a.text||el._textdirty)){for(a.text=params.text;node.firstChild;)node.removeChild(node.firstChild);for(var texts=Str(params.text).split(/\n|<br\s*?\/?>/gi),tspans=[],tspan,i=0,ii=texts.length;i<ii;i++)tspan=$("tspan"),$(tspan,i?{dy:lineHeight,x:a.x}:{dy:lineHeight*texts.length*valign,x:a.x}),texts[i]||(tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),texts[i]=" "),tspan.appendChild(R._g.doc.createTextNode(texts[i])),node.appendChild(tspan),tspans[i]=tspan;el._textdirty=!1}else for(i=0,ii=(tspans=node.getElementsByTagName("tspan")).length;i<ii;i++)i?$(tspans[i],{dy:lineHeight,x:a.x}):$(tspans[0],{dy:lineHeight*tspans.length*valign,x:a.x});$(node,{x:a.x,y:a.y}),el._.dirty=1;var bb=el._getBBox(),dif=a.y-(bb.y+bb.height/2);if(bb.isCalculated)switch(a["vertical-align"]){case"top":dif=.75*bb.height;break;case"bottom":dif=-.25*bb.height;break;default:dif=a.y-(bb.y+.25*bb.height)}dif&&R.is(dif,"finite")&&tspans[0]&&$(tspans[0],{dy:dif})}},Element=function(node,svg,group){var o=this,parent=group||svg;parent.canvas&&parent.canvas.appendChild(node),o.node=o[0]=node,node.raphael=!0,node.raphaelid=o.id=R._oid++,o.matrix=R.matrix(),o.realPath=null,o.attrs=o.attrs||{},o.followers=o.followers||[],o.paper=svg,o.ca=o.customAttributes=o.customAttributes||new svg._CustomAttributes,o._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},o.parent=parent,!parent.bottom&&(parent.bottom=o),o.prev=parent.top,parent.top&&(parent.top.next=o),parent.top=o,o.next=null},elproto=R.el;Element.prototype=elproto,elproto.constructor=Element,R._engine.getNode=function(el){var node=el.node||el[0].node;return node.titleNode||node},R._engine.getLastNode=function(el){var node=el.node||el[el.length-1].node;return node.titleNode||node},elproto.rotate=function(deg,cx,cy){var o=this,bbox;return o.removed?o:((deg=Str(deg).split(separator)).length-1&&(cx=toFloat(deg[1]),cy=toFloat(deg[2])),deg=toFloat(deg[0]),null==cy&&(cx=cy),null!=cx&&null!=cy||(cx=(bbox=o.getBBox(1)).x+bbox.width/2,cy=bbox.y+bbox.height/2),o.transform(o._.transform.concat([["r",deg,cx,cy]])),o)},elproto.scale=function(sx,sy,cx,cy){var o=this,bbox;return o.removed?o:((sx=Str(sx).split(separator)).length-1&&(sy=toFloat(sx[1]),cx=toFloat(sx[2]),cy=toFloat(sx[3])),sx=toFloat(sx[0]),null==sy&&(sy=sx),null==cy&&(cx=cy),null!=cx&&null!=cy||(bbox=o.getBBox(1)),cx=null==cx?bbox.x+bbox.width/2:cx,cy=null==cy?bbox.y+bbox.height/2:cy,o.transform(o._.transform.concat([["s",sx,sy,cx,cy]])),o)},elproto.translate=function(dx,dy){var o=this;return o.removed?o:((dx=Str(dx).split(separator)).length-1&&(dy=toFloat(dx[1])),dx=toFloat(dx[0])||0,dy=+dy||0,o.transform(o._.transform.concat([["t",dx,dy]])),o)},elproto.transform=function(tstr){var o=this,_=o._,sw;return null==tstr?_.transform:(R._extractTransform(o,tstr),o.clip&&!_.clipispath&&$(o.clip,{transform:o.matrix.invert()}),o.pattern&&updatePosition(o),o.node&&$(o.node,{transform:o.matrix}),1==_.sx&&1==_.sy||(sw=o.attrs[has]("stroke-width")?o.attrs["stroke-width"]:1,o.attr({"stroke-width":sw})),o)},elproto.hide=function(){var o=this;return!o.removed&&o.paper.safari(o.node.style.display="none"),o},elproto.show=function(){var o=this;return!o.removed&&o.paper.safari(o.node.style.display=E),o},elproto.remove=function(){if(!this.removed&&this.parent.canvas){var o=this,node=R._engine.getNode(o),paper=o.paper,defs=paper.defs,i;for(paper.__set__&&paper.__set__.exclude(o),eve.unbind("raphael.*.*."+o.id),o.gradient&&defs&&updateGradientReference(o);i=o.followers.pop();)i.el.remove();for(;i=o.bottom;)i.remove();if(o._drag&&o.undrag(),o.events)for(;i=o.events.pop();)i.unbind();for(i in o.parent.canvas.removeChild(node),o.removeData(),delete paper._elementsById[o.id],R._tear(o,o.parent),o)o[i]="function"==typeof o[i]?R._removedFactory(i):null;o.removed=!0}},elproto._getBBox=function(){var o=this,node=o.node,bbox={},a=o.attrs,align,hide;"none"===node.style.display&&(o.show(),hide=!0);try{bbox=node.getBBox(),"text"==o.type&&(void 0===bbox.x&&(bbox.isCalculated=!0,align=a["text-anchor"],bbox.x=(a.x||0)-bbox.width*("start"===align?0:"middle"===align?.5:1)),void 0===bbox.y&&(bbox.isCalculated=!0,align=a["vertical-align"],bbox.y=(a.y||0)-bbox.height*("bottom"===align?1:"middle"===align?.5:0)))}catch(e){}finally{bbox=bbox||{}}return hide&&o.hide(),bbox},elproto.attr=function(name,value){if(this.removed)return this;if(null==name){var res={};for(var a in this.attrs)this.attrs[has](a)&&(res[a]=this.attrs[a]);return res.gradient&&"none"==res.fill&&(res.fill=res.gradient)&&delete res.gradient,res.transform=this._.transform,res.visibility="none"===this.node.style.display?"hidden":"visible",res}if(null==value&&R.is(name,"string")){if("fill"==name&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==name)return this._.transform;if("visibility"==name)return"none"===this.node.style.display?"hidden":"visible";for(var names=name.split(separator),out={},i=0,ii=names.length;i<ii;i++)(name=names[i])in this.attrs?out[name]=this.attrs[name]:R.is(this.ca[name],"function")?out[name]=this.ca[name].def:out[name]=R._availableAttrs[name];return ii-1?out:out[names[0]]}if(null==value&&R.is(name,"array")){for(out={},i=0,ii=name.length;i<ii;i++)out[name[i]]=this.attr(name[i]);return out}if(null!=value){var params={};params[name]=value}else null!=name&&R.is(name,"object")&&(params=name);for(var key in params)eve("raphael.attr."+key+"."+this.id,this,params[key],key);var todel={},follower;for(key in this.ca)if(this.ca[key]&&params[has](key)&&R.is(this.ca[key],"function")&&!this.ca["_invoked"+key]){this.ca["_invoked"+key]=!0;var par=this.ca[key].apply(this,[].concat(params[key]));for(var subkey in delete this.ca["_invoked"+key],par)par[has](subkey)&&(params[subkey]=par[subkey]);this.attrs[key]=params[key],!1===par&&(todel[key]=params[key],delete params[key])}for(setFillAndStroke(this,params),i=0,ii=this.followers.length;i<ii;i++)(follower=this.followers[i]).cb&&!follower.cb.call(follower.el,params,this)||follower.el.attr(params);for(subkey in todel)params[subkey]=todel[subkey];return this},elproto.blur=function(size){var t=this;if(0!=+size){var fltr=$("filter"),blur=$("feGaussianBlur");t.attrs.blur=size,fltr.id=R.createUUID(),$(blur,{stdDeviation:+size||1.5}),fltr.appendChild(blur),t.paper.defs.appendChild(fltr),t._blur=fltr,$(t.node,{filter:"url('"+R._url+"#"+fltr.id+"')"})}else t._blur&&(t._blur.parentNode.removeChild(t._blur),delete t._blur,delete t.attrs.blur),t.node.removeAttribute("filter")},elproto.on=function(eventType,handler){if(this.removed)return this;var fn=handler;return R.supportsTouch&&(eventType=R._touchMap[eventType]||"click"===eventType&&"touchstart"||eventType,fn=function(e){e.preventDefault(),handler()}),this.node["on"+eventType]=fn,this},R._engine.path=function(svg,attrs,group){var el=$("path"),res=new Element(el,svg,group);return res.type="path",setFillAndStroke(res,attrs),applyCustomAttributes(res,attrs),res},R._engine.group=function(svg,id,group){var el=$("g"),res=new Element(el,svg,group);return res.type="group",res.canvas=res.node,res.top=res.bottom=null,res._id=id||E,id&&el.setAttribute("class","raphael-group-"+res.id+"-"+id),res},R._engine.circle=function(svg,attrs,group){var el=$("circle"),res=new Element(el,svg,group);return res.type="circle",setFillAndStroke(res,attrs),applyCustomAttributes(res,attrs),res},R._engine.rect=function(svg,attrs,group){var el=$("rect"),res=new Element(el,svg,group);return res.type="rect",attrs.rx=attrs.ry=attrs.r,setFillAndStroke(res,attrs),applyCustomAttributes(res,attrs),res},R._engine.ellipse=function(svg,attrs,group){var el=$("ellipse"),res=new Element(el,svg,group);return res.type="ellipse",setFillAndStroke(res,attrs),applyCustomAttributes(res,attrs),res},R._engine.image=function(svg,attrs,group){var el=$("image"),src=attrs.src,res=new Element(el,svg,group);return res.type="image",el.setAttribute("preserveAspectRatio","none"),setFillAndStroke(res,attrs),applyCustomAttributes(res,attrs),res},R._engine.text=function(svg,attrs,group){var el=$("text"),res=new Element(el,svg,group);return res.type="text",res._textdirty=!0,setFillAndStroke(res,attrs),applyCustomAttributes(res,attrs),res},R._engine.setSize=function(width,height){return this.width=width||this.width,this.height=height||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},R._engine.create=function(){var con=R._getContainer.apply(0,arguments),container=con&&con.container,x=con.x,y=con.y,width=con.width,height=con.height;if(!container)throw new Error("SVG container not found.");var cnvs=$("svg"),css="overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-moz-user-select:-moz-none;-khtml-user-select:none;-ms-user-select:none;user-select:none;-o-user-select:none;cursor:default;",isFloating;return x=x||0,y=y||0,$(cnvs,{height:height=height||342,version:1.1,width:width=width||512,xmlns:"http://www.w3.org/2000/svg"}),1==container?(cnvs.style.cssText=css+"position:absolute;left:"+x+"px;top:"+y+"px",R._g.doc.body.appendChild(cnvs),isFloating=1):(cnvs.style.cssText=css+"position:relative",container.firstChild?container.insertBefore(cnvs,container.firstChild):container.appendChild(cnvs)),(container=new R._Paper).width=width,container.height=height,container.canvas=cnvs,$(cnvs,{id:"raphael-paper-"+container.id}),container.clear(),container._left=container._top=0,isFloating&&(container.renderfix=function(){}),container.renderfix(),container},R._engine.setViewBox=function(x,y,w,h,fit){eve("raphael.setViewBox",this,this._viewBox,[x,y,w,h,fit]);var size=mmax(w/this.width,h/this.height),top=this.top,aspectRatio=fit?"meet":"xMinYMin",vb,sw;for(null==x?(this._vbSize&&(size=1),delete this._vbSize,vb="0 0 "+this.width+S+this.height):(this._vbSize=size,vb=x+S+y+S+w+S+h),$(this.canvas,{viewBox:vb,preserveAspectRatio:aspectRatio});size&&top;)sw="stroke-width"in top.attrs?top.attrs["stroke-width"]:1,top.attr({"stroke-width":sw}),top._.dirty=1,top._.dirtyT=1,top=top.prev;return this._viewBox=[x,y,w,h,!!fit],this},R.prototype.renderfix=function(){var cnvs=this.canvas,s=cnvs.style,pos;try{pos=cnvs.getScreenCTM()||cnvs.createSVGMatrix()}catch(e){pos=cnvs.createSVGMatrix()}var left=-pos.e%1,top=-pos.f%1;(left||top)&&(left&&(this._left=(this._left+left)%1,s.left=this._left+"px"),top&&(this._top=(this._top+top)%1,s.top=this._top+"px"))},R.prototype._desc=function(txt){var desc=this.desc;if(desc)for(;desc.firstChild;)desc.removeChild(desc.firstChild);else this.desc=desc=$("desc"),this.canvas.appendChild(desc);desc.appendChild(R._g.doc.createTextNode(R.is(txt,"string")?txt:"Created with Red Raphal "+R.version))},R.prototype.clear=function(){var c;for(eve("raphael.clear",this);c=this.bottom;)c.remove();for(c=this.canvas;c.firstChild;)c.removeChild(c.firstChild);this.bottom=this.top=null,c.appendChild(this.desc=$("desc")),c.appendChild(this.defs=$("defs"))},R.prototype.remove=function(){var i;for(eve("raphael.remove",this);i=this.bottom;)i.remove();for(i in this.defs&&this.defs.parentNode.removeChild(this.defs),this.desc&&this.desc.parentNode.removeChild(this.desc),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[i]="function"==typeof this[i]?R._removedFactory(i):null;this.removed=!0};var setproto=R.st;for(var method in elproto)elproto[has](method)&&!setproto[has](method)&&(setproto[method]=function(methodname){return function(){var arg=arguments;return this.forEach((function(el){el[methodname].apply(el,arg)}))}}(method))}}(),
/**!
            * RedRaphael 1.0.0 - JavaScript Vector Library VML Module
            * Copyright (c) 2012-2013 FusionCharts Technologies <http://www.fusioncharts.com>
            *
            * Raphael 2.1.0 - JavaScript Vector Library VML Module
            * Copyright (c) 2008-2012 Dmitry Baranovskiy <http://raphaeljs.com>
            * Copyright  2008-2012 Sencha Labs <http://sencha.com>
            *
            * Licensed under the MIT license.
            */
function(){if(R.vml){var has="hasOwnProperty",Str=String,toFloat=parseFloat,math=Math,round=math.round,mmax=math.max,mmin=math.min,sqrt=math.sqrt,abs=math.abs,fillString="fill",separator=/[, ]+/,eve=R.eve,ms=" progid:DXImageTransform.Microsoft",S=" ",E="",map={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bites=/([clmz]),?([^clmz]*)/gi,blurregexp=/ progid:\S+Blur\([^\)]+\)/g,val=/-?[^,\s-]+/g,cssDot="position:absolute;left:0;top:0;width:1px;height:1px",zoom=21600,pathTypes={path:1,rect:1,image:1},ovalTypes={circle:1,ellipse:1},path2vml=function(path){var total=/[ahqstv]/gi,command=R._pathToAbsolute;if(Str(path).match(total)&&(command=R._path2curve),total=/[clmz]/g,command==R._pathToAbsolute&&!Str(path).match(total)){var res=Str(path).replace(bites,(function(all,command,args){var vals=[],isMove="m"==command.toLowerCase(),res=map[command];return args.replace(val,(function(value){isMove&&2==vals.length&&(res+=vals+map["m"==command?"l":"L"],vals=[]),vals.push(round(value*zoom))})),res+vals}));return res||"m0,0"}var pa=command(path),p,r;res=[];for(var i=0,ii=pa.length;i<ii;i++){p=pa[i],"z"==(r=pa[i][0].toLowerCase())&&(r="x");for(var j=1,jj=p.length;j<jj;j++)r+=round(p[j]*zoom)+(j!=jj-1?",":E);res.push(r)}return res.length?res.join(S):"m0,0"},compensation=function(deg,dx,dy){var m=R.matrix();return m.rotate(-deg,.5,.5),{dx:m.x(dx,dy),dy:m.y(dx,dy)}},setCoords=function(p,sx,sy,dx,dy,deg){var _=p._,m=p.matrix,fillpos=_.fillpos,o=p.node,s=o.style,y=1,flip="",dxdy,kx=zoom/sx,ky=zoom/sy;if(s.visibility="hidden",sx&&sy){if(o.coordsize=abs(kx)+S+abs(ky),s.rotation=deg*(sx*sy<0?-1:1),deg){var c=compensation(deg,dx,dy);dx=c.dx,dy=c.dy}if(sx<0&&(flip+="x"),sy<0&&(flip+=" y")&&(y=-1),s.flip=flip,o.coordorigin=dx*-kx+S+dy*-ky,fillpos||_.fillsize){var fill=o.getElementsByTagName("fill");(fill=fill&&fill[0])&&(o.removeChild(fill),fillpos&&(c=compensation(deg,m.x(fillpos[0],fillpos[1]),m.y(fillpos[0],fillpos[1])),fill.position=c.dx*y+S+c.dy*y),_.fillsize&&(fill.size=_.fillsize[0]*abs(sx)+S+_.fillsize[1]*abs(sy)),o.appendChild(fill))}s.visibility="visible"}};R._url=E,R.toString=function(){return"Your browser doesnt support SVG. Falling down to VML.\nYou are running Raphal "+this.version};var addArrow=function(o,value,isEnd){for(var values=Str(value).toLowerCase().split("-"),se=isEnd?"end":"start",i=values.length,type="classic",w="medium",h="medium";i--;)switch(values[i]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":type=values[i];break;case"wide":case"narrow":h=values[i];break;case"long":case"short":w=values[i]}var stroke=o.node.getElementsByTagName("stroke")[0];stroke[se+"arrow"]=type,stroke[se+"arrowlength"]=w,stroke[se+"arrowwidth"]=h},applyCustomAttributes=function(o,attrs){for(var key in attrs)eve("raphael.attr."+key+"."+o.id,o,attrs[key],key),o.ca[key]&&o.attr(key,attrs[key])},setFillAndStroke=R._setFillAndStroke=function(o,params){if(o.paper.canvas){o.attrs=o.attrs||{};var node=o.node,a=o.attrs,s=node.style,xy,newpath=pathTypes[o.type]&&(params.x!=a.x||params.y!=a.y||params.width!=a.width||params.height!=a.height||params.cx!=a.cx||params.cy!=a.cy||params.rx!=a.rx||params.ry!=a.ry||params.r!=a.r),isOval=ovalTypes[o.type]&&(a.cx!=params.cx||a.cy!=params.cy||a.r!=params.r||a.rx!=params.rx||a.ry!=params.ry),isGroup="group"===o.type,res=o;for(var par in params)params[has](par)&&(a[par]=params[par]);if(newpath&&(a.path=R._getPath[o.type](o),o._.dirty=1),params.href&&(node.href=params.href),params.title&&(node.title=params.title),params.target&&(node.target=params.target),params.cursor&&(s.cursor=params.cursor),"blur"in params&&o.blur(params.blur),(params.path&&"path"==o.type||newpath)&&(node.path=path2vml(~Str(a.path).toLowerCase().indexOf("r")?R._pathToAbsolute(a.path):a.path),"image"==o.type&&(o._.fillpos=[a.x,a.y],o._.fillsize=[a.width,a.height],setCoords(o,1,1,0,0,0))),"transform"in params&&o.transform(params.transform),"rotation"in params){var rotation=params.rotation;R.is(rotation,"array")?o.rotate.apply(o,rotation):o.rotate(rotation)}if("visibility"in params&&("hidden"===params.visibility?o.hide():o.show()),isOval){var cx=+a.cx,cy=+a.cy,rx=+a.rx||+a.r||0,ry=+a.ry||+a.r||0;node.path=R.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",round((cx-rx)*zoom),round((cy-ry)*zoom),round((cx+rx)*zoom),round((cy+ry)*zoom),round(cx*zoom))}if("clip-rect"in params){var rect=Str(params["clip-rect"]).split(separator);if(4==rect.length){rect[0]=+rect[0],rect[1]=+rect[1],rect[2]=+rect[2]+rect[0],rect[3]=+rect[3]+rect[1];var div=isGroup?node:node.clipRect||R._g.doc.createElement("div"),offset,dstyle=div.style;isGroup?(o.clip=rect.slice(),offset=o.matrix.offset(),offset=[toFloat(offset[0]),toFloat(offset[1])],rect[0]-=offset[0],rect[1]-=offset[1],rect[2]-=offset[0],rect[3]-=offset[1],dstyle.width="10800px",dstyle.height="10800px"):node.clipRect||(dstyle.top="0",dstyle.left="0",dstyle.width=o.paper.width+"px",dstyle.height=o.paper.height+"px",node.parentNode.insertBefore(div,node),div.appendChild(node),div.raphael=!0,div.raphaelid=node.raphaelid,node.clipRect=div),dstyle.position="absolute",dstyle.clip=R.format("rect({1}px {2}px {3}px {0}px)",rect)}params["clip-rect"]||(isGroup&&o.clip?(node.style.clip="rect(auto auto auto auto)",delete o.clip):node.clipRect&&(node.clipRect.style.clip="rect(auto auto auto auto)"))}if(o.textpath){var textpathStyle=o.textpath.style;params.font&&(textpathStyle.font=params.font),params["font-family"]&&(textpathStyle.fontFamily='"'+params["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,E)+'"'),params["font-size"]&&(textpathStyle.fontSize=params["font-size"]),params["font-weight"]&&(textpathStyle.fontWeight=params["font-weight"]),params["font-style"]&&(textpathStyle.fontStyle=params["font-style"])}if("arrow-start"in params&&addArrow(res,params["arrow-start"]),"arrow-end"in params&&addArrow(res,params["arrow-end"],1),null!=params.opacity||null!=params["stroke-width"]||null!=params.fill||null!=params.src||null!=params.stroke||null!=params["stroke-width"]||null!=params["stroke-opacity"]||null!=params["fill-opacity"]||null!=params["stroke-dasharray"]||null!=params["stroke-miterlimit"]||null!=params["stroke-linejoin"]||null!=params["stroke-linecap"]){var fill=node.getElementsByTagName("fill"),newfill=!1,fillOpacity=-1;if(!(fill=fill&&fill[0])&&(newfill=fill=createNode("fill")),"image"==o.type&&params.src&&(fill.src=params.src),params.fill&&(fill.on=!0),null!=fill.on&&"none"!=params.fill&&null!==params.fill||(fill.on=!1),fill.on&&params.fill){var isURL=Str(params.fill).match(R._ISURL);if(isURL){fill.parentNode==node&&node.removeChild(fill),fill.rotate=!0,fill.src=isURL[1],fill.type="tile";var bbox=o.getBBox(1);fill.position=bbox.x+S+bbox.y,o._.fillpos=[bbox.x,bbox.y],R._preload(isURL[1],(function(){o._.fillsize=[this.offsetWidth,this.offsetHeight]}))}else{var color=R.getRGB(params.fill);fill.color=color.hex,fill.src=E,fill.type="solid",color.error&&(res.type in{circle:1,ellipse:1}||"r"!=Str(params.fill).charAt())&&addGradientFill(res,params.fill,fill)?(a.fill="none",a.gradient=params.fill,fill.rotate=!1):"opacity"in color&&!("fill-opacity"in params)&&(fillOpacity=color.opacity)}}if(-1!==fillOpacity||"fill-opacity"in params||"opacity"in params){var opacity=((+a["fill-opacity"]+1||2)-1)*((+a.opacity+1||2)-1)*((+fillOpacity+1||2)-1);opacity=mmin(mmax(opacity,0),1),fill.opacity=opacity,fill.src&&(fill.color="none")}node.appendChild(fill);var stroke=node.getElementsByTagName("stroke")&&node.getElementsByTagName("stroke")[0],newstroke=!1;!stroke&&(newstroke=stroke=createNode("stroke")),(params.stroke&&"none"!=params.stroke||params["stroke-width"]||null!=params["stroke-opacity"]||params["stroke-dasharray"]||params["stroke-miterlimit"]||params["stroke-linejoin"]||params["stroke-linecap"])&&(stroke.on=!0),("none"==params.stroke||null===params.stroke||null==stroke.on||0==params.stroke||0==params["stroke-width"])&&(stroke.on=!1);var strokeColor=R.getRGB("stroke"in params?params.stroke:a.stroke);stroke.on&&params.stroke&&(stroke.color=strokeColor.hex),opacity=((+a["stroke-opacity"]+1||2)-1)*((+a.opacity+1||2)-1)*((+strokeColor.opacity+1||2)-1);var width=.75*(toFloat(params["stroke-width"])||1);if(opacity=mmin(mmax(opacity,0),1),null==params["stroke-width"]&&(width=a["stroke-width"]),params["stroke-width"]&&(stroke.weight=width),width&&width<1&&(opacity*=width)&&(stroke.weight=1),stroke.opacity=opacity,params["stroke-linejoin"]&&(stroke.joinstyle=params["stroke-linejoin"])||newstroke&&(newstroke.joinstyle="miter"),stroke.miterlimit=params["stroke-miterlimit"]||8,params["stroke-linecap"]&&(stroke.endcap="butt"==params["stroke-linecap"]?"flat":"square"==params["stroke-linecap"]?"square":"round"),params["stroke-dasharray"]){var dasharray={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};stroke.dashstyle=dasharray[has](params["stroke-dasharray"])?dasharray[params["stroke-dasharray"]]:params["stroke-dasharray"].join&&params["stroke-dasharray"].join(" ")||E}newstroke&&node.appendChild(stroke)}if("text"==res.type){res.paper.canvas.style.display=E;var span=res.paper.span,m=100,fontSize=a.font&&a.font.match(/\d+(?:\.\d*)?(?=px)/),lineHeight=a["line-height"]&&(a["line-height"]+E).match(/\d+(?:\.\d*)?(?=px)/);s=span.style,a.font&&(s.font=a.font),a["font-family"]&&(s.fontFamily=a["font-family"]),a["font-weight"]&&(s.fontWeight=a["font-weight"]),a["font-style"]&&(s.fontStyle=a["font-style"]),fontSize=toFloat(a["font-size"]||fontSize&&fontSize[0])||10,s.fontSize=fontSize*m+"px",lineHeight=toFloat(a["line-height"]||lineHeight&&lineHeight[0])||12,a["line-height"]&&(s.lineHeight=lineHeight*m+"px"),R.is(params.text,"array")&&(params.text=res.textpath.string=params.text.join("\n").replace(/<br\s*?\/?>/gi,"\n")),res.textpath.string&&(span.innerHTML=Str(res.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var brect=span.getBoundingClientRect();res.W=a.w=(brect.right-brect.left)/m,res.H=a.h=(brect.bottom-brect.top)/m,res.X=a.x,res.Y=a.y;var leading=lineHeight-fontSize;switch(a["vertical-align"]){case"top":res.bby=res.H/2;break;case"bottom":res.bby=-res.H/2;break;default:res.bby=0}("x"in params||"y"in params||void 0!==res.bby)&&(res.path.v=R.format("m{0},{1}l{2},{1}",round(a.x*zoom),round((a.y+(res.bby||0))*zoom),round(a.x*zoom)+1));for(var dirtyattrs=["x","y","text","font","font-family","font-weight","font-style","font-size","line-height"],d=0,dd=dirtyattrs.length;d<dd;d++)if(dirtyattrs[d]in params){res._.dirty=1;break}switch(a["text-anchor"]){case"start":res.textpath.style["v-text-align"]="left",res.bbx=res.W/2;break;case"end":res.textpath.style["v-text-align"]="right",res.bbx=-res.W/2;break;default:res.textpath.style["v-text-align"]="center",res.bbx=0}res.textpath.style["v-text-kern"]=!0}}},addGradientFill=function(o,gradient,fill){o.attrs=o.attrs||{};var attrs=o.attrs,pow=Math.pow,opacity,oindex,type="linear",fxfy=".5 .5";if(o.attrs.gradient=gradient,gradient=(gradient=Str(gradient).replace(R._radial_gradient,(function(all,opts){type="radial";var cx=(opts=opts&&opts.split(",")||[])[0],cy=opts[1],r=opts[2],fx=opts[3],fy=opts[4],units=opts[5];return fx&&fy&&(fx=toFloat(fx),fy=toFloat(fy),pow(fx-.5,2)+pow(fy-.5,2)>.25&&(fy=sqrt(.25-pow(fx-.5,2))*(2*(fy>.5)-1)+.5),fxfy=fx+S+fy),E}))).split(/\s*\-\s*/),"linear"==type){var angle=gradient.shift();if(angle=-toFloat(angle),isNaN(angle))return null}var dots=R._parseDots(gradient);if(!dots)return null;if(o=o.shape||o.node,dots.length){fill.parentNode==o&&o.removeChild(fill),fill.on=!0,fill.method="none",fill.color=dots[0].color,fill.color2=dots[dots.length-1].color;for(var clrs=[],opacity1=1,opacity2=void 0===dots[0].opacity?1:dots[0].opacity,i=0,ii=dots.length;i<ii;i++)dots[i].offset&&clrs.push(dots[i].offset+S+dots[i].color),void 0!==dots[i].opacity&&(opacity1=dots[i].opacity);fill.colors=clrs.length?clrs.join():"0% "+fill.color,fill.opacity=opacity1,fill["o:opacity2"]=opacity2,"radial"==type?(fill.type="gradientTitle",fill.focus="100%",fill.focussize="0 0",fill.focusposition=fxfy,fill.angle=0):(fill.type="gradient",fill.angle=(270-angle)%360),o.appendChild(fill)}return 1},Element=function(node,vml,group){var o=this,parent=group||vml,skew;parent.canvas&&parent.canvas.appendChild(node),(skew=createNode("skew")).on=!0,node.appendChild(skew),o.skew=skew,o.node=o[0]=node,node.raphael=!0,node.raphaelid=o.id=R._oid++,o.X=0,o.Y=0,o.attrs=o.attrs||{},o.followers=o.followers||[],o.paper=vml,o.ca=o.customAttributes=o.customAttributes||new vml._CustomAttributes,o.matrix=R.matrix(),o._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},o.parent=parent,!parent.bottom&&(parent.bottom=o),o.prev=parent.top,parent.top&&(parent.top.next=o),parent.top=o,o.next=null},elproto=R.el,createNode;Element.prototype=elproto,elproto.constructor=Element,elproto.transform=function(tstr){if(null==tstr)return this._.transform;var vbs=this.paper._viewBoxShift,vbt=vbs?"s"+[vbs.scale,vbs.scale]+"-1-1t"+[vbs.dx,vbs.dy]:E,oldt;vbs&&(oldt=tstr=Str(tstr).replace(/\.{3}|\u2026/g,this._.transform||E)),R._extractTransform(this,vbt+tstr);var matrix=this.matrix.clone(),skew=this.skew,o=this.node,split,isGrad=~Str(this.attrs.fill).indexOf("-"),isPatt=!Str(this.attrs.fill).indexOf("url(");if(matrix.translate(-.5,-.5),isPatt||isGrad||"image"==this.type)if(skew.matrix="1 0 0 1",skew.offset="0 0",split=matrix.split(),isGrad&&split.noRotation||!split.isSimple){o.style.filter=matrix.toFilter();var bb=this.getBBox(),bbt=this.getBBox(1),xget=bb.x2&&bbt.x2?"x2":"x",yget=bb.y2&&bbt.y2?"y2":"y",dx=bb[xget]-bbt[xget],dy=bb[yget]-bbt[yget];o.coordorigin=dx*-zoom+S+dy*-zoom,setCoords(this,1,1,dx,dy,0)}else o.style.filter=E,setCoords(this,split.scalex,split.scaley,split.dx,split.dy,split.rotate);else o.style.filter=E,skew.matrix=Str(matrix),skew.offset=matrix.offset();return oldt&&(this._.transform=oldt),this},elproto.rotate=function(deg,cx,cy){if(this.removed)return this;if(null!=deg){if((deg=Str(deg).split(separator)).length-1&&(cx=toFloat(deg[1]),cy=toFloat(deg[2])),deg=toFloat(deg[0]),null==cy&&(cx=cy),null==cx||null==cy){var bbox=this.getBBox(1);cx=bbox.x+bbox.width/2,cy=bbox.y+bbox.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",deg,cx,cy]])),this}},elproto.translate=function(dx,dy){return this.removed?this:((dx=Str(dx).split(separator)).length-1&&(dy=toFloat(dx[1])),dx=toFloat(dx[0])||0,dy=+dy||0,this._.bbox&&(this._.bbox.x+=dx,this._.bbox.y+=dy),this.transform(this._.transform.concat([["t",dx,dy]])),this)},elproto.scale=function(sx,sy,cx,cy){if(this.removed)return this;if((sx=Str(sx).split(separator)).length-1&&(sy=toFloat(sx[1]),cx=toFloat(sx[2]),cy=toFloat(sx[3]),isNaN(cx)&&(cx=null),isNaN(cy)&&(cy=null)),sx=toFloat(sx[0]),null==sy&&(sy=sx),null==cy&&(cx=cy),null==cx||null==cy)var bbox=this.getBBox(1);return cx=null==cx?bbox.x+bbox.width/2:cx,cy=null==cy?bbox.y+bbox.height/2:cy,this.transform(this._.transform.concat([["s",sx,sy,cx,cy]])),this._.dirtyT=1,this},elproto.hide=function(soft){var o=this;return!o.removed&&(o.node.style.display="none"),o},elproto.show=function(soft){var o=this;return!o.removed&&(o.node.style.display=E),o},elproto._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y+(this.bby||0)-this.H/2,width:this.W,height:this.H}},elproto.remove=function(){if(!this.removed&&this.parent.canvas){var o=this,node=R._engine.getNode(o),paper=o.paper,shape=o.shape,i;for(paper.__set__&&paper.__set__.exclude(o),eve.unbind("raphael.*.*."+o.id),shape&&shape.parentNode.removeChild(shape),node.parentNode&&node.parentNode.removeChild(node);i=o.followers.pop();)i.el.remove();for(;i=o.bottom;)i.remove();if(o._drag&&o.undrag(),o.events)for(;i=o.events.pop();)i.unbind();for(var i in o.removeData(),delete paper._elementsById[o.id],R._tear(o,o.parent),o)o[i]="function"==typeof o[i]?R._removedFactory(i):null;o.removed=!0}},elproto.attr=function(name,value){if(this.removed)return this;if(null==name){var res={};for(var a in this.attrs)this.attrs[has](a)&&(res[a]=this.attrs[a]);return res.gradient&&"none"==res.fill&&(res.fill=res.gradient)&&delete res.gradient,res.transform=this._.transform,res.visibility="none"===this.node.style.display?"hidden":"visible",res}if(null==value&&R.is(name,"string")){if("fill"==name&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("visibility"==name)return"none"===this.node.style.display?"hidden":"visible";for(var names=name.split(separator),out={},i=0,ii=names.length;i<ii;i++)(name=names[i])in this.attrs?out[name]=this.attrs[name]:R.is(this.ca[name],"function")?out[name]=this.ca[name].def:out[name]=R._availableAttrs[name];return ii-1?out:out[names[0]]}if(this.attrs&&null==value&&R.is(name,"array")){for(out={},i=0,ii=name.length;i<ii;i++)out[name[i]]=this.attr(name[i]);return out}var params;for(var key in null!=value&&((params={})[name]=value),null==value&&R.is(name,"object")&&(params=name),params)eve("raphael.attr."+key+"."+this.id,this,params[key],key);if(params){var todel={},follower;for(key in this.ca)if(this.ca[key]&&params[has](key)&&R.is(this.ca[key],"function")&&!this.ca["_invoked"+key]){this.ca["_invoked"+key]=!0;var par=this.ca[key].apply(this,[].concat(params[key]));for(var subkey in delete this.ca["_invoked"+key],par)par[has](subkey)&&(params[subkey]=par[subkey]);this.attrs[key]=params[key],!1===par&&(todel[key]=params[key],delete params[key])}"text"in params&&"text"==this.type&&(R.is(params.text,"array")&&(params.text=params.text.join("\n")),this.textpath.string=params.text.replace(/<br\s*?\/?>/gi,"\n")),setFillAndStroke(this,params);for(i=0,ii=this.followers.length;i<ii;i++)(follower=this.followers[i]).cb&&!follower.cb.call(follower.el,params,this)||follower.el.attr(params);for(var subkey in todel)params[subkey]=todel[subkey]}return this},elproto.blur=function(size){var s=this.node.runtimeStyle,f=s.filter;return f=f.replace(blurregexp,E),0!=+size?(this.attrs.blur=size,s.filter=f+S+ms+".Blur(pixelradius="+(+size||1.5)+")",s.margin=R.format("-{0}px 0 0 -{0}px",round(+size||1.5))):(s.filter=f,s.margin=0,delete this.attrs.blur),this},elproto.on=function(eventType,handler){return this.removed?this:(this.node["on"+eventType]=function(){var evt=R._g.win.event;evt.target=evt.srcElement,handler(evt)},this)},R._engine.getNode=function(el){var node=el.node||el[0].node;return node.clipRect||node},R._engine.getLastNode=function(el){var node=el.node||el[el.length-1].node;return node.clipRect||node},R._engine.group=function(vml,id,group){var el=R._g.doc.createElement("div"),p=new Element(el,vml,group);return el.style.cssText=cssDot,p._id=id||E,id&&(el.className="raphael-group-"+p.id+"-"+id),(group||vml).canvas.appendChild(el),p.type="group",p.canvas=p.node,p.transform=R._engine.group.transform,p.top=null,p.bottom=null,p},R._engine.group.transform=function(tstr){if(null==tstr)return this._.transform;var o=this,s=o.node.style,c=o.clip,vbs=o.paper._viewBoxShift,vbt=vbs?"s"+[vbs.scale,vbs.scale]+"-1-1t"+[vbs.dx,vbs.dy]:E,oldt,matrix,offset,tx,ty;return vbs&&(oldt=tstr=Str(tstr).replace(/\.{3}|\u2026/g,o._.transform||E)),R._extractTransform(o,vbt+tstr),offset=(matrix=o.matrix).offset(),tx=toFloat(offset[0])||0,ty=toFloat(offset[1])||0,s.left=tx+"px",s.top=ty+"px",s.zoom=(o._.tzoom=matrix.get(0))+E,c&&(s.clip=R.format("rect({1}px {2}px {3}px {0}px)",[c[0]-tx,c[1]-ty,c[2]-tx,c[3]-ty])),o},R._engine.path=function(vml,attrs,group){var el=createNode("shape");el.style.cssText=cssDot,el.coordsize=zoom+S+zoom,el.coordorigin=vml.coordorigin;var p=new Element(el,vml,group);return p.type=attrs.type||"path",p.path=[],p.Path=E,attrs.type&&delete attrs.type,setFillAndStroke(p,attrs),applyCustomAttributes(p,attrs),p},R._engine.rect=function(vml,attrs,group){var path=R._rectPath(attrs.x,attrs.y,attrs.w,attrs.h,attrs.r);attrs.path=path,attrs.type="rect";var res=vml.path(attrs,group),a=res.attrs;return res.X=a.x,res.Y=a.y,res.W=a.width,res.H=a.height,a.path=path,res},R._engine.ellipse=function(vml,attrs,group){attrs.type="ellipse";var res=vml.path(attrs,group),a=res.attrs;return res.X=a.x-a.rx,res.Y=a.y-a.ry,res.W=2*a.rx,res.H=2*a.ry,res},R._engine.circle=function(vml,attrs,group){attrs.type="circle";var res=vml.path(attrs,group),a=res.attrs;return res.X=a.x-a.r,res.Y=a.y-a.r,res.W=res.H=2*a.r,res},R._engine.image=function(vml,attrs,group){var path=R._rectPath(attrs.x,attrs.y,attrs.w,attrs.h);attrs.path=path,attrs.type="image",attrs.stroke="none";var res=vml.path(attrs,group),a=res.attrs,node=res.node,fill=node.getElementsByTagName("fill")[0];return a.src=attrs.src,res.X=a.x=attrs.x,res.Y=a.y=attrs.y,res.W=a.width=attrs.w,res.H=a.height=attrs.h,fill.parentNode==node&&node.removeChild(fill),fill.rotate=!0,fill.src=a.src,fill.type="tile",res._.fillpos=[a.x,a.y],res._.fillsize=[a.w,a.h],node.appendChild(fill),setCoords(res,1,1,0,0,0),res},R._engine.text=function(vml,attrs,group){var el=createNode("shape"),path=createNode("path"),o=createNode("textpath");x=attrs.x||0,y=attrs.y||0,text=attrs.text,path.v=R.format("m{0},{1}l{2},{1}",round(attrs.x*zoom),round(attrs.y*zoom),round(attrs.x*zoom)+1),path.textpathok=!0,o.string=Str(attrs.text).replace(/<br\s*?\/?>/gi,"\n"),o.on=!0,el.style.cssText=cssDot,el.coordsize=zoom+S+zoom,el.coordorigin="0 0";var p=new Element(el,vml,group);return p.shape=el,p.path=path,p.textpath=o,p.type="text",p.attrs.text=Str(attrs.text||E),p.attrs.x=attrs.x,p.attrs.y=attrs.y,p.attrs.w=1,p.attrs.h=1,setFillAndStroke(p,attrs),applyCustomAttributes(p,attrs),el.appendChild(o),el.appendChild(path),p},R._engine.setSize=function(width,height){var cs=this.canvas.style;return this.width=width,this.height=height,width==+width&&(width+="px"),height==+height&&(height+="px"),cs.width=width,cs.height=height,cs.clip="rect(0 "+width+" "+height+" 0)",this._viewBox&&R._engine.setViewBox.apply(this,this._viewBox),this},R._engine.setViewBox=function(x,y,w,h,fit){eve("raphael.setViewBox",this,this._viewBox,[x,y,w,h,fit]);var width=this.width,height=this.height,size=1/mmax(w/width,h/height),H,W;return fit&&(w*(H=height/h)<width&&(x-=(width-w*H)/2/H),h*(W=width/w)<height&&(y-=(height-h*W)/2/W)),this._viewBox=[x,y,w,h,!!fit],this._viewBoxShift={dx:-x,dy:-y,scale:size},this.forEach((function(el){el.transform("...")})),this},R._engine.initWin=function(win){var doc=win.document;doc.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!doc.namespaces.rvml&&doc.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),createNode=R._createNode=function(tagName,attrs){var el=doc.createElement("<rvml:"+tagName+' class="rvml">'),prop;for(prop in attrs)el[prop]=Str(attrs[prop]);return el}}catch(e){createNode=R._createNode=function(tagName,attrs){var el=doc.createElement("<"+tagName+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">'),prop;for(prop in attrs)el[prop]=Str(attrs[prop]);return el}}},R._engine.initWin(R._g.win),R._engine.create=function(){var con=R._getContainer.apply(0,arguments),container=con.container,height=con.height,s,width=con.width,x=con.x,y=con.y;if(!container)throw new Error("VML container not found.");var res=new R._Paper,c=res.canvas=R._g.doc.createElement("div"),cs=c.style;return x=x||0,y=y||0,width=width||512,height=height||342,res.width=width,res.height=height,width==+width&&(width+="px"),height==+height&&(height+="px"),res.coordsize=216e5+S+216e5,res.coordorigin="0 0",c.id="raphael-paper-"+res.id,res.span=R._g.doc.createElement("span"),res.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",c.appendChild(res.span),cs.cssText=R.format("top:0;left:0;width:{0};height:{1};display:inline-block;cursor:default;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",width,height),1==container?(R._g.doc.body.appendChild(c),cs.left=x+"px",cs.top=y+"px",cs.position="absolute"):container.firstChild?container.insertBefore(c,container.firstChild):container.appendChild(c),res.renderfix=function(){},res},R.prototype.clear=function(){var c;for(eve("raphael.clear",this);c=this.bottom;)c.remove();this.canvas.innerHTML=E,this.span=R._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},R.prototype.remove=function(){var i;for(eve("raphael.remove",this);i=this.bottom;)i.remove();for(i in this.canvas.parentNode.removeChild(this.canvas),this)this[i]="function"==typeof this[i]?R._removedFactory(i):null;return!0};var setproto=R.st;for(var method in elproto)elproto[has](method)&&!setproto[has](method)&&(setproto[method]=function(methodname){return function(){var arg=arguments;return this.forEach((function(el){el[methodname].apply(el,arg)}))}}(method))}}(),oldRaphael.was?g.win.Raphael=R:Raphael=R,R},"function"==typeof define&&define.amd?define(["eve"],(function(eve){return factory(glob,eve)})):factory(glob,glob.eve)}(),lib.Raphael=RedRaphael,lib.Raphael.desc="",someRaphael&&someRaphael!==RedRaphael?window.Raphael=someRaphael:window.Raphael===RedRaphael&&(window.Raphael=void 0)}]),FusionCharts.register("module",["private","fusioncharts.redraphael.helper",function(){var R=this.hcLib.Raphael,blankObject={};R.fn._elementFromEvent=function(event){if(!event||this.removed)return null;var element=event.srcElement||event.target||(event=event.originalEvent)&&(event.srcElement||event.target)||blankObject;return"tspan"===element.nodeName&&(element=element.parentNode),this.getById(element.raphaelid)}}]),FusionCharts.register("module",["private","fusioncharts.redraphael.css",function(){var R=this.hcLib.Raphael,eve=R.eve,g=R._g,paperproto=R.fn,elproto=R.el,separator=/[, ]+/,E="",S=" ",cssStyleRegEx=/\B([A-Z]{1})/g,StyleSheet,sheetproto;(sheetproto=(StyleSheet=function(ns){this.rules={},this.ns=ns||E}).prototype).getSheet=function(){var node=this.node;return node||(node=this.node=g.doc.createElement("style"),this.node.setAttribute("id",R.format("raphael-stylesheet-{0}",R._oid++)),this.node.setAttribute("type","text/css"),(g.doc.head||g.doc.getElementsByTagName("head")[0]).appendChild(this.node)),node},sheetproto.setCssText=function(cssText){var node=this.node;if(!node){if(!cssText)return;node=this.getSheet()}node.styleSheet?node.styleSheet.cssText=cssText||E:(node.innerHTML=E,cssText&&node.appendChild(g.doc.createTextNode(cssText)))},sheetproto.destroy=function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.rules},sheetproto.clear=function(){this.setCssText(E),this.rules={}},sheetproto.add=function(selector,styles){var s=this.rules[selector]||(this.rules[selector]={}),i;for(i in styles)s[i]=styles[i]},sheetproto.render=function(){this.setCssText(this.toString())},sheetproto.toString=function(compressed){var newline=compressed?E:"\n",indent=compressed?E:"\t",keyseparator=compressed?":":": ",css=newline,rule,prop;for(rule in this.rules){for(prop in css+=rule.replace(/(^|\,)/g,"$1"+this.ns+S)+" {"+newline,rule=this.rules[rule])rule[prop]&&(css+=indent+prop.replace(cssStyleRegEx,"-$1").toLowerCase()+keyseparator+rule[prop]+";"+newline);css+="}"+newline}return css},eve.on("raphael.new",(function(){this._stylesheet=this._stylesheet||new StyleSheet,this.cssNamespace(E)})),eve.on("raphael.remove",(function(){this._stylesheet&&this._stylesheet.destroy(),delete this._stylesheet})),paperproto.cssNamespace=function(ns){return arguments.length&&(this._stylesheet.ns=R.format("{0}#raphael-paper-{1}",ns&&ns+S||E,this.id)),this._stylesheet.ns},paperproto.cssAddRule=function(selector,styles){if(1===arguments.length&&"object"==typeof selector){for(var prop in selector)this.cssAddRule(prop,selector[prop]);return this}return this._stylesheet.add(selector,styles),this},paperproto.cssRender=function(){return R.svg&&this._stylesheet.render(),this},paperproto.cssClear=function(){return this._stylesheet.clear(),this},R._availableAttrs.class="",R.svg&&eve.on("raphael.attr.class",(function(value){var o=this,node=o.node;value=value||E,node.setAttribute("class","group"===o.type&&o._id?"raphael-group-"+o.id+"-"+o._id+S+value:value)})),R.vml&&eve.on("raphael.attr.class",(function(value){var o=this,node=o.node,paper=o.paper,selector="."+value,styleRules=paper._stylesheet&&paper._stylesheet.rules,target=o.parent,attrs=o.attrs,cssObj={},rule,targetClass,i;if(node.className="group"===o.type?value&&o._id+S+value||o._id:"rvml "+value,selector&&styleRules){for(i in rule=styleRules[selector])"color"===i&&"text"===o.type&&(i="fill"),!attrs[i]&&(cssObj[i]=rule[i]);for(;target&&target.attr;){if(targetClass=target.attr("class"))for(i in rule=styleRules[selector="."+targetClass+S+selector])"color"===i&&"text"===o.type&&(i="fill"),!attrs[i]&&!cssObj[i]&&(cssObj[i]=rule[i]);target=target.parent}o.css(cssObj)}})),elproto.css=function(name,value){var names,params,out,otherkey,doattrs,i,ii;if(this.removed)return this;if(this.styles||(this.styles={}),null==value&&R.is(name,"string")){for(out={},i=0,ii=(names=name.split(separator)).length;i<ii;i++)(name=names[i])in this.styles&&(out[name]=this.styles[name]);return ii-1?out:out[names[0]]}if(null==value&&R.is(name,"array")){for(out={},i=0,ii=name.length;i<ii;i++)out[name[i]]=this.styles(name[i]);return out}for(i in null!=value?(params={})[name]=value:null!=name&&R.is(name,"object")&&(params=name),doattrs={},params)otherkey=i.replace(/\B([A-Z]{1})/g,"-$1").toLowerCase(),R._availableAttrs.hasOwnProperty(otherkey)||"color"===otherkey?("color"===otherkey&&"text"===this.type&&(otherkey="fill"),doattrs[otherkey]=params[i],doattrs.dirty=!0):(eve("raphael.css."+otherkey+"."+this.id,this,params[i],otherkey),this.node.style[otherkey]=params[i],this.styles[otherkey]=params[i]);for(i=0,ii=this.followers.length;i<ii;i++)this.followers[i].el.attr(params);return doattrs.hasOwnProperty("dirty")&&(delete doattrs.dirty,this.attr(doattrs)),this}}]),FusionCharts.register("module",["private","modules.renderer.js-raphaelexport",function(){var global=this,lib=this.hcLib,R=lib.Raphael,pluckNumber=lib.pluckNumber,pluck=lib.pluck,availableAttrs=R._availableAttrs,NONE="none",BLANK="",SPACE=" ",UNDERSCORE="_",COLON=":",SCOLONSPACE="; ",EQUALQUOT='="',QUOT='"',QUOTSPACE='" ',LT="<",GT=">",NODESTRPART5="</",XLINK=' xlink:href="',IMGNODE="image",TXTNODE="text",GRADIENT="gradient",RECT="rect",ASPRATIO=' preserveAspectRatio="none"',NODESTRPART2=' transform="matrix(',NODESTRPART3=')" style="',VALIGNSTR="vertical-align",TEXTANCHOR="text-anchor",MIDDLE="middle",TOP="top",BOTTOM="bottom",FONTSIZE="font-size",FONT="font",LINEHEIGHT="line-height",FONTFAMILY="font-family",FONTWEIGHT="font-weight",CURSOR="cursor:",TSPANSTR1="<tspan ",TSPANSTR2='dy="',TSPANSTR3='" x="',TSPANSTR4='dy="',RX="rx",RY="ry",TSPANSTR6="</tspan>",PXSPACE="px; ",CLIPRECT="clip-rect",CLIPSTR1='<clipPath id="',CLIPSTR2='"><rect x="',CLIPSTR3='" y="',CLIPSTR4='" width="',CLIPSTR5='" height="',CLIPSTR6='"/></clipPath>',CLIPSTR7=' clip-path="url(#',CLIPSTR8='"'+NODESTRPART2,URLCLOSE="')\"",BRACKETCLOSE=")",DTAG=' d="',FILLSTR1="fill:",FILLSTR2=' fill="',FILLSTR3=" fill=\"url('#",FILLSTR4=' fill-opacity="',STROKE1=' stroke="',STROKE2=' stroke-opacity="',STROKEOPAC="stroke-opacity",LINEAR="linear",RADIAL="radial",RGRADIENTSTR1='<radialGradient fx = "',RGRADIENTSTR3="</radialGradient>",RGRADIENTSTR2='" fy = "',ID='" id = "',RGRADIENTSTR4='">',LGRADIENTSTR6="</linearGradient>",LGRADIENTSTR5='" gradientTransform ="matrix(',LGRADIENTSTR1='<linearGradient x1 = "',LGRADIENTSTR2='" y1 = "',LGRADIENTSTR3='" x2 = "',LGRADIENTSTR4='" y2 = "',STOPSTR1="<stop",STOPSTR2=' offset="',STOPSTR3='" stop-color="',STOPSTR4='" stop-opacity="',STOPSTR5='" />',COLORWHITE="#fff",PERCENT100="100%",PERCENT0="0%",matrixSanitizerReg=/^matrix\(|\)$/g,commaSanitizerReg=/\,/g,textNewLineReg=/\n|<br\s*?\/?>/gi,retriveNumReg=/[^\d\.]/gi,idSanitizerReg=/[\(\)\s,\xb0#]/g,grouptagtestReg=/group/gi,ampregex=/&/g,quot1regex=/"/g,quot2regex=/'/g,ltregex=/</g,gtregex=/>/g,ampSTR="&amp;",quot1STR="&quot;",quot2STR="&#39;",ltSTR="&lt;",gtSTR="&gt;",IdCounter=0;!function(R){var math=Math,toFloat=parseFloat,mmax=math.max,abs=math.abs,pow=math.pow,Str=String,separator=/[, ]+/,regStore=[{reg:/xmlns\=\"http\:\/\/www.w3.org\/2000\/svg\"/gi,repStr:""},{reg:/^.*<svg /,repStr:'<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" '},{reg:/\/svg>.*$/,repStr:"/svg>"},{reg:/<desc\>[^<]*<\/desc\>/,repStr:""},{reg:/zIndex="[^"]+"/g,repStr:""},{reg:/url\((\\?[\'\"])[^#]+#/g,repStr:"url($1#"},{reg:/ href=/g,repStr:" xlink:href="},{reg:/(id|class|width|height)=([^" >]+)/g,repStr:'$1="$2"'},{reg:/:(path|rect)/g,repStr:"$1"},{reg:/<ima?ge? ([^\>]+?)[^\/]\>/gi,repStr:"<image $1 />"},{reg:/<\/ima?ge?\>/g,repStr:""},{reg:/style="([^"]+)"/g,repStr:function(s){return s.toLowerCase()}}],attributeParser={blur:function(){},transform:function(){},src:function(node,conf){var attrsObj,value=conf.attrs.src;conf.attrSTR+=XLINK+value+'"'},path:function(node,conf){var attrsObj,value=conf.attrs.path;value=R._pathToAbsolute(value||""),conf.attrSTR+=DTAG+(value.toString&&value.toString()||"").replace(commaSanitizerReg," ")+'"'},gradient:function(node,conf,defs){var attrsObj,value=node.attrs.gradient,type=LINEAR,id=value,angle,vector,max,dots,fx=.5,fy=.5,gStr="",gCloseStr="",stopStr="",i,ln;if(!defs[id=id.replace(idSanitizerReg,"_")]){if(value=(value=Str(value).replace(R._radial_gradient,(function(all,opts){var _fx,_fy,dir;return opts=opts&&opts.split(",")||[],type=RADIAL,_fx=opts[3],_fy=opts[4],_fx&&_fy&&(fx=toFloat(_fx),dir=2*((fy=toFloat(_fy))>.5)-1,pow(fx-.5,2)+pow(fy-.5,2)>.25&&(fy=math.sqrt(.25-pow(fx-.5,2))*dir+.5)&&.5!=fy&&(fy=fy.toFixed(5)-1e-5*dir)),""}))).split(/\s*\-\s*/),type===LINEAR){if(angle=value.shift(),angle=-toFloat(angle),isNaN(angle))return null;vector=[0,0,math.cos(R.rad(angle)),math.sin(R.rad(angle))],max=1/(mmax(abs(vector[2]),abs(vector[3]))||1),vector[2]*=max,vector[3]*=max,vector[2]<0&&(vector[0]=-vector[2],vector[2]=0),vector[3]<0&&(vector[1]=-vector[3],vector[3]=0)}if(!(dots=R._parseDots(value)))return null;for(type===RADIAL?(gStr=RGRADIENTSTR1+fx+'" fy = "'+fy+ID+id+'">',gCloseStr=RGRADIENTSTR3):(gStr=LGRADIENTSTR1+vector[0]+'" y1 = "'+vector[1]+'" x2 = "'+vector[2]+'" y2 = "'+vector[3]+LGRADIENTSTR5+node.matrix.invert()+")"+ID+id+'">',gCloseStr=LGRADIENTSTR6),i=0,ln=dots.length;i<ln;i++)stopStr+='<stop offset="'+(dots[i].offset?dots[i].offset:i?"100%":"0%")+STOPSTR3+(dots[i].color||"#fff")+STOPSTR4+(void 0===dots[i].opacity?1:dots[i].opacity)+'" />';defs[id]=!0,defs.str+=gStr+stopStr+gCloseStr}conf.attrSTR+=FILLSTR3+id+"')\""},fill:function(node,conf){var attrsObj=conf.attrs,value=attrsObj.fill,color,opacity;node.attrs.gradient||(opacity=(color=R.color(value)).opacity,"text"===node.type?conf.styleSTR+="fill:"+color+"; "+STROKEOPAC+":0; ":(conf.attrSTR+=FILLSTR2+color+'"',attrsObj["fill-opacity"]||!opacity&&0!==opacity||(conf.attrSTR+=FILLSTR4+opacity+'"')))},stroke:function(node,conf){var attrsObj=conf.attrs,value=attrsObj.stroke,color,opacity;opacity=(color=R.color(value)).opacity,"text"!==node.type&&(conf.attrSTR+=STROKE1+color+'"',attrsObj[STROKEOPAC]||!opacity&&0!==opacity||(conf.attrSTR+=STROKE2+opacity+'"'))},"clip-rect":function(node,conf,defs){var attrsObj=conf.attrs,value=Str(attrsObj[CLIPRECT]),rect=value.split(separator),id=value.replace(idSanitizerReg,"_")+"__"+IdCounter++;4===rect.length&&(defs[id]||(defs[id]=!0,defs.str+=CLIPSTR1+id+CLIPSTR2+rect[0]+'" y="'+rect[1]+CLIPSTR4+rect[2]+CLIPSTR5+rect[3]+CLIPSTR8+node.matrix.invert().toMatrixString().replace(matrixSanitizerReg,"")+")"+CLIPSTR6),conf.attrSTR+=CLIPSTR7+id+')"')},cursor:function(node,conf){var attrsObj,value=conf.attrs.cursor;value&&(conf.styleSTR+=CURSOR+value+"; ")},font:function(node,conf){var attrsObj,value=conf.attrs.font;conf.styleSTR+="font:"+value.replace(/\"/gi," ")+"; "},"font-size":function(node,conf){var attrsObj=conf.attrs,value=pluck(attrsObj[FONTSIZE],"10");value&&value.replace&&(value=value.replace(retriveNumReg,"")),conf.styleSTR+="font-size:"+value+"px; "},"font-weight":function(node,conf){var attrsObj,value=conf.attrs[FONTWEIGHT];conf.styleSTR+="font-weight:"+value+"; "},"font-family":function(node,conf){var attrsObj,value=conf.attrs[FONTFAMILY];conf.styleSTR+="font-family:"+value+"; "},"line-height":function(){},"clip-path":function(){},visibility:function(){},"vertical-align":function(){},"text-anchor":function(node,conf){var attrsObj,value=conf.attrs[TEXTANCHOR]||MIDDLE;"text"===node.type&&(conf.attrSTR+=' text-anchor="'+value+'"')},title:function(){},text:function(node,conf){var attrsObj=conf.attrs,value=attrsObj.text,fontSize=pluck(attrsObj[FONTSIZE],attrsObj.font,"10"),lineHeight=pluck(attrsObj[LINEHEIGHT]),baseHeight,x,valign,texts,i,ii,baseAdjust,text;for(fontSize&&fontSize.replace&&(fontSize=fontSize.replace(retriveNumReg,"")),fontSize=pluckNumber(fontSize),lineHeight&&lineHeight.replace&&(lineHeight=lineHeight.replace(retriveNumReg,"")),lineHeight=pluckNumber(lineHeight,fontSize&&1.2*fontSize),baseHeight=fontSize?.85*fontSize:.75*lineHeight,x=attrsObj.x,valign=pluck(attrsObj[VALIGNSTR],MIDDLE).toLowerCase(),ii=(texts=Str(value).split(textNewLineReg)).length,i=0,baseAdjust=valign===TOP?baseHeight:valign===BOTTOM?baseHeight-lineHeight*ii:baseHeight-lineHeight*ii*.5;i<ii;i++)conf.textSTR+="<tspan ",text=(texts[i]||"").replace(ampregex,ampSTR).replace(quot1regex,"&quot;").replace(quot2regex,"&#39;").replace(ltregex,ltSTR).replace(gtregex,gtSTR),conf.textSTR+=i?'dy="'+lineHeight+'" x="'+x+'" ':'dy="'+baseAdjust+'"',conf.textSTR+=GT+text+TSPANSTR6}},parseNode=function(node,defs){var xmlSTR="",conf={attrSTR:"",styleSTR:"",textSTR:"",attrs:node.attr()},isShadow=node.isShadow,childXMLSTR="",nextXMLSTR="",attrName,styleName,nodeType,attrs=conf.attrs;if(node.node.style.display===NONE||isShadow)node.next&&(xmlSTR+=parseNode(node.next,defs));else{for(attrName in attrs)attrName===GRADIENT||void 0===availableAttrs[attrName]&&!attributeParser[attrName]||void 0===attrs[attrName]||(attributeParser[attrName]?attributeParser[attrName](node,conf,defs):conf.attrSTR+=" "+attrName+'="'+attrs[attrName]+'"');for(styleName in node.attrs.gradient&&attributeParser.gradient(node,conf,defs),node.type===RECT&&attrs.r&&(conf.attrSTR+=' rx="'+attrs.r+'" '+RY+'="'+attrs.r+'"'),node.styles)conf.styleSTR+=styleName+":"+node.styles[styleName]+"; ";"image"===node.type&&(conf.attrSTR+=ASPRATIO),"text"!==node.type||attrs[TEXTANCHOR]||attributeParser[TEXTANCHOR](node,conf),node.bottom&&(childXMLSTR=parseNode(node.bottom,defs)),node.next&&(nextXMLSTR=parseNode(node.next,defs)),(nodeType=node.type).match(grouptagtestReg)&&(nodeType="g"),xmlSTR+=LT+nodeType+NODESTRPART2+node.matrix.toMatrixString().replace(matrixSanitizerReg,"")+')" style="'+conf.styleSTR+'"'+conf.attrSTR+GT+conf.textSTR+childXMLSTR+"</"+nodeType+GT+nextXMLSTR}return xmlSTR};R.fn.toSVG=function(keepImages){var paper=this,svg="",defs={str:""},regObj,i=0,ln=regStore.length,childXMLSTR="";if(R.svg){if(this.canvas&&this.canvas.parentNode){for(svg=this.canvas.parentNode.innerHTML;i<ln;i+=1)regObj=regStore[i],svg=svg.replace(regObj.reg,regObj.repStr);this._stylesheet&&(svg=svg.replace(/^(<svg\s[\s\S]*?>)/gi,'$1<style type="text/css">'+this._stylesheet.toString(!0)+"</style>"))}}else svg='<svg style="overflow: hidden; position: relative;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+this.width+'" version="1.1" height="'+this.height+'">',this.bottom&&(childXMLSTR=parseNode(this.bottom,defs)),svg+="<defs>"+defs.str+"</defs>"+childXMLSTR+"</svg>";return keepImages||(svg=svg.replace(/<image [^\>]*\>/gi,"")),svg}}(R)}]),FusionCharts.register("module",["private","modules.renderer.js-raphaelshadow",function(){var global=this,win=this.window,lib=this.hcLib,math,mathSqrt=win.Math.sqrt,toFloat=win.parseFloat,toInt=win.parseInt,EMP="",SPC=" ",NONE="none",ROUND="round",STROKE_WIDTH="stroke-width",DROP_SHADOW="drop-shadow",BLACK="rgba(0,0,0,1)",hasSVGFilters=win.SVGFilterElement||win.SVGFEColorMatrixElement&&2===win.SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE,R=lib.Raphael,forbiddenAttrs={"drop-shadow":"drop-shadow",stroke:"stroke",fill:"fill","stroke-width":"stroke-width","stroke-opacity":"stroke-opacity","stroke-linecap":"stroke-linecap","stroke-linejoin":"stroke-linejoin","shape-rendering":"shape-rendering",transform:"transform"},createNode=R._createNode,supervisor;R.svg?(hasSVGFilters&&(R.el.dropshadow=function(dx,dy,spread,color){var o=this,node=o.node,shadow=o._.shadowFilter,cache=o.paper.cacheShadows||(o.paper.cacheShadows={}),hash=DROP_SHADOW+[dx,dy,spread,color].join(" "),prop,filter,opacity,el;if(dx===NONE){if(shadow){if(shadow.use-=1,o.node.removeAttribute("filter"),!shadow.use){for(prop in hash=shadow.hash,shadow)(el=shadow[prop]).parentNode&&el.parentNode.removeChild(el),delete shadow[prop];el=null,delete cache[hash]}shadow=null,delete o._.shadowFilter}}else shadow&&cache[hash]===shadow||(filter=o.paper.defs.appendChild(createNode("filter",{id:R.createUUID(),width:"200%",height:"200%"})),(color=R.color(color)).error&&(color=R.color(BLACK)),opacity=R.pick(color.opacity,1),shadow=o._.shadowFilter=cache[hash]={use:1,filter:filter,hash:hash,offset:filter.appendChild(createNode("feOffset",{result:"offOut",in:"SourceGraphic",dx:toFloat(dx),dy:toFloat(dy)})),matrix:filter.appendChild(createNode("feColorMatrix",{result:"matrixOut",in:"offOut",type:"matrix",values:"0 0 0 0 "+color.r/255+" 0 0 0 0 "+color.g/255+" 0 0 0 0 "+color.b/255+" 0 0 0 "+opacity+" 0"})),blur:filter.appendChild(createNode("feGaussianBlur",{result:"blurOut",in:"matrixOut",stdDeviation:mathSqrt(toFloat(spread))})),blend:filter.appendChild(createNode("feComposite",{in:"SourceGraphic",in2:"blurOut",operator:"over"}))},node.setAttribute("filter",'url("'+R._url+"#"+filter.id+'")'));return this}),supervisor=function(params,leader){var o=this,scale=o.__shadowscale,del={},matrix,key;for(key in params)switch(forbiddenAttrs[key]&&(del[key]=params[key],delete params[key]),key){case"transform":(matrix=leader.matrix.clone()).translate(o.__shadowx,o.__shadowy),o.transform(matrix.toTransformString());break;case STROKE_WIDTH:params[key]=((del[key]||1)+6-2*o.__shadowlevel)*scale}for(key in o.attr(params),del)params[key]=del[key]},R.ca[DROP_SHADOW]=function(offX,offY,spread,color,scale,group){var o=this,shadows=o._.shadows||(o._.shadows=[]),opacity,shadow,offset,matrix,tScale,strScale,i;if(o.__shadowblocked)return!1;if(offX===NONE)for(;shadow=shadows.pop();)shadow.remove();else for((color=R.color(color)).error&&(color=R.color(BLACK)),scale instanceof Array?(tScale=scale[0],strScale=scale[1]):tScale=strScale=scale,tScale=1/R.pick(tScale,1),strScale=1/R.pick(strScale,1),offX=R.pick(offX,1)*tScale,offY=R.pick(offY,1)*tScale,opacity=.05*R.pick(color.opacity,1),offset=toInt(o.attr(STROKE_WIDTH)||1,10)+6,(matrix=o.matrix.clone()).translate(offX,offY),i=1;i<=3;i++)(shadow=(shadows[i-1]||o.clone().follow(o,supervisor,!group&&"before")).attr({stroke:color.hex,"stroke-opacity":opacity*i,"stroke-width":(offset-2*i)*strScale,transform:matrix.toTransformString(),"stroke-linecap":ROUND,"stroke-linejoin":ROUND,fill:NONE})).__shadowlevel=i,shadow.__shadowscale=strScale,shadow.__shadowx=offX,shadow.__shadowy=offY,group&&group.appendChild(shadow),shadows.push(shadow);return!1},R.el.shadow=function(apply,opacity,scale,group){var useFilter;if(scale&&scale.constructor===R.el.constructor&&(group=scale,scale=void 0),"object"==typeof apply&&(opacity&&opacity.constructor===R.el.constructor&&(group=opacity),opacity=apply.opacity,scale=apply.scalefactor,useFilter=!!apply.useFilter,apply=void 0===apply.apply?!!opacity:apply.apply),void 0===opacity&&(opacity=1),this.dropshadow){if(useFilter)return apply&&this.dropshadow(1,1,3,"rgb(64,64,64)")||this.dropshadow(NONE),this;this._.shadowFilter&&this.dropshadow(NONE)}return this.attr(DROP_SHADOW,apply?[1,1,3,"rgba(64,64,64,"+opacity+")",scale,group]:NONE)}):R.vml?(R.ca["drop-shadow"]=function(offX,offY,spread,color,scale,group){var o=this,shadow=o._.shadow,style,filter,tScale,opacity;return!o.isShadow&&(offX===NONE?shadow&&(shadow=o._.shadow=shadow.remove()):(shadow||(shadow=o._.shadow=o.clone(),group&&group.appendChild(shadow.follow(o))||shadow.follow(o,void 0,"before"),shadow.attr({fill:"none","fill-opacity":.5,"stroke-opacity":1}).isShadow=!0,shadow.attr(STROKE_WIDTH)<=0&&shadow.attr(STROKE_WIDTH,1)),filter=(style=shadow.node.runtimeStyle).filter.replace(/ progid:\S+Blur\([^\)]+\)/g,""),(color=R.color(color)).error&&(color=R.color(BLACK)),opacity=R.pick(color.opacity,1)/5,tScale=scale instanceof Array?scale[0]:scale,tScale=1/R.pick(scale,1),offX=R.pick(offX,1)*tScale,offY=R.pick(offY,1)*tScale,shadow.translate(offX,offY),style.filter=filter+" progid:DXImageTransform.Microsoft.Blur(pixelRadius="+toFloat(.4*spread)+" makeShadow=True Color="+color.hex+' shadowOpacity="'+opacity+'");'),!1)},R.el.shadow=function(apply,opacity,scale,group){var o=this;return scale&&scale.constructor===R.el.constructor&&(group=scale,scale=void 0),"object"==typeof apply&&(opacity&&"group"===opacity.type&&(group=opacity),opacity=apply.opacity,scale=apply.scalefactor,apply=void 0===apply.apply?!!opacity:apply.apply),void 0===opacity&&(opacity=1),o.attr(DROP_SHADOW,apply||!opacity?[1,1,5,"rgba(64,64,64,"+opacity+")",scale,group]:NONE)}):R.canvas&&(R.el.shadow=function(){return this})}]),FusionCharts.register("module",["private","modules.renderer.js-raphaelshapes",function(){var global=this,win=this.window,userAgent=win.navigator.userAgent,hasTouch="createTouch"in win.document,isIE=/msie/i.test(userAgent)&&!win.opera,math=win.Math,mathCos=math.cos,mathSin=math.sin,mathAbs=math.abs,mathPow=math.pow,mathAtan2=math.atan2,mathMin=math.min,mathRound=math.round,mathPI=math.PI,twoPI=2*mathPI,toInt=win.parseInt,toFloat=win.parseFloat,toStr=String,arraySlice=Array.prototype.slice,HAS="hasOwnProperty",ARRAY="array",OBJECT="object",BLANK="",COMMA=",",SPACE=" ",NONE="none",CRISP="crisp",FILL="fill",WIDTH="width",HEIGHT="height",M="M",L="L",A="A",Z="Z",STROKE="stroke",PATH="path",POLYPATH="polypath",RINGPATH="ringpath",CUBEPATH="cubepath",TEXTBOUND="text-bound",FLAT="flat",TRANSPARENT="transparent",HORIZONTAL="horizontal",VERTICAL="vertical",SCROLL_RATIO="scroll-ratio",SCROLL_POSITION="scroll-position",SCROLL_ORIENTATION="scroll-orientation",SCROLL_REPAINT="scroll-repaint",SCROLL_DISPLAY_STYLE="scroll-display-style",SCROLL_DISPLAY_BUTTONS="scroll-display-buttons",EVE_SCROLLSTART="raphael.scroll.start.",EVE_SCROLLCHANGE="raphael.scroll.change.",EVE_SCROLLEND="raphael.scroll.end.",EPSILON=mathPow(2,-24),TRACKER_FILL="rgba(192,192,192,"+(isIE?.002:1e-6)+")",lib,R=this.hcLib.Raphael,eve=R.eve,createNode=R._createNode,setFillAndStroke=R._setFillAndStroke,Element=R.el.constructor,shapeRenderingAttrs={speed:"optimizeSpeed",crisp:"crispEdges",precision:"geometricPrecision"},buttonDisabledAttrs={enabled:!1,false:!1,0:!1,disabled:!0,true:!0,1:!0},LITEPATH="litepath",CSSFLOOD="position:absolute;left:0;top:0;width:21600px;height:21600px;",COORD21600="21600 21600",s2vcmd={Q:"L",Z:"X",q:"l",z:"x",",":" "},p2s=/,?([achlmqrstvxz]),?/gi,commaseparator=/\s*\,\s*/g,p2srep,path2string=function(){return this.join(",").replace(p2s,p2srep)},litepathsetter,vmlTransformHelper;R.svg?eve.on("raphael.attr.shape-rendering",(function(value,key){var o=this,node=o.node;o.attrs[key]=value=shapeRenderingAttrs[value]||value||"auto",node.setAttribute(key,value),node.style.shapeRendering=value})):R.vml&&eve.on("raphael.attr.shape-rendering",(function(val){this.node.style.antialias="crisp"!==val})),R.define&&R.define([{name:"polypath",polypath:function(){return this.path(void 0,R._lastArgIfGroup(arguments))},ca:{polypath:function(sides,cx,cy,r,startAngle,dip){var path,inangle,i,angle,h;if(path=[],sides=toInt(sides,10)||0,cx=toFloat(cx)||0,cy=toFloat(cy)||0,r=toFloat(r)||0,startAngle=null===startAngle||isNaN(startAngle)?.5*mathPI:R.rad(startAngle),dip=null===dip||isNaN(dip)?0:toFloat(dip),angle=startAngle,sides>2)switch(inangle=2*mathPI/sides,dip){case 0:for(i=0;i<sides;i++)path.push(L,cx+r*mathCos(-angle),cy+r*mathSin(-angle)),angle+=inangle;path[0]=M,path.push(Z);break;case 1:for(i=0;i<sides;i++)path.push(M,cx,cy,L,cx+r*mathCos(-angle),cy+r*mathSin(-angle)),angle+=inangle;break;default:for(h=r*mathCos(inangle*=.5)*(1-dip),i=0;i<sides;i++)path.push(L,cx+r*mathCos(-angle),cy+r*mathSin(-angle)),angle+=inangle,path.push(L,cx+h*mathCos(-angle),cy+h*mathSin(-angle)),angle+=inangle;path[0]=M,path.push(Z)}else 0===r?path.push(M,cx,cy,L,cx,cy,Z):path.push(M,cx-r,cy,A,r,r,0,0,0,cx+r,cy,A,r,r,0,0,0,cx-r,cy,Z);return{path:path}},r:function(value){var o=this,attr=o.attrs.polypath;return attr[3]=value,o.attr(POLYPATH,attr),!1}}},{name:RINGPATH,ringpath:function(){return this.path(void 0,R._lastArgIfGroup(arguments))},ca:function(x,y,r1,r2,start,end){var o,delta=end%twoPI-start%twoPI,deltaOrig=end-start,cosStart,sinStart,cosEnd,sinEnd,longshort,path;return this._.ringangle=.5*(start+end),mathAbs(deltaOrig)<EPSILON?(cosStart=mathCos(start),sinStart=mathSin(start),path=[M,x+r1*cosStart,y+r1*sinStart,L,x+r2*cosStart,y+r2*sinStart,Z]):mathAbs(deltaOrig)>EPSILON&&mathAbs(deltaOrig)%twoPI<EPSILON?(path=[M,x-r1,y,A,r1,r1,0,0,0,x+r1,y,A,r1,r1,0,0,0,x-r1,y],0!==r2&&(path=path.concat([M,x-r2,y,A,r2,r2,0,0,1,x+r2,y,A,r2,r2,0,0,1,x-r2,y])),path.push(Z)):(cosStart=mathCos(start),sinStart=mathSin(start),cosEnd=mathCos(end),sinEnd=mathSin(end),(delta%=twoPI)<0&&(delta+=twoPI),path=[M,x+r1*cosStart,y+r1*sinStart,A,r1,r1,0,longshort=delta<mathPI?0:1,1,x+r1*cosEnd,y+r1*sinEnd,L,x+r2*cosEnd,y+r2*sinEnd],0!==r2&&path.push(A,r2,r2,0,longshort,0,x+r2*cosStart,y+r2*sinStart),path.push(Z)),{path:path}}},{name:"cubepath",cubepath:function(){var paper=this,shapeDefaultAttrs={"stroke-linejoin":"round","shape-rendering":"precision",stroke:NONE},args=arguments,lastArg=args.length-1,group=args[lastArg],top,side,a,face;for(a in group&&group.constructor===R.el.constructor?args[lastArg]=void 0:group=void 0,top=paper.path(shapeDefaultAttrs,group),side=paper.path(shapeDefaultAttrs,group),(face=paper.path(shapeDefaultAttrs,group))._.cubetop=top.follow(face,void 0,"before"),face._.cubeside=side.follow(face,void 0,"before"),R.fn.cubepath.ca)face.ca[a]=R.fn.cubepath.ca[a];return face.attr(CUBEPATH,[args[0],args[1],args[2],args[3],args[4],args[5]])},fn:{_getBBox2:function(){var shape=this,sideBox=this._.cubeside.getBBox(),topBox=this._.cubetop.getBBox(),bbox=this.getBBox();return{x:bbox.x+topBox.height,y:bbox.y-sideBox.width,width:bbox.width,height:bbox.height}}},ca:{cubepath:function(x,y,w,h,zw,zh){var o=this,t=o._.cubetop,s=o._.cubeside;return x=x||0,y=y||0,w=w||0,h=h||0,zw=zw||0,zh=zh||0,o.attr(PATH,["M",x+w,y,"l",0,h,-w,0,0,-h,"z"]),t.attr(PATH,["M",x,y,"l",1,1,w-1,0,0,-1,zw,-zh,-w,0,"z"]),s.attr(PATH,["M",x+w-1,y+1,"l",0,h-1,1,0,zw,-zh,0,-h,-zw,zh]),!1},"stroke-linejoin":function(){return{"stroke-linejoin":"round"}},"drop-shadow":function(dx,dy,spread,color){var o=this,top=o._.cubetop,side=o._.cubeside;return o.dropshadow&&(top.dropshadow(dx,-dy,spread,color),side.dropshadow(dx,-dy,spread,color)),!1},fill:function(color,nogradient){var o=this,top=o._.cubetop,side=o._.cubeside,attr=o.attr(CUBEPATH)||[0,0,0,0,0,0],width=attr[2],zw=attr[4],zh=attr[5],rgba;return color=R.color(color),nogradient?(o.attr(FILL,color),top.attr(FILL,R.tintshade(color,-.78).rgba),side.attr(FILL,R.tintshade(color,-.65).rgba)):(rgba="opacity"in color?"rgba("+[color.r,color.g,color.b,color.opacity]+")":"rgb("+[color.r,color.g,color.b]+")",o.attr(FILL,[270,R.tintshade(rgba,.55).rgba,R.tintshade(rgba,-.65).rgba].join("-")),side.attr(FILL,[270,R.tintshade(rgba,-.75).rgba,R.tintshade(rgba,-.35).rgba].join("-")),top.attr(FILL,[45+R.deg(mathAtan2(zh,zw+width)),R.tintshade(rgba,-.78).rgba,R.tintshade(rgba,.22).rgba].join("-"))),!1}}},{name:"scroller",scroller:function(x,y,w,h,horiz,options,parent){var paper=this,o=this.group("scroller",parent),attrs=o.attrs,scroller=o._.scroller={},orientation=horiz?HORIZONTAL:VERTICAL,_trackAnim,_anchorAnimAttr={},_dragstart,_dragaxis,a;for(a in scroller.track=this.rect(o).mousedown((function(evt){var orientation=attrs[SCROLL_ORIENTATION],pos=attrs[SCROLL_POSITION],dx;dx=((dx=orientation===HORIZONTAL?evt.layerX||evt.x:evt.layerY||evt.y)-scroller.anchorOffset)/scroller.trackLength,_trackAnim=R.animation({"scroll-position":dx},2e3*mathAbs(pos-dx),"easeIn"),o.animate(_trackAnim),eve(EVE_SCROLLSTART+o.id,o,pos)})).mouseup(scroller._mouseupTrack=function(){this.stop(_trackAnim),eve(EVE_SCROLLEND+this.id,this,attrs[SCROLL_POSITION])},o,!0),scroller.anchor=this.rect(o).drag((function(){_anchorAnimAttr[SCROLL_POSITION]=_dragstart+arguments[_dragaxis]/scroller.trackLength,o.animate(_anchorAnimAttr,0)}),(function(_x,_y,event){_dragaxis=attrs[SCROLL_ORIENTATION]===HORIZONTAL?0:1,eve(EVE_SCROLLSTART+o.id,o,_dragstart=attrs[SCROLL_POSITION]),event.stopPropagation()}),(function(){eve(EVE_SCROLLEND+o.id,o,_dragstart=attrs[SCROLL_POSITION])})),R.fn.scroller.fn)o[a]=R.fn.scroller.fn[a];for(a in R.fn.scroller.ca)o.ca[a]=R.fn.scroller.ca[a];return attrs[SCROLL_ORIENTATION]=orientation,attrs["stroke-width"]=1,o.ca[SCROLL_REPAINT]=o.ca["scroll-repaint-"+orientation],!R.is(options,OBJECT)&&(options={}),o.attr({ishot:!0,"scroll-display-buttons":options.showButtons?"arrow":NONE,"scroll-display-style":options.displayStyleFlat?FLAT:"3d","scroll-ratio":toFloat(options.scrollRatio)||1,"scroll-position":toFloat(options.scrollPosition)||0,"scroll-repaint":[x,y,w,h]})},fn:{scroll:function(callback,scope){var o=this,scroller=o._.scroller;return scope=scope||o,scroller.callback=function(){return callback.apply(scope,arguments)},o},remove:function(){var o=this,scroller=o._.scroller,key;for(key in o.attr("scroll-display-buttons",NONE),scroller.track.unmouseup(scroller._mouseupTrack),scroller)scroller[key]&&scroller[key].remove&&scroller[key].remove(),scroller[key]=null;delete o._.scroller,R.el.remove.apply(o,arguments)}},ca:{"stroke-width":function(){return!1},"drop-shadow":function(ox,oy,spread,color,s,g){return this._.scroller.track.attr("drop-shadow",[ox,oy,spread,color,s,g]),!1},"scroll-display-style":function(value){var o=this,attrs=o.attrs,currentStyle=attrs[SCROLL_DISPLAY_STYLE],fill=attrs.fill;return value={flat:FLAT,"3d":"3d",transparent:TRANSPARENT}[value]||currentStyle,fill&&value!==currentStyle&&(attrs[SCROLL_DISPLAY_STYLE]=value,o.attr(FILL,fill)),{"scroll-display-style":value}},"scroll-display-buttons":function(value){var o=this,paper=o.paper,scroller=o._.scroller,attrs=o.attrs,currentDisplayButtons=attrs[SCROLL_DISPLAY_BUTTONS],repaint=attrs[SCROLL_REPAINT],_anim0,_anim1;return void 0===currentDisplayButtons&&(currentDisplayButtons=NONE),(value={none:NONE,arrow:"arrow"}[value]||currentDisplayButtons)!==currentDisplayButtons&&(attrs[SCROLL_DISPLAY_BUTTONS]=value,value===NONE&&scroller.start?(scroller.arrowstart.remove(),delete scroller.arrowstart,scroller.arrowend.remove(),delete scroller.arrowend,scroller.start.unmouseup(scroller._mouseupStart),scroller.start.remove(),delete scroller.start,scroller.end.unmouseup(scroller._mouseupEnd),scroller.end.remove(),delete scroller.end):(scroller.arrowstart=paper.polypath(o),scroller.arrowend=paper.polypath(o),scroller.start=paper.rect(o).mousedown((function(){var pos;0!==(pos=attrs[SCROLL_POSITION])&&(o.animate({"scroll-position":pos-.1},100).animate(_anim0=R.animation({"scroll-position":0},4500*pos,"easeIn")),eve(EVE_SCROLLSTART+o.id,o,pos))})).mouseup(scroller._mouseupStart=function(){o.stop(_anim0),eve(EVE_SCROLLEND+o.id,o,attrs[SCROLL_POSITION])},o,!0),scroller.end=paper.rect(o).mousedown((function(){var pos;1!==(pos=attrs[SCROLL_POSITION])&&(o.animate({"scroll-position":pos+.1},100).animate(_anim1=R.animation({"scroll-position":1},4500*(1-pos),"easeIn")),eve(EVE_SCROLLSTART+o.id,o,pos))})).mouseup(scroller._mouseupEnd=function(){o.stop(_anim1),eve(EVE_SCROLLEND+o.id,o,attrs[SCROLL_POSITION])},o,!0),attrs.fill&&o.attr(FILL,attrs.fill)),repaint&&o.attr(SCROLL_REPAINT,repaint)),{"scroll-display-buttons":value}},"scroll-orientation":function(value){var o=this,attrs=o.attrs,repaint=attrs[SCROLL_REPAINT],currentOrientation=attrs[SCROLL_ORIENTATION];return currentOrientation!==(value={horizontal:HORIZONTAL,vertical:VERTICAL}[value]||currentOrientation)&&(o.ca[SCROLL_REPAINT]=o.ca["scroll-repaint-"+value],repaint&&(repaint[2]=repaint[2]+repaint[3],repaint[3]=repaint[2]-repaint[3],repaint[2]=repaint[2]-repaint[3],o.attr(SCROLL_REPAINT,repaint)),attrs.fill&&o.attr(FILL,attrs.fill)),{"scroll-orientation":value}},"scroll-ratio":function(value){var o=this,attrs=o.attrs,currentRatio=attrs[SCROLL_RATIO],repaint=attrs[SCROLL_REPAINT];return value=value>1?1:value<.01?.01:toFloat(value),repaint&&value!==currentRatio&&(attrs[SCROLL_RATIO]=value,o.attr(SCROLL_REPAINT,repaint)),{"scroll-ratio":value}},"scroll-position":function(value,_force){var o=this,attrs=o.attrs,horiz=attrs[SCROLL_ORIENTATION]===HORIZONTAL,repaint=attrs[SCROLL_REPAINT],currentPosition=attrs[SCROLL_POSITION],scroller=o._.scroller,anchor=scroller.anchor,button;return value=value>1?1:value<0?0:toFloat(value),isNaN(value)&&(value=currentPosition),repaint&&(currentPosition!==value||_force)&&(button=scroller.start&&scroller.start.attr(horiz?WIDTH:HEIGHT)||0,horiz&&anchor.attr("x",repaint[0]+button+(repaint[2]-2*button-anchor.attr(WIDTH))*value+.5)||anchor.attr("y",repaint[1]+button+(repaint[3]-2*button-anchor.attr(HEIGHT))*value+.5),!_force&&attrs[SCROLL_RATIO]<1&&(eve(EVE_SCROLLCHANGE+o.id,o,value),scroller.callback&&scroller.callback(value))),{"scroll-position":value}},r:function(value){var o=this,scroller=o._.scroller;return scroller.track.attr("r",value),scroller.anchor.attr("r",o.attrs[SCROLL_DISPLAY_BUTTONS]===NONE&&value||0),!1},"scroll-repaint-horizontal":function(x,y,w,h){var o=this,attrs=o.attrs,scroller=o._.scroller,ratio=attrs[SCROLL_RATIO],position=attrs[SCROLL_POSITION],button=0,track=w*ratio,nobutton=attrs[SCROLL_DISPLAY_BUTTONS]===NONE;w&&(w-=1),x&&(x+=.5),h&&(h-=1),y&&(y+=.5),scroller.track.attr({width:w,height:h,y:y,x:x}).crisp(),nobutton||(track-=2*(button=mathMin(h,.5*w))*ratio,scroller.start.attr({width:button,height:h,x:x,y:y}),scroller.arrowstart.attr(POLYPATH,[3,x+.5*button,y+.5*h,.25*button,180]),scroller.end.attr({width:button,height:h,x:x+w-button,y:y}),scroller.arrowend.attr(POLYPATH,[3,x+w-.5*button,y+.5*button,.25*button,0])),scroller.trackLength=w-2*button-track,scroller.trackOffset=x+button+.5,scroller.anchorOffset=scroller.trackOffset+.5*(track-1),scroller.anchor.attr({height:h,width:track-1,y:y,x:scroller.trackOffset+scroller.trackLength*position}).crisp()},"scroll-repaint-vertical":function(x,y,w,h){var o=this,attrs=o.attrs,scroller=o._.scroller,ratio=attrs[SCROLL_RATIO],position=attrs[SCROLL_POSITION],button=0,track=h*ratio,nobutton=attrs[SCROLL_DISPLAY_BUTTONS]===NONE;w&&(w-=1),x&&(x+=.5),h&&(h-=1),y&&(y+=.5),scroller.track.attr({width:w,height:h,y:y,x:x}).crisp(),nobutton||(track-=2*(button=mathMin(w,.5*h))*ratio,scroller.start.attr({width:w,height:button,x:x,y:y}),scroller.arrowstart.attr(POLYPATH,[3,x+.5*w,y+.5*button,.25*button,90]),scroller.end.attr({width:w,height:button,x:x,y:y+h-button}),scroller.arrowend.attr(POLYPATH,[3,x+.5*w,y+h-.5*button,.25*button,-90])),scroller.trackLength=h-2*button-track,scroller.trackOffset=y+button+.5,scroller.anchorOffset=scroller.trackOffset+.5*(track-1),scroller.anchor.attr({height:track-1,width:w,y:scroller.trackOffset+scroller.trackLength*position,x:x}).crisp()},fill:function(color){var o=this,attrs=o.attrs,scroller=o._.scroller,repaint=attrs[SCROLL_REPAINT],flat=attrs[SCROLL_DISPLAY_STYLE]===FLAT,horiz=attrs[SCROLL_ORIENTATION]===HORIZONTAL,setter={stroke:NONE},strokeCompensation;return hasTouch&&repaint&&(strokeCompensation=16-repaint[horiz?3:2])>3&&(setter.stroke=TRACKER_FILL,setter["stroke-width"]=strokeCompensation),(color=R.color(color)).error&&(color="#000000"),color="opacity"in color?"rgba("+[color.r,color.g,color.b,color.opacity]+")":"rgb("+[color.r,color.g,color.b]+")",setter.fill=flat&&color||[90*horiz,R.tintshade(color,.15).rgba,color].join("-"),setter.stroke=R.tintshade(color,-.75).rgba,scroller.track.attr(setter),setter.fill=flat&&R.tintshade(color,-.6).rgba||[270*horiz,R.tintshade(color,.3).rgba+":40",R.tintshade(color,-.7).rgba].join("-"),setter.stroke=R.tintshade(color,-.6).rgba,scroller.anchor.attr(setter),setter.stroke=NONE,attrs[SCROLL_DISPLAY_BUTTONS]!==NONE&&(setter.fill=TRACKER_FILL,scroller.start.attr(setter),scroller.end.attr(setter),setter.fill=R.tintshade(color,-.4).rgba,scroller.arrowstart.attr(setter),scroller.arrowend.attr(setter)),!1}}},{name:"button",button:function(x,y,labelText,symbolName,options,parent){var paper=this,o=this.group("button",parent),a;for(a in o._.button={bound:this.rect(o),tracker:this.rect(o).attr({fill:TRACKER_FILL,stroke:TRACKER_FILL,cursor:"pointer"}).data("compositeButton",o)},!R.is(options,OBJECT)&&(options={}),R.fn.button.fn)o[a]=R.fn.button.fn[a];for(a in R.fn.button.ca)o.ca[a]=R.fn.button.ca[a];return o.attr({ishot:!0,"button-padding":[options.horizontalPadding,options.verticalPadding],"button-label":labelText,"button-symbol":symbolName,"button-disabled":options.disabled||"false","button-symbol-position":options.symbolPosition,"button-symbol-padding":options.symbolPadding}).attr("button-repaint",[x,y,options.width,options.height,options.r])},data:{hoverin:function(){var o=this,button,callback=o._.button.hoverbackIn;callback&&!1===callback()||(o.attr("fill","hover").hovered=!0)},hoverout:function(){var o=this,button,callback=o._.button.hoverbackOut;callback&&!1===callback()||(o.attr("fill",o.pressed||o.active?"active":"normal").hovered=!1)},mousedown:function(){var o;this.attr("fill","active").pressed=!0},mouseup:function(){var o=this,button,callback=o._.button.callback;o.attr("fill",(o.hovered?"hover":o.active&&"active")||"normal").pressed=!1,callback()}},fn:{tooltip:function(){return R.el.tooltip&&R.el.tooltip.apply(this._.button.tracker,arguments),this},buttonclick:function(callback,scope){var o=this,button=o._.button;return scope=scope||o,button.callback=function(){return callback.apply(scope,arguments)},o},labelcss:function(){var button=this._.button,label=button.label;return button.cssArg=arguments,label&&label.css.apply(label,arguments),this.attr("button-repaint",this.attrs["button-repaint"])},buttonhover:function(callbackIn,callbackOut,scopeIn,scopeOut){var o=this,button=o._.button;return scopeIn=scopeIn||o,scopeOut=scopeOut||o,button.hoverbackIn=function(){return callbackIn.apply(scopeIn,arguments)},button.hoverbackOut=function(){return callbackOut.apply(scopeOut,arguments)},o},remove:function(){var o=this,button=o._.button,key;for(key in o.attr("button-disabled","true"),button)button[key]&&button[key].remove&&button[key].remove(),button[key]=null;delete o._.button,R.el.remove.apply(o,arguments)}},ca:{"button-active":function(value){var o=this;o.attr("fill",(o.active=!!value)?"active":o.hovered?"hover":"normal")},"button-disabled":function(value){var o=this,paper=o.paper,button,tracker=o._.button.tracker,attr=o.attrs["button-disabled"],events=paper.button.data;if(attr=buttonDisabledAttrs[attr],void 0!==(value=buttonDisabledAttrs[value])&&value!==attr)switch(value){case!0:tracker.attr("fill","rgba(204,204,205,.5)").unmousedown(events.mousedown).unmouseup(events.mouseup).unhover(events.hoverin,events.hoverout);break;case!1:tracker.attr("fill",TRACKER_FILL).mousedown(events.mousedown,o).mouseup(events.mouseup,o,!0).hover(events.hoverin,events.hoverout,o,o)}},"button-label":function(text){var o=this,button=o._.button,attrs=o.attrs,label=button.label,cssArg=button.cssArg,repaint=o.attrs["button-repaint"];(text=toStr(text||""))===NONE?label&&(button.label=label.remove()):text&&(!label&&(label=button.label=o.paper.text(o).insertBefore(button.tracker)),label.attr({text:text,"text-anchor":"middle","vertical-align":"middle"}),cssArg&&cssArg.length&&label.css.apply(label,cssArg)),repaint&&attrs["button-label"]!==text&&o.attr("button-repaint",repaint)},"button-symbol":function(name){var o=this,attrs=o.attrs,button=o._.button,symbol=button.symbol,repaint=o.attrs["button-repaint"];(name=toStr(name||""))===NONE?symbol&&(button.symbol=symbol.remove()):name&&!symbol&&(symbol=button.symbol=o.paper.symbol(o).insertAfter(button.bound)),repaint&&attrs["button-symbol"]!==name&&o.attr("button-repaint",repaint)},"button-symbol-position":function(position){return{"button-symbol-position":{top:"top",right:"right",bottom:"bottom",left:"left",none:"none"}[toStr(position).toLowerCase()]||NONE}},"button-symbol-padding":function(value){return{"button-symbol-padding":toFloat(value)}},"button-padding":function(px,py){return{"button-padding":[null==px&&(px=5)||toFloat(px),null==py&&px||toFloat(py)]}},"button-repaint":function(x,y,w,h,r){var o=this,button=o._.button,bound=button.bound,label=button.label,symbol=button.symbol,attrs=o.attrs,attrPads=attrs["button-padding"],padX=attrPads[0],padY=attrPads[1],symX,symY,symD,symR,padSym,bbox,obj;if(void 0===x&&(x=0),void 0===y&&(y=0),void 0!==w&&void 0!==h||(bbox=label&&label.getBBox()||{width:0,height:0},void 0===w&&(w=2*padX+bbox.width),void 0===h&&(h=2*padY+bbox.height)),(obj=R.crispBound(x,y,w,h,bound.attr("stroke-width"))).r=r=R.pick(r,mathRound(.1*mathMin(h,w))),x=obj.x,y=obj.y,w=obj.width,h=obj.height,label&&label.attr({x:x+w/2,y:y+h/2}),symbol){switch(!R.is(padSym=attrs["button-symbol-padding"],"finite")&&(padSym=.2*h),symR=.5*(symD=h-padY),attrs["button-symbol-position"]+(label?"+":"-")){case"right+":symX=x+(w+=2*symR+padY)-symR-padX,symY=y+.5*h,label.attr("transform",["t",-(symD+padSym),0]);break;case"left+":w+=2*symR+padY,symX=x+padX+symR,symY=y+.5*h,label.attr("transform",["t",symD+padSym,0]);break;case"top+":h+=2*symR+padSym,symX=x+.5*w,symY=y+attrPads[1]+symR,label.attr("transform",["t",0,symD+padSym]);break;case"bottom+":symX=x+.5*w,symY=y+(h+=2*symR+padSym)-padY-symR,label.attr("transform",["t",0,-(symD+padSym)]);break;default:symX=x+.5*w,symY=y+.5*h}symbol.attr("symbol",[attrs["button-symbol"],symX,symY,symR])}button.bound.attr(obj),button.tracker.attr(obj)},fill:function(color,labelFill,symbolFill,hover){var o=this,button=o._.button,bound=button.bound,symbol=button.symbol,label=button.label,state={normal:button.gradient,active:button.gradientActive,hover:button.gradientHover}[color];return state||((color=R.getRGB(color)).error&&(color=R.color("#cccccc")),color="opacity"in color?"rgba("+[color.r,color.g,color.b,color.opacity]+")":"rgb("+[color.r,color.g,color.b]+")",button.gradient=[90,R.tintshade(color,-.8).rgba+":0",R.tintshade(color,.8).rgba+":100"].join("-"),button.gradientActive=[270,R.tintshade(color,-.8).rgba+":0",R.tintshade(color,.8).rgba+":100"].join("-"),(hover=R.getRGB(hover)).error&&(hover=color)||(hover="opacity"in hover?"rgba("+[hover.r,hover.g,hover.b,hover.opacity]+")":"rgb("+[hover.r,hover.g,hover.b]+")"),button.gradientHover=[90,R.tintshade(hover,-.9).rgba+":0",R.tintshade(hover,.7).rgba+":100"].join("-"),symbolFill=symbolFill||R.tintshade(color,.2).rgba,labelFill=labelFill||R.tintshade(color,-.2).rgba,button.symbolFill=symbolFill,button.labelFill=labelFill,state=(o.pressed||o.active)&&button.gradientActive||o.hovered&&button.gradienthover||button.gradient),bound.attr("fill",state),symbol&&symbol.attr("fill",button.symbolFill),label&&label.attr("fill",button.labelFill),!1},stroke:function(color,forSymbol){var button=this._.button,symbol=button.symbol;return(color=R.color(color)).error&&(color=R.color("#999999")),button.bound.attr(STROKE,color),symbol&&symbol.attr(STROKE,forSymbol||color),!1},"stroke-width":function(value,forSymbol){var button=this._.button,symbol=button.symbol;return button.bound.attr("stroke-width",value),button.tracker.attr("stroke-width",value),symbol&&symbol.attr("stroke-width",forSymbol),!1}}}]),R.ca[TEXTBOUND]=function(fill,stroke,strokeWidth,padding,cornerRadius,dasharray){var o=this,paper=o.paper,bound=o._.textbound;if("text"===this.type)return stroke&&stroke!==NONE||fill&&fill!==NONE?((!strokeWidth||!R.is(strokeWidth,"finite"))&&(strokeWidth=0),(!cornerRadius||!R.is(cornerRadius,"finite"))&&(cornerRadius=0),!bound&&(bound=o._.textbound=paper.rect(0,0,0,0,o.group).follow(o,R.ca[TEXTBOUND].reposition,"before")),bound.attr({stroke:stroke,"stroke-width":strokeWidth,fill:fill,"shape-rendering":1===strokeWidth?CRISP:"",r:cornerRadius}),dasharray&&bound.attr("stroke-dasharray",dasharray),R.ca[TEXTBOUND].reposition.call(bound,o.attr(),o),!1):(o._.textbound=bound&&bound.unfollow(o).remove(),!1)},R.ca[TEXTBOUND].reposition=function(params,leader){var o=this,updates={},attr,padding,padX,padY,bbox,w,h;params[HAS]("visibility")&&o.attr("visibility",params.visibility),(params[HAS](TEXTBOUND)||params[HAS]("x")||params[HAS]("y")||params[HAS]("text")||params[HAS]("text-anchor")||params[HAS]("text-align")||params[HAS]("font-size")||params[HAS]("line-height")||params[HAS]("vertical-align")||params[HAS]("transform")||params[HAS]("rotation"))&&(attr=leader.attrs[TEXTBOUND],padding=toStr(attr&&attr[3]||"0").split(commaseparator),padX=toFloat(padding[0])||0,padY=R.pick(toFloat(padding[1]),padX),w=(bbox=leader.getBBox()).width,h=bbox.height,isNaN(w)||(updates.x=bbox.x-padX,updates.y=bbox.y-padY,updates.width=w+2*padX,updates.height=h+2*padY),o.attr(updates))},R.fn.symbol=function(){var paper=this,args=arguments,lastArg=args.length-1,group=args[lastArg],o;return group&&group.constructor===R.el.constructor?args[lastArg]=void 0:group=void 0,(o=paper.path(void 0,group)).ca.symbol=R.fn.symbol.ca.symbol,args.length===!!group+0?o:o.attr("symbol",args)},R.fn.symbol.cache={"":R._cacher((function(x,y,r,h){return arguments.length>3?["M",x,y,"h",r,"v",h,"h",-r,"v",-h,"z"]:["M",x-r,y-r,"h",r*=2,"v",r,"h",-r,"v",-r,"z"]}))},R.fn.symbol.ca={symbol:function(name){var o=this,args=R.is(name,OBJECT)&&1===arguments.length&&!R.is(name,"function")?name:arguments,symbolFn,symbolData;args===name&&(name=args[0]),symbolData=(symbolFn=R.is(name,"function")&&name||R.fn.symbol.cache[name]||R.fn.symbol.cache[""])&&symbolFn.apply(R,arraySlice.call(args,1)),R.is(symbolData,"array")||R.is(symbolData,"string")?o.attr("path",symbolData):symbolData&&o.attr(symbolData)}},R.addSymbol=function(name,fn){var items=R.is(fn,"function")&&((items={})[name]=fn,items)||name,cache=R.fn.symbol.cache,alias=[],i;for(i in items)fn=items[i],cache[i]=R.is(fn,"function")&&R._cacher(fn,R)||(alias.push(i),fn);for(;i=alias.pop();)cache[i]=cache[cache[i]]},R.svg?(p2srep="$1",litepathsetter=function(path){var o=this;return path?"string"==typeof path?path=path.replace(p2s,p2srep):path.toString=path2string:path="M0,0",o.node.setAttribute("d",path.toString()),o},R._engine.litepath=function(path,svg,zoom,group){var el=createNode("path"),p;return(group||svg).canvas.appendChild(el),(p=new Element(el,svg,group)).type=LITEPATH,p.id=el.raphaelid=R._oid++,el.raphael=!0,setFillAndStroke(p,{fill:NONE,stroke:"#000"}),p},R._getPath.litepath=function(el){return R.parsePathString(el.node.getAttribute("d"))}):R.vml&&(p2srep=function(cmd,$1){return s2vcmd[$1]||$1},vmlTransformHelper=function(){var o=this;return o._transform.apply(o,arguments),o._.bcoord&&(o.node.coordsize=o._.bcoord),o},litepathsetter=function(path){var o=this;return path?"string"==typeof path?path=path.replace(p2s,p2srep):path.toString=path2string:path="M0,0",o.node.path=path,o},R._engine.litepath=function(pathString,vml,zoom,group){var el=createNode("shape"),s=el.style,p=new Element(el,vml,group),attr={fill:NONE,stroke:"#000"},skew;return s.cssText=CSSFLOOD,zoom=toFloat(zoom),isNaN(zoom)?el.coordsize=COORD21600:(p._.bzoom=zoom,s.width="1px",s.height="1px",el.coordsize=p._.bcoord=zoom+" "+zoom),el.coordorigin=vml.coordorigin,p.type=LITEPATH,p.id=el.raphaelid=R._oid++,el.raphael=!0,p._transform=p.transform,p.transform=vmlTransformHelper,R._setFillAndStroke(p,attr),(group||vml).canvas.appendChild(el),(skew=createNode("skew")).on=!0,el.appendChild(skew),p.skew=skew,p},R._getPath.litepath=function(el){return R.parsePathString(el.node.path||"")}),R.fn.litepath=function(path,zoom,group){var paper=this,out;return zoom&&zoom.constructor===Element&&(group=zoom,zoom=void 0),path&&path.constructor===Element&&(group=path,path=""),(out=R._engine.litepath(path,this,zoom,group)).ca.litepath=litepathsetter,path&&out.attr(LITEPATH,R.is(path,ARRAY)?[path]:path),this.__set__&&this.__set__.push(out),this._elementsById[out.id]=out}}]),FusionCharts.register("module",["private","modules.renderer.js-htmlrenderer",function(){var global=this,lib=this.hcLib,R=lib.Raphael,dem=lib.dem,win=this.window,doc=win.document,isIE=/msie/i.test(win.navigator.userAgent)&&!win.opera,isVML="VML"===R.type,hasTouch="createTouch"in doc,NONE="none",ABSOLUTE,BLANK="",PX="px",styleAttrMap={cursor:"cursor"},styleAttrNumericMap={x:"left",y:"top",strokeWidth:"borderThickness","stroke-width":"borderThickness",width:"width",height:"height"},styleAttrColorMap={fill:"backgroundColor",stroke:"borderColor",color:"color"},defaultElementStyle={left:0,top:0,padding:0,border:NONE,margin:0,outline:NONE,"-webkit-apperance":NONE,position:"absolute",zIndex:20},hashify=function(color){return color&&color.replace(/^#?([a-f0-9]+)/gi,"#$1")||NONE},garbageBin,createElement=function(tagName,attributes,css,parentElement){var elem=doc.createElement(tagName),x;for(x in attributes)styleAttrNumericMap[x]?elem.style[x]=attributes[x]:elem.setAttribute(x,attributes[x]);for(x in css)elem.style[x]=css[x];return parentElement&&parentElement.appendChild&&parentElement.appendChild(elem),elem},discardElement=function(element){garbageBin||(garbageBin=createElement("div")),element&&garbageBin.appendChild(element),garbageBin.innerHTML=""},attr=function(elem,prop,value){var key,ret;if("string"==typeof prop)null!=value?elem.setAttribute(prop,value):elem&&elem.getAttribute&&(ret=elem.getAttribute(prop));else if(null!=prop&&"object"==typeof prop)for(key in prop)elem.setAttribute(key,prop[key]);return ret},HTMLElement;(HTMLElement=function(node,group,attrs){var wrapper=this,element;group&&group instanceof HTMLElement&&(group=group.element),(element=this.element=createElement(node,attrs,defaultElementStyle,group)).ishot="true",this.nodeName=node.toLowerCase(),this.added=Boolean(group)}).prototype={attr:function(hash){var wrapper=this,element=this.element,restore={},key,val,value,skipAttr,state,optionArr,optionString,i,len,ele;if("object"!=typeof hash)return this[hash]||attr(element,hash);for(key in hash){if(value=hash[key],styleAttrMap[key]){switch(key){case"cursor":"pointer"===value&&isVML&&(value="hand")}element.style[styleAttrMap[key]]=value,skipAttr=!0}else if(styleAttrNumericMap[key])element.style[styleAttrNumericMap[key]]=value+PX,skipAttr=!0;else if(styleAttrColorMap[key])element.style[styleAttrColorMap[key]]=hashify(value),skipAttr=!0;else if(/^visibility$/i.test(key))state="hidden"===value,element.style.display=state?"none":"",this.hidden=state,skipAttr=!0;else if(/^opacity$/i.test(key))element.style.opacity=value,isIE&&(val=100*Number(value),element.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+val+")"),skipAttr=!0;else if(/^innerhtml$/i.test(key)){if(isVML&&"select"==element.nodeName.toLowerCase()){for(optionArr=value.match(/<option\s?[\s\S]*?(\/>|><\/option>|>[\s\S]*?<\/option>)/gi);element.firstChild;)element.removeChild(element.firstChild);for(i=0,len=optionArr.length;i<len;i+=1)optionString=optionArr[i],ele=doc.createElement("option"),/<option\s([\s\S]*[\'\"])\s*?(\/>|>[\s\S]*<\/option>)/gi.test(optionString)&&(ele.value=optionString.replace(/<option\s([\s\S]*[\'\"])\s*?(\/>|>[\s\S]*<\/option>)/gi,"$1").replace(/[\s\S]*value\s*\=\s*[\'\"]([\s\S]*)[\'\"]/,"$1")),ele.text=optionString.replace(/<option\s*[\s\S]*[\'\"]?\s*?[\/>|\>]([\s\S]*)<\/option>/gi,"$1 "),element.options.add(ele)}else"input"!==element.nodeName.toLowerCase()&&void 0!==value&&(element.innerHTML=value||"");skipAttr=!0}else/^text$/i.test(key)?("input"!==element.nodeName.toLowerCase()&&(element.innerHTML="",void 0!==value&&element.appendChild(doc.createTextNode(value))),skipAttr=!0):/^type$/i.test(key)&&isIE&&this.added&&(skipAttr=!0);skipAttr&&(restore[key]=value,delete hash[key],skipAttr=!1)}for(key in hash)element.setAttribute(key,hash[key]);for(key in restore)this[key]=hash[key]=restore[key],delete restore[key];return this},val:function(set){var wrapper=this,element=this.element,getter=void 0===set;return"input"===this.nodeName&&"checkbox"===element.getAttribute("type")?getter?this.checked()?1:0:this.checked(set):getter?element.value:(element.value=set,this)},checked:function(set){var wrapper=this,element=this.element;return void 0===set?element.checked:(set?element.setAttribute("checked","checked"):element.removeAttribute("checked"),this)},css:function(hash,val){var wrapper=this,element,styleObj=this.element.style,key;if("object"==typeof hash)for(key in hash)styleObj[key]=hash[key];else key&&void 0!==val&&(styleObj[key]=val);return this},translate:function(x,y){var wrapper=this,element=this.element;return void 0!==x&&(element.style.left=x+PX),void 0!==y&&(element.style.top=y+PX),this},add:function(group,prepend){var wrapper=this,element=this.element,parent=group.element;return prepend?parent.insertBefore(element,parent.firstChild):parent.appendChild(element),this.added=!0,this},hide:function(){return this.element.style.display="none",this},show:function(){return this.element.style.display="",this},focus:function(){"function"==typeof this.element.focus?this.element.focus():lib.dem.fire(this.element,"focus")},destroy:function(){var wrapper=this,element=this.element||{};return element.onclick=element.onmouseout=element.onmouseover=element.onmousemove=element.onblur=element.onfocus=null,element=discardElement(element),delete this.element,null},on:isVML?function(eventType,handler){var wrapper=this;return this.element["on"+eventType]=function(){var evt=win.event;evt.target=evt.srcElement,handler(evt)},this}:function(eventType,handler){var fn=handler,wrapper=this;return hasTouch&&"click"===eventType&&(eventType="touchstart",fn=function(e){e.preventDefault(),handler()}),this.element["on"+eventType]=fn,this},bind:function(event,handler,data){return dem.listen(this.element,event,handler,data),this},unbind:function(event,handler){return dem.unlisten(this.element,event,handler),this},trigger:function(event,eventObj){return dem.fire(this.element,event,eventObj),this},fadeIn:function(transition,callback){var duration="fast"===transition?400:1e3;this.show(),this.attr({opacity:0}),lib.danimate.animate(this.element,{opacity:1},duration,"linear",callback)}},HTMLElement.prototype.constructor=HTMLElement,R.fn.html=function(node,attrs,css,group){var rootAttr={},wrapper,prop;for(prop in attrs&&"type"in attrs&&(rootAttr.type=attrs.type,delete attrs.type),wrapper=new HTMLElement(node,group,rootAttr).css(css).attr(attrs),rootAttr)attrs[prop]=rootAttr[prop];return wrapper}}]),FusionCharts.register("module",["private","modules.renderer.js-raphaeltooltip",function(){var global=this,win=global.window,doc=win.document,docBody=doc.body||doc.getElementsByTagName("body")[0],lib=global.hcLib,R=lib.Raphael,eve=R.eve,createElement=lib.createElement,addEvent=lib.addEvent,removeEvent=lib.removeEvent,getPosition=lib.getPosition,hasTouch=lib.hasTouch,touchSafeEvent=lib.getTouchEvent,math=win.Math,mathCeil=math.ceil,mathFloor=math.floor,NONE="none",INLINE="inline",E="",MINVPWIDTH=100,MINVPHEIGHT=100,DUMBOBJ={},vpHeight=win.screen.availHeight,vpWidth=win.screen.availWidth,cssVendorPrefixes={"":1,moz:1,webkit:1,o:1,ms:1},vendorSpecificStyles={borderRadius:"borderRadius",boxShadow:"boxShadow"},regexCamelCase=/\-([a-z])/gi,regexCamelCaseReplacer=function(_a,_b){return _b.toUpperCase()},StyleProperty=function(overrides){var f=tip.forbiddenStyle,key,csskey,subkey;for(key in overrides)csskey=regexCamelCase.test(key)?key.replace(regexCamelCase,regexCamelCaseReplacer):key,void 0!==overrides[key]&&!f[csskey]&&(this[csskey]=overrides[key]),R.vml&&/color/gi.test(csskey)&&(this[csskey]=R.getRGB(this[csskey]).toString());for(key in vendorSpecificStyles)if(this[key])for(subkey in cssVendorPrefixes)this[subkey+key]=this[key]},tip=lib.toolTip={elementId:"fusioncharts-tooltip-element",element:null,lastTarget:null,currentTarget:null,currentPaper:null,pointeroffset:12,prevented:!1,defaultStyle:lib.extend2(StyleProperty.prototype,{backgroundColor:"#ffffee",borderColor:"#000000",borderWidth:"1px",color:"#000000",fontSize:"10px",lineHeight:"12px",padding:"3px",borderStyle:"solid"}),defaultContainerStyle:{position:"absolute",textAlign:"left",margin:"0",zIndex:"99999",pointer:"default",display:"block"},forbiddenStyle:{}},trackOutOfBoundInteraction=function(event){if(!0!==tip._oobready){if(removeEvent(docBody,"touchstart",trackOutOfBoundInteraction),!tip.hidden&&tip.currentTarget){var element=event.srcElement||event.target||DUMBOBJ;element.raphael&&tip.currentTarget.paper.getById(element.raphaelid)===tip.currentTarget||tip.hide()}}else tip._oobready=!1};R.svg&&(tip.defaultContainerStyle.pointerEvents=NONE,tip.defaultStyle.borderRadius="0",tip.defaultStyle.boxShadow=NONE),R.vml&&(tip.forbiddenStyle.borderRadius=!0,tip.forbiddenStyle.boxShadow=!0,tip.defaultStyle.filter=E),tip.setup=function(){var container=tip.container,textElement=tip.textElement,containerStyle=tip.style,defaultContainerStyle=tip.defaultContainerStyle,f=tip.forbiddenStyle,key;for(key in container||(container=tip.element=createElement("span"),(doc.body||doc.getElementsByTagName("body")[0]).appendChild(container),container.setAttribute("id",tip.elementId),containerStyle=tip.containerStyle=container.style,textElement=tip.textElement=createElement("span"),container.appendChild(textElement),tip.style=R.vml?textElement.runtimeStyle:textElement.style,tip.style.overflow="hidden",tip.style.display="block",tip.hidden=!1,tip.hide()),defaultContainerStyle)!f[key]&&(containerStyle[key]=defaultContainerStyle[key]);tip.scatted=!0,eve.on("raphael.drag.start.*",(function(){tip.scatted&&(tip.waitingScat=!0)})),eve.on("raphael.drag.move.*",(function(){tip.waitingScat&&(tip.block(),tip.waitingScat=!1)})),eve.on("raphael.drag.end.*",(function(){tip.waitingScat=!1,tip.scatted&&tip.unblock(!0)})),eve.on("raphael.remove",(function(){(tip.currentPaper===this||tip.currentTarget&&tip.currentTarget.paper===this)&&(tip.hide(),tip.currentTarget=tip.currentPaper=null)})),global.addEventListener("LinkedChartInvoked",(function(event){var chartObj,chartPaper=event.sender.jsVars.hcObj.paper,tipPaper;tip.currentPaper===chartPaper&&tip.hide()}))},tip.restyle=function(style){var s=tip.style,key;for(key in style)s[key]=style[key]},tip.onelement=function(event){if(!event.__tipProcessed){var tracker=this,paper=this.paper,o="group"===this.type?paper&&paper._elementFromEvent(event):this,tipStyle=paper.__tipStyle;o&&tipStyle&&o.__tipNeeded&&((event.originalEvent||event).FusionChartsPreventEvent&&tip.preventTooltip(),tip.hiding&&(tip.hiding=clearTimeout(tip.hiding)),tip.currentPaper!==paper&&(paper.__tipCp=paper.canvas&&getPosition(paper.canvas.parentNode,!0)||{},tip.restyle(paper.__tipStyle),tip.currentPaper=paper),tip.lastTarget=tip.currentTarget,tip.currentTarget=o,tip.scatted=o.__tipScatted,tip.onredraw.call(this,event),event.__tipProcessed=!0,hasTouch&&(tip._oobready=!0,addEvent(docBody||(docBody=doc.body||doc.getElementsByTagName("body")[0]),"touchstart",trackOutOfBoundInteraction)))}},tip.onredraw=function(event){event.__tipProcessed||(event.__tipProcessed=!0,(this.paper&&this.paper._elementFromEvent(event))===tip.currentTarget&&(tip.redrawing&&clearTimeout(tip.redrawing),event=touchSafeEvent(event),tip.x=mathFloor(event.pageX||event.clientX+doc.body.scrollLeft+doc.documentElement.scrollLeft||0),tip.y=mathFloor(event.pageY||event.clientY+doc.body.scrollTop+doc.documentElement.scrollTop||0),tip.redrawing=setTimeout(tip.redraw,0)))},tip.onhide=function(event){event.__tipProcessed||(event.__tipProcessed=!0,(this.paper&&this.paper._elementFromEvent(event))===tip.currentTarget&&(tip.hiding=setTimeout(tip.hide,200)))},tip.redraw=function(){if(!tip.prevented&&!tip.blocked&&tip.currentTarget&&tip.currentTarget.__tipNeeded){var o=tip.currentTarget,paper=o.paper,textEl=tip.textElement,containerStyle=tip.containerStyle,style=tip.style,text=o.__tipText,offset=tip.pointeroffset,cp=paper.__tipCp,docEl=doc.documentElement||doc.body,scrollLeft=docEl.scrollLeft,scrollTop=docEl.scrollTop,x=tip.x,y=tip.y,width,height,pw=paper.width,ph=paper.height,constrain=paper.__tipConstrain;(pw<100||ph<100)&&(constrain=!1),tip.hidden&&(tip.containerStyle.top="-999em",tip.show()),text!==tip.text&&(tip.text=text,containerStyle.width=containerStyle.height="",textEl.innerHTML=text,style.whiteSpace="nowrap",width=mathCeil(style.pixelWidth||textEl.offsetWidth||0),height=mathCeil(style.pixelHeight||textEl.offsetHeight||0),(tip.textWidthOverflow=width>pw)?(containerStyle.width=(pw||0)-2*offset+"px",style.whiteSpace="normal"):containerStyle.width="",(tip.textHeightOverflow=height>ph)?(containerStyle.height=(ph||0)-2*offset+"px",style.whiteSpace="normal"):containerStyle.height=""),width=mathCeil(style.pixelWidth||textEl.offsetWidth||0),height=mathCeil(style.pixelHeight||textEl.offsetHeight||0),constrain?(tip.textWidthOverflow?x=cp.left-scrollLeft:x+offset+width>cp.left-scrollLeft+pw-offset&&(x=x-width-offset),tip.textHeightOverflow?y=cp.top-scrollTop:y+offset+height>cp.top-scrollTop+ph-offset&&(y=y-height-1.5*offset)):(scrollLeft+vpWidth<x+offset+width&&(x=x-width-offset),scrollTop+vpHeight<y+offset+height&&(y=y-height-1.5*offset)),containerStyle.left=(x+offset||0)+"px",containerStyle.top=(y+offset||0)+"px",tip.hidden&&tip.show()}},tip.hide=function(){tip.hiding&&(tip.hiding=clearTimeout(tip.hiding)),tip.containerStyle.display=NONE,tip.hidden=!0,tip.prevented=!1},tip.show=function(){tip.blocked||(tip.hiding&&(tip.hiding=clearTimeout(tip.hiding)),tip.containerStyle.display=INLINE,tip.hidden=!1)},tip.preventTooltip=function(){tip.prevented=!0},tip.block=function(){tip.blocked=!0,tip.containerStyle.display=NONE},tip.unblock=function(retain){tip.blocked=!1,retain&&(tip.containerStyle.display=tip.hidden?NONE:INLINE)},R.fn.tooltip=function(css,shadow,constrain){var paper=this,op;return shadow&&(op=.4*(void 0===shadow.opacity?1:shadow.opacity),R.svg?css.boxShadow="1px 1px 3px rgba(64,64,64,"+op+")":css.filter='progid:DXImageTransform.Microsoft.Shadow(Strength=2, Direction=135, Color="#404040", shadowOpacity="'+op/2+'")'),this.__tipStyle=new StyleProperty(css),this.__tipCp=this.canvas&&getPosition(this.canvas.parentNode,!0)||{},this.__tipConstrain=Boolean(constrain),this},R.el.trackTooltip=function(status){var o=this,tracking=!!o.__tiptracking;return void 0===status||(status=!!status)===tracking?o:(status?hasTouch?o.touchstart(tip.onelement):(o.mouseover(tip.onelement),o.mousemove(tip.onredraw),o.mouseout(tip.onhide)):hasTouch?o.untouchstart(tip.onelement):(o.unmouseover(tip.onelement),o.unmousemove(tip.onredraw),o.unmouseout(tip.onhide)),o.__tiptracking=status,o)},R.el.tooltip=function(text,x,y,unscat,blocked){return tip.setup(),R.el.tooltip=function(text,x,y,unscat,blocked){var o=this,notext=!1===text||void 0===text||text===E;return o.__tipScatted=void 0===unscat?o.__tipScatted:!unscat,void 0===o.__tipScatted&&(o.__tipScatted=!0),null!==blocked&&(o.__tip_blocked=blocked),notext^!o.__tipText&&(o.__tipNeeded=!notext),o.__tipText=text,tip.currentTarget!==o||text===tip.text||tip.hidden||tip[notext?"hide":"redraw"](),o},R.el.tooltip.call(this,text,x,y,unscat,blocked)},global.core._setTooltipZIndex=function(value){value=parseInt(value,10),tip&&!isNaN(value)&&(tip.defaultContainerStyle.zIndex=value,tip.containerStyle&&(tip.containerStyle.zIndex=value))}}]),FusionCharts.register("module",["private","modules.renderer.js-smartlabel",function(){var global=this,lib=this.hcLib,isIE=lib.isIE,hasSVG=lib.hasSVG,math,mathMax=Math.max,win=this.window,isHeadLess=new RegExp(" HtmlUnit").test(win.navigator.userAgent),doc=win.document,isWebKit=new RegExp(" AppleWebKit/").test(win.navigator.userAgent),hasCanvas=!!doc.createElement("canvas").getContext,hasMeasureText=!(!hasCanvas||!doc.createElement("canvas").getContext("2d").measureText),SmartLabelManager=function(){var supportedStyle=lib.supportedStyle,supportedCanvasStyle={fontWeight:1,"font-weight":1,fontStyle:1,"font-style":1,fontSize:1,"font-size":1,fontFamily:1,"font-family":1},fixedStyle={position:"absolute",top:"-9999em",left:"-9999em",whiteSpace:"nowrap",padding:"0px",width:"1px",height:"1px",overflow:"hidden"},SVG_BBOX_CORRECTION=isWebKit?0:4.5,ellipsesWidth=0,className="_SmartLabel",className2="_SmartLabelBR",classNameReg=/\b_SmartLabel\b/,classNameBrReg=/\b_SmartLabelBR\b/,spanAdditionRegx=/(<[^<\>]+?\>)|(&(?:[a-z]+|#[0-9]+);|.)/gi,spanAdditionReplacer='$1<span class="'+className+'">$2</span>',spanRemovalRegx=new RegExp("\\<span[^\\>]+?"+className+"[^\\>]{0,}\\>(.*?)\\<\\/span\\>","ig"),xmlTagRegEx=new RegExp("<[^>][^<]*[^>]+>","i"),testStrAvg="WgI",isBrowserLess=!1,minWidth=0,avgCharWidth=0,dotWidth=0,containerIdIncriment=0,spanTagString="span",ChildRetriverFN,ChildRetriverSTRING,noClassTesting;function createContainer(containerParent){var body,container;if(containerParent&&(containerParent.offsetWidth||containerParent.offsetHeight)){if(containerParent.appendChild)return containerParent.appendChild(container=doc.createElement("div")),container.className="fusioncharts-smartlabel-container",container.setAttribute("aria-hidden","true"),container.setAttribute("role","presentation"),container}else if((body=doc.getElementsByTagName("body")[0])&&body.appendChild)return(container=doc.createElement("div")).className="fusioncharts-smartlabel-container",container.setAttribute("aria-hidden","true"),container.setAttribute("role","presentation"),containerIdIncriment+=1,body.appendChild(container),container}function getNearestChar(text,maxWidth,sl){if(!text||!text.length)return 0;var difference,getWidth=sl.getWidthFunction(),charLen=0,increment=0,oriWidth=getWidth(text),avgWidth=oriWidth/text.length;if(difference=maxWidth,charLen=Math.ceil(maxWidth/avgWidth),oriWidth<maxWidth)return text.length-1;for(charLen>text.length&&(difference=maxWidth-oriWidth,charLen=text.length);difference>0;){if(difference=maxWidth-getWidth(text.substr(0,charLen)),!(increment=Math.floor(difference/avgWidth)))return charLen;charLen+=increment}for(;difference<0;){if(difference=maxWidth-getWidth(text.substr(0,charLen)),!(increment=Math.floor(difference/avgWidth)))return charLen;charLen+=increment}return charLen}function setLineHeight(styleObj){var fSize=styleObj.fontSize=styleObj.fontSize||"12px";styleObj.lineHeight=styleObj.lineHeight||styleObj["line-height"]||1.2*parseInt(fSize,10)+"px"}function ContainerManager(parentContainer,maxContainers){if(maxContainers=(maxContainers=maxContainers>5?maxContainers:5)<20?maxContainers:20,this.maxContainers=maxContainers,this.first=null,this.last=null,this.containers={},this.length=0,this.rootNode=parentContainer,isBrowserLess){var svg=doc.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttributeNS("http://www.w3.org/2000/svg","xlink","http://www.w3.org/1999/xlink"),svg.setAttributeNS("http://www.w3.org/2000/svg","height","0"),svg.setAttributeNS("http://www.w3.org/2000/svg","width","0"),this.svgRoot=svg,this.rootNode.appendChild(svg)}}function SmartLabelManager(id,container,useEllipses){if(void 0!==id&&"object"!=typeof id){var wrapper,prop;for(prop in this.id=id,"string"==typeof container&&(container=doc.getElementById(container)),(wrapper=this.parentContainer=createContainer(container)).innerHTML="WgI",(isHeadLess||!wrapper.offsetHeight&&!wrapper.offsetWidth)&&(isBrowserLess=!0),wrapper.innerHTML="",fixedStyle)wrapper.style[prop]=fixedStyle[prop];this.containerManager=new ContainerManager(wrapper,10),this.showNoEllipses=!useEllipses,this.init=!0,this.style={},this.setStyle()}}return doc.getElementsByClassName?(ChildRetriverFN="getElementsByClassName",ChildRetriverSTRING=className,noClassTesting=!0):(ChildRetriverFN="getElementsByTagName",ChildRetriverSTRING="span",noClassTesting=!1),ContainerManager.prototype={get:function(style){var o=this,containers=o.containers,len=o.length,max=o.maxContainers,diff,key,keyStr="",canvasStr="",isCanvas=!1,containerObj;for(key in(canvasStr=o.getCanvasFont(style))&&(isCanvas=!0),supportedStyle)void 0!==style[key]&&(keyStr+=supportedStyle[key]+":"+style[key]+";");if(!keyStr)return!1;if(containers[keyStr])containerObj=containers[keyStr],o.first!==containerObj&&(containerObj.prev&&(containerObj.prev.next=containerObj.next),containerObj.next&&(containerObj.next.prev=containerObj.prev),containerObj.next=o.first,containerObj.next.prev=containerObj,o.last===containerObj&&(o.last=containerObj.prev),containerObj.prev=null,o.first=containerObj);else{if(len>=max)for(diff=len-max+1;diff--;)o.removeContainer(o.last);containerObj=o.addContainer(keyStr,canvasStr)}return containerObj},getCanvasFont:function(style){var key,fontArr=[];if(!hasCanvas||!hasMeasureText)return!1;for(key in supportedCanvasStyle)void 0!==style[key]&&fontArr.push(style[key]);return fontArr.join(" ")},setMax:function(maxContainers){var o=this,len=o.length,diff;if((maxContainers=(maxContainers=maxContainers>5?maxContainers:5)<20?maxContainers:20)<len){for(diff=len-maxContainers;diff--;)o.removeContainer(o.last);o.length=maxContainers}o.maxContainers=maxContainers},addContainer:function(keyStr,canvasStr){var o=this,node,context,container;return o.containers[keyStr]=container={next:null,prev:null,node:null,ellipsesWidth:0,lineHeight:0,dotWidth:0,avgCharWidth:4,keyStr:keyStr,canvasStr:canvasStr,charCache:{}},container.next=o.first,container.next&&(container.next.prev=container),o.first=container,o.last||(o.last=container),o.length+=1,node=container.node=doc.createElement("div"),o.rootNode.appendChild(node),isIE&&!hasSVG?node.style.setAttribute("cssText",keyStr):node.setAttribute("style",keyStr),node.setAttribute("aria-hidden","true"),node.setAttribute("role","presentation"),node.style.display="inline-block",node.innerHTML="WgI",container.lineHeight=node.offsetHeight,container.avgCharWidth=node.offsetWidth/3,isBrowserLess?((node=container.svgText=doc.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("style",keyStr),o.svgRoot.appendChild(node),node.textContent="WgI",container.lineHeight=node.getBBox().height,container.avgCharWidth=(node.getBBox().width-SVG_BBOX_CORRECTION)/3,node.textContent="...",container.ellipsesWidth=node.getBBox().width-SVG_BBOX_CORRECTION,node.textContent=".",container.dotWidth=node.getBBox().width-SVG_BBOX_CORRECTION):canvasStr?((node=container.canvas=doc.createElement("canvas")).style.height=node.style.width="0px",o.rootNode.appendChild(node),container.context=context=node.getContext("2d"),context.font=canvasStr,container.ellipsesWidth=context.measureText("...").width,container.dotWidth=context.measureText(".").width):(node.innerHTML="...",container.ellipsesWidth=node.offsetWidth,node.innerHTML=".",container.dotWidth=node.offsetWidth,node.innerHTML=""),container},removeContainer:function(cObj){var o=this,keyStr=cObj.keyStr;keyStr&&o.length&&cObj&&(o.length-=1,cObj.prev&&(cObj.prev.next=cObj.next),cObj.next&&(cObj.next.prev=cObj.prev),o.first===cObj&&(o.first=cObj.next),o.last===cObj&&(o.last=cObj.prev),cObj.node.parentNode.removeChild(cObj.node),cObj.canvas&&cObj.canvas.parentNode.removeChild(cObj.canvas),delete o.containers[keyStr])},dispose:function(){var o=this,key,containers=o.containers;for(key in o.maxContainers=null,containers)o.removeContainer(containers[key]);o.rootNode.parentNode.removeChild(o.rootNode),o.rootNode=null,o.first=null,o.last=null}},ContainerManager.prototype.constructor=ContainerManager,SmartLabelManager.prototype={dispose:function(){var label=this;this.init&&(this.containerManager.dispose(),delete this.container,delete this.context,delete this.cache,delete this.containerManager,delete this.containerObj,delete this.id,delete this.style,delete this.parentContainer,delete this.showNoEllipses)},useEllipsesOnOverflow:function(useEllipses){this.init&&(this.showNoEllipses=!useEllipses)},getWidthFunction:function(){var sl=this,contObj=sl.containerObj,context=sl.context,container=sl.container,svgText=contObj.svgText;return svgText?function(str){var bbox,width;return svgText.textContent=str,(width=(bbox=svgText.getBBox()).width-SVG_BBOX_CORRECTION)<1&&(width=bbox.width),width}:context?function(str){return context.measureText(str).width}:function(str){return container.innerHTML=str,container.offsetWidth}},getSmartText:function(text,maxWidth,maxHeight,noWrap){if(!this.init)return!1;null==text&&(text="");var sl=this,smartLabel={text:text,maxWidth:maxWidth,maxHeight:maxHeight,width:null,height:null,oriTextWidth:null,oriTextHeight:null,oriText:text,isTruncated:!1},hasHTMLTag=!1,len,trimStr,maxStrWidth=0,tempArr,maxWidthWithEll,toolText,oriWidth,oriHeight,lastDash=-1,lastSpace=-1,lastIndexBroken=-1,newCharIndex,container=sl.container,context=sl.context,strWidth=0,strHeight=0,nearestChar,tempChar,getWidth,initialLeft,initialTop,oriTextArr=[],i=0,ellipsesStr=sl.showNoEllipses?"":"...",lineHeight=sl.lineHeight,spanArr,x,y,elem,chr,elemRightMostPoint,elemLowestPoint,lastBR,removeFromIndex,removeFromIndexForEllipses,characterArr=[],dashIndex=-1,spaceIndex=-1,fastTrim=function(str){for(var ws=/\s/,i=(str=str.replace(/^\s\s*/,"")).length;ws.test(str.charAt(i-=1)););return str.slice(0,i+1)},lastLineBreak=-1;if(getWidth=sl.getWidthFunction(),container){if(!isBrowserLess){if(container.innerHTML=text,smartLabel.oriTextWidth=oriWidth=container.offsetWidth,smartLabel.oriTextHeight=oriHeight=container.offsetHeight,oriHeight<=maxHeight&&oriWidth<=maxWidth)return smartLabel.width=smartLabel.oriTextWidth=oriWidth,smartLabel.height=smartLabel.oriTextHeight=oriHeight,smartLabel;if(lineHeight>maxHeight)return smartLabel.text="",smartLabel.width=smartLabel.oriTextWidth=0,smartLabel.height=smartLabel.oriTextHeight=0,smartLabel}if(text=fastTrim(text).replace(/(\s+)/g," "),hasHTMLTag=xmlTagRegEx.test(text),maxWidthWithEll=this.showNoEllipses?maxWidth:maxWidth-ellipsesWidth,!hasHTMLTag){if(len=(oriTextArr=text.split("")).length,trimStr="",tempArr=[],tempChar=oriTextArr[0],sl.cache[tempChar]?minWidth=sl.cache[tempChar].width:(minWidth=getWidth(tempChar),sl.cache[tempChar]={width:minWidth}),maxWidthWithEll>minWidth)i=(tempArr=text.substr(0,getNearestChar(text,maxWidthWithEll,sl)).split("")).length;else{if(minWidth>maxWidth)return smartLabel.text="",smartLabel.width=smartLabel.oriTextWidth=smartLabel.height=smartLabel.oriTextHeight=0,smartLabel;ellipsesStr&&((maxWidthWithEll=maxWidth-2*dotWidth)>minWidth?ellipsesStr="..":(maxWidthWithEll=maxWidth-dotWidth)>minWidth?ellipsesStr=".":(maxWidthWithEll=0,ellipsesStr=""))}if(strWidth=getWidth(tempArr.join("")),strHeight=sl.lineHeight,noWrap){for(;i<len;i+=1)if(tempChar=tempArr[i]=oriTextArr[i],sl.cache[tempChar]?minWidth=sl.cache[tempChar].width:(minWidth=getWidth(tempChar),sl.cache[tempChar]={width:minWidth}),(strWidth+=minWidth)>maxWidthWithEll&&(trimStr||(trimStr=tempArr.slice(0,-1).join("")),strWidth>maxWidth))return smartLabel.text=fastTrim(trimStr)+ellipsesStr,smartLabel.tooltext=smartLabel.oriText,smartLabel.width=getWidth(smartLabel.text),smartLabel.height=sl.lineHeight,smartLabel;return smartLabel.text=tempArr.join(""),smartLabel.width=strWidth,smartLabel.height=sl.lineHeight,smartLabel}for(;i<len;i+=1)if(" "!==(tempChar=tempArr[i]=oriTextArr[i])||context||(tempChar="&nbsp;"),sl.cache[tempChar]?minWidth=sl.cache[tempChar].width:(minWidth=getWidth(tempChar),sl.cache[tempChar]={width:minWidth}),(strWidth+=minWidth)>maxWidthWithEll&&(trimStr||(trimStr=tempArr.slice(0,-1).join("")),strWidth>maxWidth)){if(lastSpace=text.substr(0,tempArr.length).lastIndexOf(" "),lastDash=text.substr(0,tempArr.length).lastIndexOf("-"),lastSpace>lastIndexBroken?(strWidth=getWidth(tempArr.slice(lastIndexBroken+1,lastSpace).join("")),tempArr.splice(lastSpace,1,"<br/>"),lastIndexBroken=lastSpace,newCharIndex=lastSpace+1):lastDash>lastIndexBroken?(lastDash===tempArr.length-1?(strWidth=getWidth(tempArr.slice(lastIndexBroken+1,lastSpace).join("")),tempArr.splice(lastDash,1,"<br/>-")):(strWidth=getWidth(tempArr.slice(lastIndexBroken+1,lastSpace).join("")),tempArr.splice(lastDash,1,"-<br/>")),lastIndexBroken=lastDash,newCharIndex=lastDash+1):(tempArr.splice(tempArr.length-1,1,"<br/>"+oriTextArr[i]),lastLineBreak=tempArr.length,strWidth=getWidth(tempArr.slice(lastIndexBroken,tempArr.length-1)),lastIndexBroken=lastLineBreak,newCharIndex=i),(strHeight+=sl.lineHeight)>maxHeight)return smartLabel.text=fastTrim(trimStr)+ellipsesStr,smartLabel.tooltext=smartLabel.oriText,smartLabel.width=maxWidth,smartLabel.height=strHeight-sl.lineHeight,smartLabel;maxStrWidth=mathMax(maxStrWidth,strWidth),trimStr=null,nearestChar=getNearestChar(text.substr(newCharIndex),maxWidthWithEll,sl),strWidth=getWidth(text.substr(newCharIndex,nearestChar||1)),tempArr.length<newCharIndex+nearestChar&&(i=(tempArr=tempArr.concat(text.substr(tempArr.length,newCharIndex+nearestChar-tempArr.length).split(""))).length-1)}return maxStrWidth=mathMax(maxStrWidth,strWidth),smartLabel.text=tempArr.join(""),smartLabel.width=maxStrWidth,smartLabel.height=strHeight,smartLabel}for(toolText=text.replace(spanAdditionRegx,"$2"),text=(text=text.replace(spanAdditionRegx,spanAdditionReplacer)).replace(/(<br\s*\/*\>)/g,'<span class="'+[className," ",className2].join("")+'">$1</span>'),container.innerHTML=text,x=0,y=(spanArr=container[ChildRetriverFN](ChildRetriverSTRING)).length;x<y;x+=1)elem=spanArr[x],(noClassTesting||classNameReg.test(elem.className))&&""!==(chr=elem.innerHTML)&&(" "===chr?spaceIndex=characterArr.length:"-"===chr&&(dashIndex=characterArr.length),characterArr.push({spaceIdx:spaceIndex,dashIdx:dashIndex,elem:elem}),oriTextArr.push(chr));if(i=0,len=characterArr.length,(minWidth=characterArr[0].elem.offsetWidth)>maxWidth)return smartLabel.text="",smartLabel.width=smartLabel.oriTextWidth=smartLabel.height=smartLabel.oriTextHeight=0,smartLabel;if(minWidth>maxWidthWithEll&&!this.showNoEllipses&&((maxWidthWithEll=maxWidth-2*dotWidth)>minWidth?ellipsesStr="..":(maxWidthWithEll=maxWidth-dotWidth)>minWidth?ellipsesStr=".":(maxWidthWithEll=0,ellipsesStr="")),initialLeft=characterArr[0].elem.offsetLeft,initialTop=characterArr[0].elem.offsetTop,noWrap)for(;i<len;i+=1)(elemRightMostPoint=(elem=characterArr[i].elem).offsetLeft-initialLeft+elem.offsetWidth)>maxWidthWithEll&&(removeFromIndexForEllipses||(removeFromIndexForEllipses=i),container.offsetWidth>maxWidth&&(removeFromIndex=i,i=len));else for(;i<len;i+=1)elemLowestPoint=(elem=characterArr[i].elem).offsetHeight+(elem.offsetTop-initialTop),lastBR=null,(elemRightMostPoint=elem.offsetLeft-initialLeft+elem.offsetWidth)>maxWidthWithEll?(removeFromIndexForEllipses||(removeFromIndexForEllipses=i),elemRightMostPoint>maxWidth&&(lastSpace=characterArr[i].spaceIdx,lastDash=characterArr[i].dashIdx,lastSpace>lastIndexBroken?(characterArr[lastSpace].elem.innerHTML="<br/>",lastIndexBroken=lastSpace):lastDash>lastIndexBroken?(characterArr[lastDash].elem.innerHTML=lastDash===i?"<br/>-":"-<br/>",lastIndexBroken=lastDash):elem.parentNode.insertBefore(lastBR=doc.createElement("br"),elem),elem.offsetHeight+elem.offsetTop>maxHeight?(lastBR?lastBR.parentNode.removeChild(lastBR):lastIndexBroken===lastDash?characterArr[lastDash].elem.innerHTML="-":characterArr[lastSpace].elem.innerHTML=" ",removeFromIndex=i,i=len):removeFromIndexForEllipses=null)):elemLowestPoint>maxHeight&&(removeFromIndex=i,i=len);if(removeFromIndex<len){for(smartLabel.isTruncated=!0,removeFromIndexForEllipses=removeFromIndexForEllipses||removeFromIndex,i=len-1;i>=removeFromIndexForEllipses;i-=1)(elem=characterArr[i].elem).parentNode.removeChild(elem);for(;i>=0;i-=1)elem=characterArr[i].elem,classNameBrReg.test(elem.className)?elem.parentNode.removeChild(elem):i=0}return smartLabel.text=container.innerHTML.replace(spanRemovalRegx,"$1"),smartLabel.isTruncated&&(smartLabel.text+=ellipsesStr,smartLabel.tooltext=toolText),smartLabel.height=container.offsetHeight,smartLabel.width=container.offsetWidth,smartLabel}return smartLabel.error=new Error("Body Tag Missing!"),smartLabel},setStyle:function(style){if(!this.init)return!1;var sCont;(style!==this.style||this.styleNotSet)&&(style||(style=this.style),setLineHeight(style),this.style=style,this.containerObj=sCont=this.containerManager.get(style),this.containerObj?(this.container=sCont.node,this.context=sCont.context,this.cache=sCont.charCache,this.lineHeight=sCont.lineHeight,ellipsesWidth=sCont.ellipsesWidth,dotWidth=sCont.dotWidth,avgCharWidth=sCont.dotWidth,this.styleNotSet=!1):this.styleNotSet=!0)},getTextSize:function(text,maxWidth,maxHeight){if(!this.init)return!1;var smartLabel={text:text,width:null,height:null,oriTextWidth:null,oriTextHeight:null,isTruncated:!1},container=this.container;return container&&(container.innerHTML=text,smartLabel.oriTextWidth=container.offsetWidth,smartLabel.oriTextHeight=container.offsetHeight,smartLabel.width=Math.min(smartLabel.oriTextWidth,maxWidth),smartLabel.height=Math.min(smartLabel.oriTextHeight,maxHeight),(smartLabel.width<smartLabel.oriTextWidth||smartLabel.height<smartLabel.oriTextHeight)&&(smartLabel.isTruncated=!0)),smartLabel},getOriSize:function(text){if(!this.init)return!1;var sl=this,smartLabel={text:text,width:null,height:null},container=sl.container,getWidth=sl.getWidthFunction(),textLines,maxW=0,i;if(isBrowserLess){for(i=(textLines=text.split(/(<br\s*\/*\>)/g)).length,smartLabel.height=sl.lineHeight*i;i--;)maxW=mathMax(maxW,getWidth(textLines[i]));smartLabel.width=maxW}else container&&(container.innerHTML=text,smartLabel.width=container.offsetWidth,smartLabel.height=container.offsetHeight);return smartLabel}},SmartLabelManager.prototype.constructor=SmartLabelManager,SmartLabelManager}();lib.SmartLabelManager=SmartLabelManager}]),FusionCharts.register("module",["private","modules.renderer.js-numberformatter",function(){var global=this,lib=global.hcLib,pluckNumber=lib.pluckNumber,extend2=lib.extend2,getValidValue=lib.getValidValue,pluck=lib.pluck,getFirstValue=lib.getFirstValue,mathAbs=Math.abs,mathPow=Math.pow,mathRound=Math.round,ONESTRING="1",BLANK="",ZEROSTRING="0",DECIMALSTRING=".",COMMASTRING=",",MINUSSTR="-",regescape=function(text){return text&&text.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},NFStore={},objToHash=function(obj){var hashArr=[],i;for(i in obj)hashArr.push(i+"_"+obj[i]);return hashArr.sort(),hashArr.join(",")},objToLowerCase=function(obj){var clone={},i;for(i in obj)clone[i.toLowerCase()]=obj[i];return clone};lib.NumberFormatter=function(){var TWOSTRING="2",AUTOSTRING="auto",formatNumber,numberFormatDefaults={formatnumber:"1",formatnumberscale:"1",defaultnumberscale:"",numberscaleunit:["K","M"],numberscalevalue:[1e3,1e3],numberprefix:"",numbersuffix:"",decimals:"",forcedecimals:"0",yaxisvaluedecimals:"2",decimalseparator:".",thousandseparator:",",thousandseparatorposition:[3],indecimalseparator:"",inthousandseparator:"",sformatnumber:"1",sformatnumberscale:"0",sdefaultnumberscale:"",snumberscaleunit:["K","M"],snumberscalevalue:[1e3,1e3],snumberprefix:"",snumbersuffix:"",sdecimals:"2",sforcedecimals:"0",syaxisvaluedecimals:"2",xFormatNumber:"0",xFormatNumberScale:"0",xDefaultNumberScale:"",xNumberScaleUnit:["K","M"],xNumberScaleValue:[1e3,1e3],xNumberPrefix:"",xNumberSuffix:""},numberFormatOverrides={mscombidy2d:{formatnumberscale:"1"}},NumberFormatter=function(chartObj,chartAPI,isMultyAxis){var numberscaleunit,snumberscaleunit,xnumberscaleunit,ticknumberscaleunit,ynumberscaleunit,numberscalevalue,xnumberscalevalue,ticknumberscalevalue,ynumberscalevalue,chartName=chartAPI.name,csConf=extend2({},numberFormatDefaults),thousandseparatorposition,snumberscalevalue,paramLabels,paramLabels2,param1,param2,baseConf,length,value,lastValue,scaleRecursively,sScaleRecursively,xScaleRecursively,maxScaleRecursion,sMaxScaleRecursion,xMaxScaleRecursion,scaleSeparator,sScaleSeparator,xScaleSeparator,overrideConf=numberFormatOverrides[chartName];if(overrideConf&&(csConf=extend2(csConf,overrideConf)),this.csConf=csConf,this.chartAPI=chartAPI,getValidValue(chartObj.numberscaleunit)&&(numberscaleunit=chartObj.numberscaleunit.split(",")),(snumberscaleunit=getValidValue(chartObj.snumberscaleunit,chartObj.numberscaleunit))&&(snumberscaleunit=snumberscaleunit.split(",")),(xnumberscaleunit=getValidValue(chartObj.xnumberscaleunit,chartObj.numberscaleunit))&&(xnumberscaleunit=xnumberscaleunit.split(",")),(ticknumberscaleunit=getValidValue(chartObj.ticknumberscaleunit,chartObj.numberscaleunit))&&(ticknumberscaleunit=ticknumberscaleunit.split(",")),(ynumberscaleunit=getValidValue(chartObj.ynumberscaleunit,chartObj.numberscaleunit))&&(ynumberscaleunit=ynumberscaleunit.split(",")),getValidValue(chartObj.numberscalevalue)&&(numberscalevalue=chartObj.numberscalevalue.split(",")),(snumberscalevalue=getValidValue(chartObj.snumberscalevalue,chartObj.numberscalevalue))&&(snumberscalevalue=snumberscalevalue.split(",")),(xnumberscalevalue=getValidValue(chartObj.xnumberscalevalue,chartObj.numberscalevalue))&&(xnumberscalevalue=xnumberscalevalue.split(",")),(ticknumberscalevalue=getValidValue(chartObj.ticknumberscalevalue,chartObj.numberscalevalue))&&(ticknumberscalevalue=ticknumberscalevalue.split(",")),(ynumberscalevalue=getValidValue(chartObj.ynumberscalevalue,chartObj.numberscalevalue))&&(ynumberscalevalue=ynumberscalevalue.split(",")),getValidValue(chartObj.thousandseparatorposition))for(length=(thousandseparatorposition=chartObj.thousandseparatorposition.split(",")).length,lastValue=numberFormatDefaults.thousandseparatorposition[0];length--;)(value=parseInt(thousandseparatorposition[length],10))<=0&&(value=lastValue),lastValue=thousandseparatorposition[length]=value;chartAPI||(chartAPI={}),scaleRecursively=pluckNumber(chartObj.scalerecursively,0),sScaleRecursively=pluckNumber(chartObj.sscalerecursively,scaleRecursively),xScaleRecursively=pluckNumber(chartObj.xscalerecursively,scaleRecursively),maxScaleRecursion=pluckNumber(chartObj.maxscalerecursion,-1),sMaxScaleRecursion=pluckNumber(chartObj.smaxscalerecursion,maxScaleRecursion),xMaxScaleRecursion=pluckNumber(chartObj.xmaxscalerecursion,maxScaleRecursion),scaleSeparator=getValidValue(chartObj.scaleseparator," "),sScaleSeparator=getValidValue(chartObj.sscaleseparator,scaleSeparator),xScaleSeparator=getValidValue(chartObj.xscaleseparator,scaleSeparator),maxScaleRecursion||(maxScaleRecursion=-1),this.baseConf=baseConf={cacheStore:[],formatnumber:pluck(chartObj.formatnumber,chartAPI.formatnumber,csConf.formatnumber),formatnumberscale:pluck(chartObj.formatnumberscale,chartAPI.formatnumberscale,csConf.formatnumberscale),defaultnumberscale:getFirstValue(chartObj.defaultnumberscale,chartAPI.defaultnumberscale,csConf.defaultnumberscale),numberscaleunit:pluck(numberscaleunit,chartAPI.numberscaleunit,csConf.numberscaleunit).concat(),numberscalevalue:pluck(numberscalevalue,chartAPI.numberscalevalue,csConf.numberscalevalue).concat(),numberprefix:getFirstValue(chartObj.numberprefix,chartAPI.numberprefix,csConf.numberprefix),numbersuffix:getFirstValue(chartObj.numbersuffix,chartAPI.numbersuffix,csConf.numbersuffix),decimalprecision:parseInt("auto"===chartObj.decimals?csConf.decimalprecision:pluck(chartObj.decimals,chartObj.decimalprecision,chartAPI.decimals,csConf.decimals,chartAPI.decimalprecision,csConf.decimalprecision),10),forcedecimals:pluck(chartObj.forcedecimals,chartAPI.forcedecimals,csConf.forcedecimals),decimalseparator:pluck(chartObj.decimalseparator,chartAPI.decimalseparator,csConf.decimalseparator),thousandseparator:pluck(chartObj.thousandseparator,chartAPI.thousandseparator,csConf.thousandseparator),thousandseparatorposition:pluck(thousandseparatorposition,chartAPI.thousandseparatorposition,csConf.thousandseparatorposition),indecimalseparator:getFirstValue(chartObj.indecimalseparator,chartAPI.indecimalseparator,csConf.indecimalseparator),inthousandseparator:getFirstValue(chartObj.inthousandseparator,chartAPI.inthousandseparator,csConf.inthousandseparator),scalerecursively:scaleRecursively,maxscalerecursion:maxScaleRecursion,scaleseparator:scaleSeparator},getValidValue(baseConf.inthousandseparator)&&(this.baseConf._REGinthousandseparator=new RegExp(regescape(baseConf.inthousandseparator),"g")),getValidValue(baseConf.indecimalseparator)&&(this.baseConf._REGindecimalseparator=new RegExp(regescape(baseConf.indecimalseparator))),this.Y=[],isMultyAxis||(paramLabels={cacheStore:[],formatnumber:baseConf.formatnumber,formatnumberscale:baseConf.formatnumberscale,defaultnumberscale:baseConf.defaultnumberscale,numberscaleunit:baseConf.numberscaleunit.concat(),numberscalevalue:baseConf.numberscalevalue.concat(),numberprefix:baseConf.numberprefix,numbersuffix:baseConf.numbersuffix,decimalprecision:baseConf.decimalprecision,forcedecimals:baseConf.forcedecimals,decimalseparator:baseConf.decimalseparator,thousandseparator:baseConf.thousandseparator,thousandseparatorposition:baseConf.thousandseparatorposition,indecimalseparator:baseConf.indecimalseparator,inthousandseparator:baseConf.inthousandseparator,scalerecursively:scaleRecursively,maxscalerecursion:maxScaleRecursion,scaleseparator:scaleSeparator},chartAPI.useScaleRecursively&&(paramLabels.numberscalevalue&&paramLabels.numberscalevalue.length)==(paramLabels.numberscaleunit&&paramLabels.numberscaleunit.length)||(paramLabels.scalerecursively=scaleRecursively=0),param1={cacheStore:[],formatnumber:paramLabels.formatnumber,formatnumberscale:paramLabels.formatnumberscale,defaultnumberscale:paramLabels.defaultnumberscale,numberscaleunit:paramLabels.numberscaleunit.concat(),numberscalevalue:paramLabels.numberscalevalue.concat(),numberprefix:paramLabels.numberprefix,numbersuffix:paramLabels.numbersuffix,decimalprecision:parseInt(pluck(chartObj.yaxisvaluedecimals,paramLabels.decimalprecision,2),10),forcedecimals:pluck(chartObj.forceyaxisvaluedecimals,paramLabels.forcedecimals),decimalseparator:paramLabels.decimalseparator,thousandseparator:paramLabels.thousandseparator,thousandseparatorposition:paramLabels.thousandseparatorposition.concat(),indecimalseparator:paramLabels.indecimalseparator,inthousandseparator:paramLabels.inthousandseparator,scalerecursively:scaleRecursively,maxscalerecursion:maxScaleRecursion,scaleseparator:scaleSeparator},param2={cacheStore:[],formatnumber:pluck(chartObj.sformatnumber,chartAPI.sformatnumber,numberFormatDefaults.sformatnumber),formatnumberscale:pluck(chartObj.sformatnumberscale,chartAPI.sformatnumberscale,numberFormatDefaults.sformatnumberscale),defaultnumberscale:getFirstValue(chartObj.sdefaultnumberscale,chartAPI.sdefaultnumberscale,paramLabels.defaultnumberscale),numberscaleunit:pluck(snumberscaleunit,chartAPI.snumberscaleunit,numberFormatDefaults.snumberscaleunit).concat(),numberscalevalue:pluck(snumberscalevalue,chartAPI.snumberscalevalue,numberFormatDefaults.snumberscalevalue).concat(),numberprefix:getFirstValue(chartObj.snumberprefix,chartAPI.snumberprefix,numberFormatDefaults.snumberprefix),numbersuffix:getFirstValue(chartObj.snumbersuffix,chartAPI.snumbersuffix,numberFormatDefaults.snumbersuffix),decimalprecision:parseInt(pluck(chartObj.syaxisvaluedecimals,chartObj.sdecimals,chartObj.decimals,chartAPI.sdecimals,numberFormatDefaults.sdecimals),10),forcedecimals:pluck(chartObj.forcesyaxisvaluedecimals,chartObj.sforcedecimals,chartObj.forcedecimals,chartAPI.sforcedecimals,numberFormatDefaults.sforcedecimals),decimalseparator:pluck(chartObj.decimalseparator,chartAPI.decimalseparator,numberFormatDefaults.decimalseparator),thousandseparator:pluck(chartObj.thousandseparator,chartAPI.thousandseparator,numberFormatDefaults.thousandseparator),thousandseparatorposition:paramLabels.thousandseparatorposition.concat(),indecimalseparator:pluck(chartObj.indecimalseparator,chartAPI.indecimalseparator,numberFormatDefaults.indecimalseparator),inthousandseparator:pluck(chartObj.inthousandseparator,chartAPI.inthousandseparator,numberFormatDefaults.inthousandseparator),scalerecursively:sScaleRecursively,maxscalerecursion:sMaxScaleRecursion,scaleseparator:sScaleSeparator},(paramLabels2=extend2({},param2)).decimalprecision=parseInt(pluck(chartObj.sdecimals,chartObj.decimals,chartObj.syaxisvaluedecimals,chartAPI.sdecimals,numberFormatDefaults.sdecimals),10),paramLabels2.forcedecimals=pluck(chartObj.sforcedecimals,chartObj.forcedecimals,chartObj.forcesyaxisvaluedecimals,chartAPI.sforcedecimals,numberFormatDefaults.sforcedecimals),paramLabels2.cacheStore=[],chartAPI.useScaleRecursively&&(param2.numberscalevalue&&param2.numberscalevalue.length)==(param2.numberscaleunit&&param2.numberscaleunit.length)||(param2.scalerecursively=sScaleRecursively=0),/^(bubble|scatter|selectscatter)$/.test(chartName)&&(param1.formatnumber=pluck(chartObj.yformatnumber,param1.formatnumber),param1.formatnumberscale=pluck(chartObj.yformatnumberscale,param1.formatnumberscale),param1.defaultnumberscale=getFirstValue(chartObj.ydefaultnumberscale,param1.defaultnumberscale),param1.numberscaleunit=pluck(ynumberscaleunit,param1.numberscaleunit),param1.numberscalevalue=pluck(ynumberscalevalue,param1.numberscalevalue),param1.numberprefix=pluck(chartObj.ynumberprefix,param1.numberprefix),param1.numbersuffix=pluck(chartObj.ynumbersuffix,param1.numbersuffix),paramLabels.formatnumber=pluck(chartObj.yformatnumber,paramLabels.formatnumber),paramLabels.formatnumberscale=pluck(chartObj.yformatnumberscale,paramLabels.formatnumberscale),paramLabels.defaultnumberscale=getFirstValue(chartObj.ydefaultnumberscale,paramLabels.defaultnumberscale),paramLabels.numberscaleunit=pluck(chartObj.ynumberscaleunit,paramLabels.numberscaleunit.concat()),paramLabels.numberscalevalue=pluck(chartObj.ynumberscalevalue,paramLabels.numberscalevalue.concat()),paramLabels.numberprefix=pluck(chartObj.ynumberprefix,paramLabels.numberprefix),paramLabels.numbersuffix=pluck(chartObj.ynumbersuffix,paramLabels.numbersuffix)),/^(mscombidy2d|mscombidy3d)$/.test(chartName)&&(param2.formatnumberscale=pluckNumber(chartObj.sformatnumberscale,"1")),/^(pie2d|pie3d|doughnut2d|doughnut3d|marimekko|pareto2d|pareto3d)$/.test(chartName)&&(paramLabels.decimalprecision=pluck(chartObj.decimals,"2")),scaleRecursively&&(paramLabels.numberscalevalue.push(1),paramLabels.numberscaleunit.unshift(paramLabels.defaultnumberscale),param1.numberscalevalue.push(1),param1.numberscaleunit.unshift(param1.defaultnumberscale)),sScaleRecursively&&(param2.numberscalevalue.push(1),param2.numberscaleunit.unshift(param2.defaultnumberscale),paramLabels2.numberscalevalue.push(1),paramLabels2.numberscaleunit.unshift(paramLabels2.defaultnumberscale)),this.Y[0]={yAxisLabelConf:param1,dataLabelConf:paramLabels},this.Y[1]={yAxisLabelConf:param2,dataLabelConf:paramLabels2},this.paramLabels=paramLabels,this.param1=param1,this.param2=param2,this.paramLabels2=paramLabels2),this.paramX={cacheStore:[],formatnumber:pluck(chartObj.xformatnumber,baseConf.formatnumber),formatnumberscale:pluck(chartObj.xformatnumberscale,baseConf.formatnumberscale),defaultnumberscale:getFirstValue(chartObj.xdefaultnumberscale,baseConf.defaultnumberscale),numberscaleunit:pluck(xnumberscaleunit,baseConf.numberscaleunit.concat()),numberscalevalue:pluck(xnumberscalevalue,baseConf.numberscalevalue.concat()),numberprefix:pluck(chartObj.xnumberprefix,baseConf.numberprefix),numbersuffix:pluck(chartObj.xnumbersuffix,baseConf.numbersuffix),decimalprecision:parseInt(pluck(chartObj.xaxisvaluedecimals,chartObj.xaxisvaluesdecimals,baseConf.decimalprecision,2),10),forcedecimals:pluck(chartObj.forcexaxisvaluedecimals,0),decimalseparator:baseConf.decimalseparator,thousandseparator:baseConf.thousandseparator,thousandseparatorposition:baseConf.thousandseparatorposition.concat(),indecimalseparator:baseConf.indecimalseparator,inthousandseparator:baseConf.inthousandseparator,scalerecursively:xScaleRecursively,maxscalerecursion:xMaxScaleRecursion,scaleseparator:xScaleSeparator},this.paramLegend=extend2(extend2({},baseConf),{cacheStore:[],decimalprecision:parseInt(pluckNumber(chartObj.legendvaluedecimals,baseConf.decimalprecision,2),10),forcedecimals:pluckNumber(chartObj.legendvalueforcedecimals,baseConf.forcedecimals,0),formatnumberscale:pluck(chartObj.legendvalueformatnumberscale,baseConf.formatnumberscale),formatnumber:pluck(chartObj.legendvalueformatnumber,baseConf.formatnumber)}),chartAPI.useScaleRecursively&&(this.paramX.numberscalevalue&&this.paramX.numberscalevalue.length)==(this.paramX.numberscaleunit&&this.paramX.numberscaleunit.length)||(this.paramX.scalerecursively=xScaleRecursively=0),xScaleRecursively&&(this.paramX.numberscalevalue.push(1),this.paramX.numberscaleunit.unshift(this.paramX.defaultnumberscale)),this.paramScale={cacheStore:[],formatnumber:pluck(chartObj.tickformatnumber,baseConf.formatnumber),formatnumberscale:pluck(chartObj.tickformatnumberscale,baseConf.formatnumberscale),defaultnumberscale:getFirstValue(chartObj.tickdefaultnumberscale,baseConf.defaultnumberscale),numberscaleunit:pluck(ticknumberscaleunit,baseConf.numberscaleunit.concat()),numberscalevalue:pluck(ticknumberscalevalue,baseConf.numberscalevalue.concat()),numberprefix:pluck(chartObj.ticknumberprefix,baseConf.numberprefix),numbersuffix:pluck(chartObj.ticknumbersuffix,baseConf.numbersuffix),decimalprecision:parseInt(pluck(chartObj.tickvaluedecimals,baseConf.decimalprecision,"2"),10),forcedecimals:pluck(chartObj.forcetickvaluedecimals,baseConf.forcedecimals,0),decimalseparator:baseConf.decimalseparator,thousandseparator:baseConf.thousandseparator,thousandseparatorposition:baseConf.thousandseparatorposition.concat(),indecimalseparator:baseConf.indecimalseparator,inthousandseparator:baseConf.inthousandseparator,scalerecursively:scaleRecursively,maxscalerecursion:maxScaleRecursion,scaleseparator:scaleSeparator},scaleRecursively&&(this.paramScale.numberscalevalue.push(1),this.paramScale.numberscaleunit.unshift(this.paramScale.defaultnumberscale)),this.timeConf={inputDateFormat:pluck(chartObj.inputdateformat,chartObj.dateformat,"mm/dd/yyyy"),outputDateFormat:pluck(chartObj.outputdateformat,chartObj.inputdateformat,chartObj.dateformat,"mm/dd/yyyy"),days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],daySuffix:["","st","nd","rd","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","st","nd","rd","th","th","th","th","th","th","th","st"]},this.cleaneValueCacheStore={},this.percentStrCacheStore={}};function formatNumberScale(intNum,defaultNumberScale,numScaleValues,numScaleUnits,scaleRecursively){var objRtn={},strScale=defaultNumberScale,i=0,numScaleValue,THOUSAND=1e3,arrValues=[],arrScales=[],carry;if(scaleRecursively){for(i=0;i<numScaleValues.length;i++){if(numScaleValue=pluckNumber(numScaleValues[i])||1e3,!(Math.abs(Number(intNum))>=numScaleValue&&i<numScaleValues.length-1)){arrValues.push(intNum),arrScales.push(numScaleUnits[i]);break}intNum=(intNum-(carry=intNum%numScaleValue))/numScaleValue,0!==carry&&(arrValues.push(carry),arrScales.push(numScaleUnits[i]))}arrValues.reverse(),arrScales.reverse(),objRtn.value=arrValues,objRtn.scale=arrScales}else{if(numScaleValues.length===numScaleUnits.length)for(i=0;i<numScaleValues.length&&((numScaleValue=pluckNumber(numScaleValues[i])||1e3)&&Math.abs(Number(intNum))>=numScaleValue);i++)strScale=numScaleUnits[i]||"",intNum=Number(intNum)/numScaleValue;objRtn.value=intNum,objRtn.scale=strScale}return objRtn}function formatDecimals(intNum,decimalPrecision,forceDecimals){var tenToPower,strRounded,parts,paddingNeeded,i;if(decimalPrecision<=0)return mathRound(intNum)+"";if(isNaN(decimalPrecision))return(intNum+="").length>12&&-1!=intNum.indexOf(".")&&(decimalPrecision=12-intNum.split(".")[0].length,tenToPower=mathPow(10,decimalPrecision),intNum=strRounded=mathRound(intNum*tenToPower)/tenToPower+""),intNum;if(tenToPower=mathPow(10,decimalPrecision),strRounded=mathRound(intNum*tenToPower)/tenToPower+"",1==forceDecimals)for(-1==strRounded.indexOf(".")&&(strRounded+=".0"),paddingNeeded=decimalPrecision-(parts=strRounded.split("."))[1].length,i=1;i<=paddingNeeded;i++)strRounded+="0";return strRounded}function formatCommas(strNum,decimalseparator,thousandseparator,thSepPos){var intNum=Number(strNum),strDecimalPart="",boolIsNegative=!1,strNumberFloor="",formattedNumber="",startPos=0,endPos=0,strNumberLen,sepPosLen,sepDigit;if(isNaN(intNum))return"";if(startPos=0,endPos=strNum.length,-1!=strNum.indexOf(".")&&(strDecimalPart=strNum.substring(strNum.indexOf(".")+1,strNum.length),endPos=strNum.indexOf(".")),intNum<0&&(boolIsNegative=!0,startPos=1),(strNumberLen=(strNumberFloor=strNum.substring(startPos,endPos)).length)<(sepDigit=thSepPos[sepPosLen=thSepPos.length-1]))formattedNumber=strNumberFloor;else for(;strNumberLen>=sepDigit;)formattedNumber=(strNumberLen-sepDigit?thousandseparator:"")+strNumberFloor.substr(strNumberLen-sepDigit,sepDigit)+formattedNumber,(strNumberLen-=sepDigit)<(sepDigit=(sepPosLen-=1)<=0?thSepPos[0]:thSepPos[sepPosLen])&&(formattedNumber=strNumberFloor.substring(strNumberLen,0)+formattedNumber);return""!=strDecimalPart&&(formattedNumber=formattedNumber+decimalseparator+strDecimalPart),!0===boolIsNegative&&(formattedNumber="-"+formattedNumber),formattedNumber}function convertNumberSeps(num,conf){return num+="",conf._REGinthousandseparator&&(num=num.replace(conf._REGinthousandseparator,"")),conf._REGindecimalseparator&&(num=num.replace(conf._REGindecimalseparator,".")),num=parseFloat(num),isFinite(num)?num:NaN}return(NumberFormatter.prototype={cleaneValueCacheStore:{},percentStrCacheStore:{},dispose:function(){var Numberformatter=this;this.Y&&delete this.Y,this.cleaneValueCacheStore&&delete this.cleaneValueCacheStore,this.percentStrCacheStore&&delete this.percentStrCacheStore,this.paramLabels&&delete this.paramLabels,this.param1&&delete this.param1,this.param2&&delete this.param2,this.paramLabels2&&delete this.paramLabels2,this.csConf&&delete this.csConf,this.chartAPI&&delete this.chartAPI,this.baseConf&&delete this.baseConf,this.timeConf&&delete this.timeConf,this.paramX&&delete this.paramX,this.paramScale&&delete this.paramScale},parseMLAxisConf:function(axisObj,index){var baseConf=this.baseConf,csConf=this.csConf,chartAPI=this.chartAPI,scaleRecursively=pluckNumber(axisObj.scalerecursively,baseConf.scalerecursively),maxScaleRecursion=pluckNumber(axisObj.maxscalerecursion,baseConf.maxscalerecursion),scaleSeparator=getValidValue(axisObj.scaleseparator,baseConf.scaleseparator),paramLabels,numberscaleunit,numberscalevalue,param,thousandseparatorposition,length,value,lastValue;if(index=pluckNumber(index,this.Y.length),getValidValue(axisObj.numberscaleunit)&&(numberscaleunit=axisObj.numberscaleunit.split(",")),getValidValue(axisObj.numberscalevalue)&&(numberscalevalue=axisObj.numberscalevalue.split(",")),maxScaleRecursion||(maxScaleRecursion=-1),getValidValue(axisObj.thousandseparatorposition))for(length=(thousandseparatorposition=axisObj.thousandseparatorposition.split(",")).length,lastValue=numberFormatDefaults.thousandseparatorposition[0];length--;)(value=pluckNumber(mathAbs(thousandseparatorposition[length])))?lastValue=value:value=lastValue,thousandseparatorposition[length]=value;paramLabels={cacheStore:[],formatnumber:pluck(axisObj.formatnumber,baseConf.formatnumber),formatnumberscale:pluck(axisObj.formatnumberscale,baseConf.formatnumberscale),defaultnumberscale:getFirstValue(axisObj.defaultnumberscale,baseConf.defaultnumberscale),numberscaleunit:pluck(numberscaleunit,baseConf.numberscaleunit).concat(),numberscalevalue:pluck(numberscalevalue,baseConf.numberscalevalue).concat(),numberprefix:getFirstValue(axisObj.numberprefix,baseConf.numberprefix),numbersuffix:getFirstValue(axisObj.numbersuffix,baseConf.numbersuffix),forcedecimals:pluck(axisObj.forcedecimals,baseConf.forcedecimals),decimalprecision:parseInt("auto"===axisObj.decimals?csConf.decimalprecision:pluck(axisObj.decimals,baseConf.decimalprecision),10),decimalseparator:pluck(axisObj.decimalseparator,baseConf.decimalseparator),thousandseparator:pluck(axisObj.thousandseparator,baseConf.thousandseparator),thousandseparatorposition:pluck(thousandseparatorposition,baseConf.thousandseparatorposition),indecimalseparator:getFirstValue(axisObj.indecimalseparator,baseConf.indecimalseparator),inthousandseparator:getFirstValue(axisObj.inthousandseparator,baseConf.inthousandseparator),scalerecursively:scaleRecursively,maxscalerecursion:maxScaleRecursion,scaleseparator:scaleSeparator},chartAPI.useScaleRecursively&&(paramLabels.numberscalevalue&&paramLabels.numberscalevalue.length)==(paramLabels.numberscaleunit&&paramLabels.numberscaleunit.length)||(paramLabels.scalerecursively=scaleRecursively=0),param={cacheStore:[],formatnumber:paramLabels.formatnumber,formatnumberscale:paramLabels.formatnumberscale,defaultnumberscale:paramLabels.defaultnumberscale,numberscaleunit:paramLabels.numberscaleunit.concat(),numberscalevalue:paramLabels.numberscalevalue.concat(),numberprefix:paramLabels.numberprefix,numbersuffix:paramLabels.numbersuffix,decimalprecision:parseInt(pluck(axisObj.yaxisvaluedecimals,paramLabels.decimalprecision,2),10),forcedecimals:pluck(axisObj.forceyaxisvaluedecimals,paramLabels.forcedecimals),decimalseparator:paramLabels.decimalseparator,thousandseparator:paramLabels.thousandseparator,thousandseparatorposition:paramLabels.thousandseparatorposition.concat(),indecimalseparator:paramLabels.indecimalseparator,inthousandseparator:paramLabels.inthousandseparator,scalerecursively:scaleRecursively,maxscalerecursion:maxScaleRecursion,scaleseparator:scaleSeparator},scaleRecursively&&(paramLabels.numberscalevalue.push(1),paramLabels.numberscaleunit.unshift(paramLabels.defaultnumberscale),param.numberscalevalue.push(1),param.numberscaleunit.unshift(param.defaultnumberscale)),this.Y[index]={dataLabelConf:paramLabels,yAxisLabelConf:param}},percentValue:function(num){var rtn=this.percentStrCacheStore[num],precision;return void 0===rtn&&(precision=isNaN(this.paramLabels.decimalprecision)?"2":this.paramLabels.decimalprecision,rtn=this.percentStrCacheStore[num]=formatCommas(formatDecimals(num,precision,this.paramLabels.forcedecimals),this.paramLabels.decimalseparator,this.paramLabels.thousandseparator,this.paramLabels.thousandseparatorposition)+"%"),rtn},getCleanValue:function(numStr,abs){var rtn=this.cleaneValueCacheStore[numStr],num;return void 0===rtn&&(num=convertNumberSeps(numStr,this.baseConf),this.cleaneValueCacheStore[numStr]=rtn=isNaN(num)?null:abs?mathAbs(num):num),rtn},dataLabels:function(num,axisIndex){var formatterConf=this.Y[axisIndex]||(axisIndex?this.Y[1]:this.Y[0]),rtn;return void 0===(rtn=(formatterConf=formatterConf&&formatterConf.dataLabelConf||this.baseConf).cacheStore[num])&&(rtn=formatterConf.cacheStore[num]=formatNumber(num,formatterConf)),rtn},yAxis:function(num,axisIndex){var formatterConf=this.Y[axisIndex]||(axisIndex?this.Y[1]:this.Y[0]),rtn;return void 0===(rtn=(formatterConf=formatterConf&&formatterConf.yAxisLabelConf||this.baseConf).cacheStore[num])&&(rtn=formatterConf.cacheStore[num]=formatNumber(num,formatterConf)),rtn},xAxis:function(num){var rtn=this.paramX.cacheStore[num];return void 0===rtn&&(rtn=this.paramX.cacheStore[num]=formatNumber(num,this.paramX)),rtn},sYAxis:function(num){var formatterConf=this.Y[1],rtn;return void 0===(rtn=(formatterConf=formatterConf&&formatterConf.yAxisLabelConf||this.baseConf).cacheStore[num])&&(rtn=formatterConf.cacheStore[num]=formatNumber(num,formatterConf)),rtn},scale:function(num){var rtn=this.paramScale.cacheStore[num];return void 0===rtn&&(rtn=this.paramScale.cacheStore[num]=formatNumber(num,this.paramScale)),rtn},getCleanTime:function(date){var dateObj;return this.timeConf.inputDateFormat&&Date.parseExact&&(dateObj=Date.parseExact(date,this.timeConf.inputDateFormat)),dateObj&&dateObj.getTime()},legendValue:function(num){var rtn=this.paramLegend.cacheStore[num];return void 0===rtn&&(rtn=this.paramLegend.cacheStore[num]=formatNumber(num,this.paramLegend)),rtn},legendPercentValue:function(num){var rtn=this.percentStrCacheStore[num],paramLegend=this.paramLegend,precision;return void 0===rtn&&(precision=isNaN(paramLegend.decimalprecision)?"2":paramLegend.decimalprecision,rtn=this.percentStrCacheStore[num]=formatCommas(formatDecimals(num,precision,paramLegend.forcedecimals),paramLegend.decimalseparator,paramLegend.thousandseparator,paramLegend.thousandseparatorposition)+"%"),rtn},getDateValue:function(date){var dataObj,hour,min,sec,ms;return date=/^dd/.test(this.timeConf.inputDateFormat)&&date&&date.replace(/(\d{1,2})\/(\d{1,2})\/(\d{2,4})/,"$2/$1/$3")||date,!(ms=(dataObj=new Date(date)).getTime())&&date&&/\:/.test(date)&&(date=date.split(":"),hour=pluckNumber(date[0],0),min=pluckNumber(date[1],0),sec=pluckNumber(date[2],0),hour=hour>23?24===hour&&0===min&&0===sec?hour:23:hour,min=min>59?59:min,sec=sec>59?59:sec,(dataObj=new Date).setHours(hour),dataObj.setMinutes(min),dataObj.setSeconds(sec),ms=dataObj.getTime()),{ms:ms,date:dataObj}},getFormattedDate:function(date,format){var D="object"==typeof date&&date||new Date(date),timeConf=this.timeConf,output=pluck(format,timeConf.outputDateFormat),year=D.getFullYear(),month=D.getMonth(),day=D.getDate(),nday=D.getDay(),min=D.getMinutes(),sec=D.getSeconds(),hours=D.getHours();return min=min>9?""+min:"0"+min,sec=sec>9?""+sec:"0"+sec,hours=hours>9?""+hours:"0"+hours,output.match(/dnl/)&&(output=output.replace(/dnl/gi,timeConf.days[nday])),output.match(/dns/)&&(output=output.replace(/dns/gi,timeConf.days[nday]&&timeConf.days[nday].substr(0,3))),output.match(/dd/)&&(output=output.replace(/dd/gi,day)),output.match(/mnl/)&&(output=output.replace(/mnl/gi,timeConf.months[month])),output.match(/mns/)&&(output=output.replace(/mns/gi,timeConf.months[month]&&timeConf.months[month].substr(0,3))),output.match(/mm/)&&(output=output.replace(/mm/gi,month+1)),output.match(/yyyy/)&&(output=output.replace(/yyyy/gi,year)),output.match(/yy/)&&(output=output.replace(/yy/gi,(year%1e3%100+"").replace(/^(\d)$/,"0$1"))),output.match(/hh12/)&&(output=output.replace(/hh12/gi,hours%12||12)),output.match(/hh/)&&(output=output.replace(/hh/gi,hours)),output.match(/mn/)&&(output=output.replace(/mn/gi,min)),output.match(/ss/)&&(output=output.replace(/ss/gi,sec)),output.match(/ampm/)&&(output=output.replace(/ampm/gi,hours<12?"AM":"PM")),output.match(/ds/)&&(output=output.replace(/ds/gi,timeConf.daySuffix[day])),output}}).constructor=NumberFormatter,formatNumber=function(num,attributes){if(null!==num){var strNum=(num=Number(num))+"",strScale,numList,scaleList,upperIndex,tempNum,tempStr,i,valueArr,decimalPlaceLen,objNum;if(strScale=1==attributes.formatnumberscale?attributes.defaultnumberscale:"",decimalPlaceLen=(valueArr=strNum.split(".")[1])?valueArr.length:attributes.forcedecimals?"2":"",1==attributes.formatnumberscale&&(strNum=(objNum=formatNumberScale(num,attributes.defaultnumberscale,attributes.numberscalevalue,attributes.numberscaleunit,attributes.scalerecursively)).value,num=objNum.value,strScale=objNum.scale),attributes.scalerecursively&&0!==attributes.formatnumberscale&&"0"!==attributes.formatnumberscale){if(numList=objNum.value,scaleList=objNum.scale,upperIndex=-1==attributes.maxscalerecursion?numList.length:Math.min(numList.length,attributes.maxscalerecursion),1==attributes.formatnumber)for(strNum="",i=0;i<upperIndex;i++)tempStr=(tempNum=0===i?numList[i]:Math.abs(numList[i]))+"",i==upperIndex-1&&(tempStr=formatDecimals(tempNum,pluck(attributes.decimalprecision,decimalPlaceLen),attributes.forcedecimals)),strNum=strNum+formatCommas(tempStr,attributes.decimalseparator,attributes.thousandseparator,attributes.thousandseparatorposition)+scaleList[i]+(i<upperIndex-1?attributes.scaleseparator:"");else for(strNum="",i=0;i<upperIndex;i++)strNum=strNum+(0===i?numList[i]:Math.abs(numList[i])+"")+scaleList[i]+(i<upperIndex-1?attributes.scaleseparator:"");strNum=(attributes.numberprefix||"")+strNum+(attributes.numbersuffix||"")}else 1==attributes.formatnumber&&(strNum=formatCommas(strNum=formatDecimals(num,pluck(attributes.decimalprecision,decimalPlaceLen),attributes.forcedecimals),attributes.decimalseparator,attributes.thousandseparator,attributes.thousandseparatorposition)),strNum=(attributes.numberprefix||"")+strNum+strScale+(attributes.numbersuffix||"");return strNum}},NumberFormatter}(),global.extend(global.core,{formatNumber:function(num,config){config=config&&objToLowerCase(config)||{};var hashKey=objToHash(config),NF,formatedStr;return NFStore[hashKey]?NF=NFStore[hashKey]:NFStore[hashKey]=NF=new lib.NumberFormatter(config,{useScaleRecursively:!0}),formatedStr=NF.dataLabels(num)}},!1),global.extend(global.core,{formatNumber:function(num,type,config,yAxisIndex){config=config&&objToLowerCase(config)||{};var chartObj=this,jsVars,chartInstance=this.jsVars.instanceAPI||{},numberFormatter=chartInstance.numberFormatter,dataComp,dataObj,dataChartTagJSON,configHashKey,hashKey,NF,formatedStr;switch(""===objToHash(config)?numberFormatter?NF=numberFormatter:(dataChartTagJSON=(dataObj=(dataComp=this.getChartData(global.dataFormats.JSON,!0)).data||{}).chart||{},hashKey=objToHash(dataChartTagJSON),NFStore[hashKey]?NF=NFStore[hashKey]:NFStore[hashKey]=NF=new lib.NumberFormatter(dataChartTagJSON,chartInstance)):(dataChartTagJSON=(dataObj=(dataComp=this.getChartData(global.dataFormats.JSON,!0)).data||{}).chart||{},dataChartTagJSON=extend2(extend2({},dataChartTagJSON),config),hashKey=objToHash(dataChartTagJSON),NFStore[hashKey]?NF=NFStore[hashKey]:NFStore[hashKey]=NF=new lib.NumberFormatter(dataChartTagJSON,chartInstance)),(type&&type.toLowerCase?type:"").toLowerCase()){case"yaxisvalues":formatedStr=NF.yAxis(num,yAxisIndex);break;case"xaxisvalues":formatedStr=NF.xAxis(num);break;case"scale":formatedStr=NF.scale(num);break;default:formatedStr=NF.dataLabels(num,yAxisIndex)}return formatedStr}},!0)}]),FusionCharts.register("module",["private","modules.renderer.js-dom",function(){var global=this,lib=this.hcLib,SPACE=" ",win=this.window,doc=win.document,extend2=lib.extend2,hasTouch="ontouchstart"in win;!function(parent){var BE_click="click",BE_touchstart="touchstart",BE_touchend="touchend",BE_touchmove="touchmove",BE_mousedown,BE_mouseup,BE_mousemove,BE_mouseout="mouseout",BE_mouseover="mouseover",BE_keydown="keydown",gestures=((retObj={}).pointerdrag={start:["mousedown"],end:["mouseup"],onStart:["mousemove"],postHandlers:{},preHandlers:{}},retObj.pointerhover={start:[BE_mouseover],end:[BE_mouseout]},retObj.click={start:[BE_click]},retObj.escape={start:[BE_keydown],preHandlers:{start:function(event){return!(!(event=event||win.event).keyCode||27!==event.keyCode)}}},hasTouch&&((gesture=retObj.pointerdrag).start.push(BE_touchstart),gesture.end.push(BE_touchend),gesture.onStart.push(BE_touchmove),gesture.postHandlers.onStart=function(event){event.preventDefault?event.preventDefault():event.returnValue=!1},(gesture=retObj.click).start.push(BE_touchstart)),retObj),gDefs,retObj,gesture;function defineGestures(){var gestureMap;return extend2({},gestures)}function DOMEventFx(){var eventHandlerMap={},gestureHandlerMap={},addHandler=doc.addEventListener?function(elem,event,handlerFn){elem.addEventListener(event,handlerFn,!1)}:function(elem,event,handlerFn){elem.attachEvent("on"+event,handlerFn)},removeHandler=doc.removeEventListener?function(elem,event,handlerFn){elem.removeEventListener(event,handlerFn)}:function(elem,event,handlerFn){elem.detachEvent("on"+event,handlerFn)},addGestureHandler=function(elem,gesture,handlerObj){var unlisteners=[],eventArr,each,i,def;if(def=gDefs[gesture],handlerObj.start=function(event){event=event||win.event;for(var onStartArr=def.onStart,endArr=def.end,startUn=[],endUn=[],i=onStartArr&&onStartArr.length||0;i--;)startUn.push(addEventHandler(elem,onStartArr[i],handlerObj,"onStart"));for(i=endArr&&endArr.length||0;i--;)endUn.push(addEventHandler(elem,endArr[i],handlerObj,"end"));handlerObj.startUn=handlerObj.startUn?handlerObj.startUn.concat(startUn):startUn,handlerObj.endUn=handlerObj.endUn?handlerObj.endUn.concat(endUn):endUn,handlerObj.state="start",handlerObj.closure(event)},handlerObj.onStart=function(event){event=event||win.event,handlerObj.state="on",handlerObj.gDef&&handlerObj.gDef.preHandlers&&"function"==typeof handlerObj.gDef.preHandlers.onStart&&handlerObj.gDef.preHandlers.onStart(event),handlerObj.closure(event),handlerObj.gDef&&handlerObj.gDef.postHandlers&&"function"==typeof handlerObj.gDef.postHandlers.onStart&&handlerObj.gDef.postHandlers.onStart(event)},handlerObj.end=function(event){event=event||win.event;for(var startUn=handlerObj.startUn,endUn=handlerObj.endUn,i=startUn&&startUn.length||0;i--;)startUn[i]();for(delete handlerObj.startUn,handlerObj.startUn=[],i=endUn&&endUn.length||0;i--;)endUn[i]();delete handlerObj.endUn,handlerObj.endUn=[],handlerObj.state="end",handlerObj.closure(event)},def)for(i=(eventArr=def.start).length;i--;)(each=eventArr[i])&&unlisteners.push(addEventHandler(elem,each,handlerObj,"start"));return unlisteners},removeGestureHandler=function(elem,gesture,handlerObj){var eventArr,each,i,def;if(def=gDefs[gesture])for(i=(eventArr=def.start).length;i--;)(each=eventArr[i])&&removeHandler(elem,each,handlerObj.start)},addEventHandler=function(elem,event,handlerObj,attachTo){var unlistener;return addHandler(elem,event,handlerObj[attachTo=attachTo||"closure"]),unlistener=function(){removeHandler(elem,event,handlerObj[attachTo])}},getHandlerClosure=function(handlerObj){return function(event){event=event||win.event;var ctxt=handlerObj.context||handlerObj.elem,eventObj={data:handlerObj.data,type:handlerObj.type,state:handlerObj.state,isGesture:handlerObj.isGesture,target:event.target||event.srcElement,originalEvent:event};handlerObj.handler.call(ctxt,eventObj)}};return{listen:function(elem,gestures,handlers,data,context){var dem=this,gestureArr="string"==typeof gestures?gestures.split(" "):gestures,i=gestureArr.length,unlisteners=[],addToUnlistener=function(elem,type,handler){unlisteners.push((function(){dem.unlisten(elem,type,handler)}))},handlerMap,gesture,handlerObj,isGesture,handler;if(elem.ownerDocument&&elem.ownerDocument===doc)for(;i--;)gesture=gestureArr[i],isGesture=Boolean(gDefs[gesture]),(handlerObj={handler:handler="function"==typeof handlers?handlers:handlers[i],elem:elem,type:gesture,isGesture:isGesture,gDef:isGesture?gDefs[gesture]:null,data:data,context:context,start:[],end:[],links:{prev:null,next:null}}).closure=getHandlerClosure(handlerObj),isGesture?((handlerMap=gestureHandlerMap[gesture])||(handlerMap=gestureHandlerMap[gesture]=[]),handlerMap.push(handlerObj),addGestureHandler(elem,gesture,handlerObj)):((handlerMap=eventHandlerMap[gesture])||(handlerMap=eventHandlerMap[gesture]=[]),handlerMap.push(handlerObj),addEventHandler(elem,gesture,handlerObj)),addToUnlistener(elem,gesture,handler);else for(;i--;)gesture=gestureArr[i],(handlerObj={handler:handler="function"==typeof handlers?handlers:handlers[i],elem:elem,type:gesture,isGesture:isGesture,data:data,context:context,start:[],end:[],links:{prev:null,next:null}}).closure=getHandlerClosure(handlerObj),(handlerMap=eventHandlerMap[gesture])||(handlerMap=eventHandlerMap[gesture]=[]),handlerMap.push(handlerObj);return{unlisten:function(){for(var i=unlisteners.length;i--;)unlisteners[i]()}}},unlisten:function(elem,gesture,handler){var isGesture,eventHandlers,retVal=!1,i,hObj;if(Boolean(gDefs[gesture]))for(i=(eventHandlers=gestureHandlerMap[gesture])&&eventHandlers.length||0;i--;)(hObj=eventHandlers[i]).handler===handler&&hObj.elem===elem&&(removeGestureHandler(elem,gesture,hObj),eventHandlers.splice(i,1),retVal=!0);else for(i=(eventHandlers=eventHandlerMap[gesture])&&eventHandlers.length||0;i--;)(hObj=eventHandlers[i]).handler===handler&&hObj.elem===elem&&(removeHandler(elem,gesture,hObj.closure),eventHandlers.splice(i,1),retVal=!0);return retVal},fire:function(elem,event,eventArguments,defaultFunction){var eventHandlers,i,hObj,eventObj;if(elem.ownerDocument&&elem.ownerDocument===doc)doc.createEvent?((eventObj=doc.createEvent("HTMLEvents")).initEvent(event,!0,!0),eventArguments&&(eventArguments.originalEvent?eventArguments.originalEvent=eventObj:extend2(eventObj,eventArguments)),"function"==typeof elem[event]&&elem[event].call(elem),elem.dispatchEvent(eventObj),defaultFunction&&!eventObj.returnValue&&defaultFunction(eventObj)):((eventObj=doc.createEventObject()).eventType=event,eventArguments&&(eventArguments.originalEvent?eventArguments.originalEvent=eventObj:extend2(eventObj,eventArguments)),"function"==typeof elem[event]&&elem[event].call(elem),elem.fireEvent("on"+event,eventObj),defaultFunction&&!eventObj.returnValue&&defaultFunction(eventObj));else for(i=(eventHandlers=eventHandlerMap[event])&&eventHandlers.length||0;i--;)(hObj=eventHandlers[i]).elem===elem&&hObj.closure(eventArguments)}}}gDefs=defineGestures(),parent.dem=new DOMEventFx}(lib||win),function(parent){var animatable={width:{suffix:"px"},height:{suffix:"px"},opacity:!0,top:{suffix:"px"},left:{suffix:"px"}},predefinedAnimations={},effects={linear:function(diff,iterations){for(var returnArr=[],increment=diff/iterations,i=0;i<iterations;i+=1)returnArr[i]=increment*(i+1);return returnArr}},isIE=/msie/i.test(win.navigator.userAgent)&&!win.opera,UNIT_INTERVAL=40,doAnimation;function getAppliedStyle(ele,rule){var strValue="";return doc.defaultView&&doc.defaultView.getComputedStyle?strValue=doc.defaultView.getComputedStyle(ele,"").getPropertyValue(rule):ele.currentStyle&&(rule=rule.replace(/\-(\w)/g,(function(strMatch,p1){return p1.toUpperCase()})),strValue=ele.currentStyle[rule]),strValue=parseInt(strValue,10),isNaN(strValue)?0:strValue}function animatorStyle(element,duration,start,end,rule,effect,callback,suff){var iterations=duration/40,diff=end-start,incrementArr=effects[effect||"linear"](diff,iterations),counter=0,stepFn=function(){var val,value;counter<iterations?(val=incrementArr[counter],element.style[rule]=start+val+suff,isIE&&"opacity"===rule&&(value=100*Number(val),element.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+value+")"),counter+=1,setTimeout(stepFn,40)):callback&&callback()};suff=suff||"",setTimeout(stepFn,40)}doAnimation=function(element,stylesToAnimate,duration,effect,callback){var finalStyle={},currentStyle={},iCB=function(){(finished+=1)===total&&"function"==typeof callback&&callback()},total=0,finished=0,suff,rule;if(duration<40){for(rule in stylesToAnimate)element.style[rule]=stylesToAnimate[rule];callback&&callback()}else for(rule in stylesToAnimate)animatable[rule]&&(total+=1,finalStyle[rule]=stylesToAnimate[rule],currentStyle[rule]=getAppliedStyle(element,rule),suff="object"==typeof animatable[rule]&&animatable[rule].suffix,animatorStyle(element,duration,currentStyle[rule],finalStyle[rule],rule,"linear",iCB,suff))},parent.danimate=extend2({animate:doAnimation},predefinedAnimations)}(lib||win)}]),FusionCharts.register("module",["private","modules.renderer.js-colormanager",function(){var global=this,lib=this.hcLib,pluckNumber=lib.pluckNumber,getDarkColor=lib.graphics.getDarkColor,getLightColor=lib.graphics.getLightColor,BLANK="",COMMASTRING=",",defined=function(obj){return null!=obj},BGRATIOSTRING="0,100",COLOR_WHITE="FFFFFF",HUNDREDSTRING="100",extend=function(a,b){var n;for(n in a||(a={}),b)a[n]=b[n];return a},paletteColors=["AFD8F8","F6BD0F","8BBA00","FF8E46","008E8E","D64646","8E468E","588526","B3AA00","008ED6","9D080D","A186BE","CC6600","FDC689","ABA000","F26D7D","FFF200","0054A6","F7941C","CC3300","006600","663300","6DCFF6"],gaugePaletteColors=["8BBA00","F6BD0F","FF654F","AFD8F8","FDB398","CDC309","B1D0D2","FAD1B9","B8A79E","D7CEA5","C4B3CE","E9D3BE","EFE9AD","CEA7A2","B2D9BA"],defaultPaletteOptions=lib.defaultPaletteOptions={paletteColors:[paletteColors,paletteColors,paletteColors,paletteColors,paletteColors],bgColor:["CBCBCB,E9E9E9","CFD4BE,F3F5DD","C5DADD,EDFBFE","A86402,FDC16D","FF7CA0,FFD1DD"],bgAngle:[270,270,270,270,270],bgRatio:["0,100","0,100","0,100","0,100","0,100"],bgAlpha:["50,50","60,50","40,20","20,10","30,30"],canvasBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],canvasBgAngle:[0,0,0,0,0],canvasBgAlpha:["100","100","100","100","100"],canvasBgRatio:["","","","",""],canvasBorderColor:["545454","545454","415D6F","845001","68001B"],canvasBorderAlpha:[100,100,100,90,100],showShadow:[0,1,1,1,1],divLineColor:["717170","7B7D6D","92CDD6","965B01","68001B"],divLineAlpha:[40,45,65,40,30],altHGridColor:["EEEEEE","D8DCC5","99C4CD","DEC49C","FEC1D0"],altHGridAlpha:[50,35,10,20,15],altVGridColor:["767575","D8DCC5","99C4CD","DEC49C","FEC1D0"],altVGridAlpha:[10,20,10,15,10],anchorBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor:["545454","545454","415D6F","845001","68001B"],baseFontColor:["555555","60634E","025B6A","A15E01","68001B"],borderColor:["767575","545454","415D6F","845001","68001B"],borderAlpha:[50,50,50,50,50],legendBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],legendBorderColor:["545454","545454","415D6F","845001","D55979"],plotGradientColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],plotBorderColor:["333333","8A8A8A","FFFFFF","FFFFFF","FFFFFF"],plotFillColor:["767575","D8DCC5","99C4CD","DEC49C","FEC1D0"],bgColor3D:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],bgAlpha3D:["100","100","100","100","100"],bgAngle3D:[90,90,90,90,90],bgRatio3D:["","","","",""],canvasBgColor3D:["DDE3D5","D8D8D7","EEDFCA","CFD2D8","FEE8E0"],canvasBaseColor3D:["ACBB99","BCBCBD","C8A06C","96A4AF","FAC7BC"],divLineColor3D:["ACBB99","A4A4A4","BE9B6B","7C8995","D49B8B"],divLineAlpha3D:[100,100,100,100,100],legendBgColor3D:["F0F3ED","F3F3F3","F7F0E8","EEF0F2","FEF8F5"],legendBorderColor3D:["C6CFB8","C8C8C8","DFC29C","CFD5DA","FAD1C7"],toolTipbgColor3D:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor3D:["49563A","666666","49351D","576373","681C09"],baseFontColor3D:["49563A","4A4A4A","49351D","48505A","681C09"],anchorBgColor3D:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"]},colorManager=lib.colorManager=function(FCObj,iapi){var cm=this,FCChartObj=FCObj.chart,pO=cm.paletteOptions=extend(lib.extend2({},defaultPaletteOptions),iapi.defaultPaletteOptions||{}),themeColor=cm.themeEnabled=FCChartObj.palettethemecolor;cm.paletteIndex=(FCChartObj.palette>0&&FCChartObj.palette<6?FCChartObj.palette:pluckNumber(iapi.paletteIndex,1))-1,cm.iterator=0,cm.paletteColors=pO.paletteColors[cm.themeEnabled?0:cm.paletteIndex],defined(FCChartObj.palettecolors)&&""!==FCChartObj.palettecolors&&(cm.paletteColors=FCChartObj.palettecolors.split(/\s*\,\s*/)),cm.paletteLen=cm.paletteColors.length,cm.useFlatColors=pluckNumber(FCChartObj.useflatdataplotcolor,iapi.useFlatColor,0),themeColor&&(cm.paletteIndex=5,pO.bgColor.push(getLightColor(themeColor,35)+","+getLightColor(themeColor,10)),pO.bgAngle.push(270),pO.bgRatio.push("0,100"),pO.bgAlpha.push("50,50"),pO.canvasBgColor.push("FFFFFF"),pO.canvasBgAngle.push(0),pO.canvasBgAlpha.push("100"),pO.canvasBgRatio.push(""),pO.canvasBorderColor.push(getDarkColor(themeColor,80)),pO.canvasBorderAlpha.push(100),pO.showShadow.push(1),pO.divLineColor.push(getDarkColor(themeColor,20)),pO.divLineAlpha.push(40),pO.altHGridColor.push(getLightColor(themeColor,20)),pO.altHGridAlpha.push(15),pO.altVGridColor.push(getLightColor(themeColor,80)),pO.altVGridAlpha.push(10),pO.anchorBgColor.push("FFFFFF"),pO.toolTipBgColor.push("FFFFFF"),pO.toolTipBorderColor.push(getDarkColor(themeColor,80)),pO.baseFontColor.push(themeColor.split&&themeColor.split(",")[0]),pO.borderColor.push(getDarkColor(themeColor,60)),pO.borderAlpha.push(50),pO.legendBgColor.push("FFFFFF"),pO.legendBorderColor.push(getDarkColor(themeColor,80)),pO.plotGradientColor.push("FFFFFF"),pO.plotBorderColor.push(getDarkColor(themeColor,85)),pO.plotFillColor.push(getDarkColor(themeColor,85)),pO.bgColor3D.push("FFFFFF"),pO.bgAlpha3D.push("100"),pO.bgAngle3D.push(90),pO.bgRatio3D.push(""),pO.canvasBgColor3D.push(getLightColor(themeColor,20)),pO.canvasBaseColor3D.push(getLightColor(themeColor,40)),pO.divLineColor3D.push(getDarkColor(themeColor,20)),pO.divLineAlpha3D.push(40),pO.legendBgColor3D.push("FFFFFF"),pO.legendBorderColor3D.push(getDarkColor(themeColor,80)),pO.toolTipbgColor3D.push("FFFFFF"),pO.toolTipBorderColor3D.push(getDarkColor(themeColor,80)),pO.baseFontColor3D.push(themeColor.split&&themeColor.split(",")[0]),pO.anchorBgColor3D.push("FFFFFF"),pO.tickColor&&pO.tickColor.push(getDarkColor(themeColor,90)),pO.trendDarkColor&&pO.trendDarkColor.push(getDarkColor(themeColor,90)),pO.trendLightColor&&pO.trendLightColor.push(getLightColor(themeColor,pO.TrendLightShadeOffset)),pO.msgLogColor&&pO.msgLogColor.push(getLightColor(themeColor,80)),pO.dialColor&&pO.dialColor.push(getDarkColor(themeColor,95)+",FFFFFF,"+getDarkColor(themeColor,95)),pO.dialBorderColor&&pO.dialBorderColor.push(getDarkColor(themeColor,95)+",FFFFFF,"+getDarkColor(themeColor,95)),pO.pivotColor&&pO.pivotColor.push(getLightColor(themeColor,95)+",FFFFFF,"+getLightColor(themeColor,95)),pO.pivotBorderColor&&pO.pivotBorderColor.push(getDarkColor(themeColor,95)+",FFFFFF,"+getDarkColor(themeColor,95)),pO.pointerBorderColor&&pO.pointerBorderColor.push(getDarkColor(themeColor,75)),pO.pointerBgColor&&pO.pointerBgColor.push(getDarkColor(themeColor,75)),pO.thmBorderColor&&pO.thmBorderColor.push(getDarkColor(themeColor,90)),pO.thmFillColor&&pO.thmFillColor.push(getLightColor(themeColor,55)),pO.cylFillColor&&pO.cylFillColor.push(getLightColor(themeColor,55)),pO.periodColor&&pO.periodColor.push(getLightColor(themeColor,10)),pO.winColor&&pO.winColor.push("666666"),pO.lossColor&&pO.lossColor.push("CC0000"),pO.drawColor&&pO.drawColor.push("666666"),pO.scorelessColor&&pO.scorelessColor.push("FF0000"),pO.gridColor&&pO.gridColor.push(getLightColor(themeColor,30)),pO.categoryBgColor&&pO.categoryBgColor.push(getLightColor(themeColor,10)),pO.dataTableBgColor&&pO.dataTableBgColor.push(getLightColor(themeColor,10)),pO.gridResizeBarColor&&pO.gridResizeBarColor.push(getDarkColor(themeColor,90)),pO.scrollBarColor&&pO.scrollBarColor.push(getLightColor(themeColor,50)))};colorManager.prototype={getColor:function(key){return this.paletteOptions[key][this.paletteIndex]},getPlotColor:function(index){var cm=this,paletteColors=cm.paletteColors,strColor=cm.useFlatColors?cm.getColor("plotFillColor"):paletteColors[index%cm.paletteLen];return strColor||(cm.iterator===cm.paletteLen&&(cm.iterator=0),strColor=paletteColors[cm.iterator],cm.iterator+=1),strColor},parseColorMix:function(aColor,mix){var rtnArr=[],dashIndex,intensity,tokens,colors,j,defToken,defColor,token,color,removeBrecReg,i;if(""===(mix=(mix=mix.replace(/\s/g,"")).toLowerCase())||null==mix)rtnArr=[aColor];else for(tokens=mix.split(","),colors=aColor.split(","),j=Math.max(tokens.length,colors.length,1),defToken=tokens[0],defColor=colors[0],removeBrecReg=/[\{\}]/gi,i=0;i<j;i++)token=(tokens[i]||defToken).replace(removeBrecReg,""),color=colors[i]||defColor,"color"==token?rtnArr.push(color):"light"==token.substr(0,5)?(intensity=100-(intensity=-1==(dashIndex=token.indexOf("-"))?1:token.substr(dashIndex+1,token.length-dashIndex)),rtnArr.push(getLightColor(color,intensity))):"dark"==token.substr(0,4)?(intensity=100-(intensity=-1==(dashIndex=token.indexOf("-"))?1:token.substr(dashIndex+1,token.length-dashIndex)),rtnArr.push(getDarkColor(color,intensity))):rtnArr.push(token);return rtnArr},parseAlphaList:function(strAlphas,numColors){var arrInputAlphas=strAlphas.split(","),arrAlphas=[],alpha,usedAlpha=100,i;for(i=0;i<numColors;i++)alpha=pluckNumber(arrInputAlphas[i]),defined(alpha)&&(usedAlpha=alpha),arrAlphas[i]=usedAlpha;return arrAlphas.join()},parseRatioList:function(strRatios,numColors){var arrInputRatios=strRatios.split(","),arrRatios=[],sumRatio=0,ratio,i;for(i=0;i<numColors;i++)ratio=arrInputRatios[i],ratio=(ratio=isNaN(ratio)||void 0===ratio?0:Math.abs(Number(ratio)))>100?100:ratio,arrRatios[i]=ratio,sumRatio+=ratio;if(sumRatio=sumRatio>100?100:sumRatio,arrInputRatios.length<numColors)for(i=arrInputRatios.length;i<numColors;i++)arrRatios[i]=(100-sumRatio)/(numColors-arrInputRatios.length);return arrRatios[-1]=0,arrRatios.join()}},colorManager.prototype.constructor=colorManager,lib.defaultGaugePaletteOptions={paletteColors:[gaugePaletteColors,gaugePaletteColors,gaugePaletteColors,gaugePaletteColors,gaugePaletteColors],bgColor:["CBCBCB,E9E9E9","CFD4BE,F3F5DD","C5DADD,EDFBFE","A86402,FDC16D","FF7CA0,FFD1DD"],bgAngle:[270,270,270,270,270],bgRatio:["0,100","0,100","0,100","0,100","0,100"],bgAlpha:["50,50","60,50","40,20","20,10","30,30"],toolTipBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor:["545454","545454","415D6F","845001","68001B"],baseFontColor:["555555","60634E","025B6A","A15E01","68001B"],tickColor:["333333","60634E","025B6A","A15E01","68001B"],trendDarkColor:["333333","60634E","025B6A","A15E01","68001B"],trendLightColor:["f1f1f1","F3F5DD","EDFBFE","FFF5E8","FFD1DD"],pointerBorderColor:["545454","60634E","415D6F","845001","68001B"],pointerBgColor:["545454","60634E","415D6F","845001","68001B"],canvasBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],canvasBgAngle:[0,0,0,0,0],canvasBgAlpha:["100","100","100","100","100"],canvasBgRatio:["","","","",""],canvasBorderColor:["545454","545454","415D6F","845001","68001B"],canvasBorderAlpha:[100,100,100,90,100],altHGridColor:["EEEEEE","D8DCC5","99C4CD","DEC49C","FEC1D0"],altHGridAlpha:[50,35,10,20,15],altVGridColor:["767575","D8DCC5","99C4CD","DEC49C","FEC1D0"],altVGridAlpha:[10,20,10,15,10],borderColor:["767575","545454","415D6F","845001","68001B"],borderAlpha:[50,50,50,50,50],legendBgColor:["ffffff","ffffff","ffffff","ffffff","ffffff"],legendBorderColor:["545454","545454","415D6F","845001","D55979"],plotFillColor:["767575","D8DCC5","99C4CD","DEC49C","FEC1D0"],plotBorderColor:["999999","8A8A8A","6BA9B6","C1934D","FC819F"],msgLogColor:["717170","7B7D6D","92CDD6","965B01","68001B"],TrendLightShadeOffset:30}}]),FusionCharts.register("module",["private","modules.renderer.js-annotations",function(){var global=this,core=global.core,lib=global.hcLib,win=global.window,userAgent=win.navigator.userAgent,isIE=/msie/i.test(userAgent)&&!win.opera,addEvent=lib.addEvent,removeEvent=lib.removeEvent,hasTouch=lib.hasTouch,toNum=win.Number,DEFAULT_DYNAMIC_MACRO_TOKEN_SPLITTER=".",DEFAULT_COLOR="#ff0000",DEFAULT_ALPHA=100,ANNOTATIONS="annotations",DEFAULT_THICKNESS_PX=2,DEFAULT_POLYGON_SIDES=5,DEFAULT_START_ANGLE=0,DEFAULT_END_ANGLE=360,MINIMUM_TRACKERSTROKE_PX=hasTouch?6:5,HALF=.5,ONE="1",ZERO="0",BOLD="bold",NORMAL="normal",ITALIC="italic",HIDDEN="hidden",NONE="none",ROUND="round",RADIAL="radial",DOLLAR="$",PLUSDOLLAR="+$",MINUSDOLLAR="-$",BLANK="",PX="px",M="M",A="A",Z="Z",L="L",X="x",Y="y",T="T",S="S",SHAPE_RENDERING="shape-rendering",STROKE_WEIGHT="stroke-weight",STROKE_LINECAP="stroke-linecap",STROKE_WIDTH="stroke-width",STROKE_DASHARRAY="stroke-dasharray",TEXT_ANCHOR="text-anchor",TEXT_BOUND="text-bound",POLYPATH="polypath",RINGPATH="ringpath",VERTICAL_ALIGN="vertical-align",OBJECT_BOUNDING_BOX="objectBoundingBox",POSITION_TOP="top",POSITION_BOTTOM="bottom",POSITION_LEFT="left",POSITION_CENTER="center",POSITION_MIDDLE="middle",FUNCTION="function",OBJECT="object",SOLID="solid",CRISP="crisp",HYPHEN="-",TRACKER_FILL="rgba(192,192,192,"+(isIE?.002:1e-6)+")",math=win.Math,mathMin=math.min,mathMax=math.max,mathSin=math.sin,mathCos=math.cos,mathPI=math.PI,deg2rad=mathPI/180,extend=global.extend,pluck=lib.pluck,pluckNumber=lib.pluckNumber,convertColor=lib.graphics.convertColor,getValidValue=lib.getValidValue,parseUnsafeString=lib.parseUnsafeString,setImageDisplayMode=lib.setImageDisplayMode,parseColor=lib.graphics.parseColor,setLineHeight=lib.setLineHeight,getMouseCoordinate=lib.getMouseCoordinate,superDefaultStyle={style:{}},toRaphaelColor=lib.toRaphaelColor,normalizeAngles=function(startAngle,endAngle){return{start:-endAngle,end:-startAngle,angle:startAngle-endAngle}},prepareExpressionLiterals=function(hash,positive,neutral,negative){var rehash={},key;for(key in hash)switch(typeof hash[key]){case OBJECT:case FUNCTION:rehash[negative+key]=rehash[neutral+key]=rehash[positive+key]=hash[key];break;default:rehash[neutral+key]=rehash[positive+key]=hash[key],rehash[negative+key]=-1*hash[key]}return rehash},evaluateToken=function(token,hash,isBelow){for(var subtokens=token.split("."),subtoken,evaluator,value=0,isDynamicMacro;subtoken=subtokens.shift();)switch(typeof(evaluator=hash[subtoken])){case OBJECT:hash=evaluator[subtoken];break;case FUNCTION:evaluator=evaluator(subtokens,isBelow),"-"===token.charAt()&&(evaluator*=-1),isDynamicMacro=!0;default:value+=toNum(evaluator)||0,subtokens.length=0}return{value:value,isDynamicMacro:isDynamicMacro}},parseHybridScale=function(expr,scale,def,hash,isBelow){var scalable=0,unscalable=0,multiplier=null==scale?1:scale,tokens,i,hasDynamicMacros,buf;if(!expr||!expr.toString)return{value:def,hasDynamicMacros:!1};if(tokens=(expr=(expr=expr.toString()).toLowerCase().replace(/\s/g,"")).match(/^[\+\-]?\d+(\.\d+)?|[\+\-]\d+(\.\d+)?/g)){for(i=0;i<tokens.length;i+=1)scalable+=Number(tokens[i])||0;scalable*=multiplier}if(tokens=expr.match(/^[\+\-]?(\$[a-z0-9\.]+)|[\+\-](\$[a-z0-9\.]+)/g))for(i=0;i<tokens.length;i+=1)(buf=evaluateToken(tokens[i],hash,isBelow)).isDynamicMacro&&(hasDynamicMacros=!0),unscalable+=buf.value;if(tokens=expr.match(/^[\+\-]?\$\d+(\.\d+)?|[\+\-]\$\d+(\.\d+)?/g))for(i=0;i<tokens.length;i+=1)unscalable=unscalable+Number(tokens[i].replace("$",""))||0;return{value:scalable+unscalable,hasDynamicMacros:hasDynamicMacros}},raiseShapeGlobalEvent=function(name,wrapper,event){if(!wrapper.removed){var shape=wrapper.data("annotation"),renderer=shape.getRenderer(),coords=getMouseCoordinate(renderer.container,event),shapeOptions=coords.annotationOptions=shape.options,groupOptions=coords.groupOptions=shape.group.options;coords._shape=shape,"id"in shapeOptions&&(coords.annotationId=shapeOptions.id),"id"in groupOptions&&(coords.groupId=groupOptions.id),global.raiseEvent(name,coords,renderer.fusionCharts,event)}},Annotations,Group,Shape;extend((Group=function(options,sharedOptions,snapPoints,store,annotations){var items,itemOptions,i,ii;if(this.options=options,this.attrs={},this.css={},this.bounds={},this.shared=sharedOptions,this.snaps=snapPoints||{},this.annotations=annotations,this.items=items=[],this._idstore=store,options.id&&(this._id=options.id,store[options.id]=this),itemOptions=options.items)for(i=0,ii=itemOptions.length;i<ii;i+=1)items.push(new Shape(itemOptions[i],this))}).prototype,{scaleImageX:1,scaleImageY:1,scaleText:1,scaleValue:1,scaleValueComplement:1,scaleX:1,scaleY:1}),Group.prototype.setup=function(){var group=this,options=this.options,shared=this.shared,renderer=this.getRenderer();renderer&&(this.isBelow=0!==pluckNumber(options.showbelow,options.showbelowchart,shared.showbelow),this.useTracker=!this.isBelow&&renderer.layers.tracker&&this.shared.useTracker,this.raiseOwnEvents=shared.interactionevents)},Group.prototype.scale=function(){var group=this,options=this.options,shared=this.shared,bounds=this.bounds,snaps=this.snaps,renderer=this.getRenderer(),rxs=shared.rootxscale,rys=shared.rootyscale,xs=bounds.xs=pluckNumber(options.xscale,shared.xscale,100)/100,ys=bounds.ys=pluckNumber(options.yscale,shared.yscale,100)/100,constrained,ow,oh,scaleW,scaleH,scaleValue,scaleValueComplement,scaleX,scaleY;renderer&&(this.scaleText=this.scaleText*ys,this.scaleImageX=this.scaleImageX*xs,this.scaleImageY=this.scaleImageY*ys,0!==pluckNumber(options.autoscale,shared.autoscale)&&(ow=pluckNumber(options.origw,shared.origw),oh=pluckNumber(options.origh,shared.origh),scaleValue=(scaleW=renderer.chartWidth/ow)<(scaleH=renderer.chartHeight/oh)?scaleW:scaleH,scaleValueComplement=(constrained=0!==pluckNumber(options.constrainedscale,shared.constrainedscale))?scaleValue:scaleW<scaleH?scaleH:scaleW,scaleX=constrained?scaleValue:scaleW,scaleY=constrained?scaleValue:scaleH,this.scaleValue=Group.prototype.scaleValue*scaleValue,this.scaleValueComplement=Group.prototype.scaleValueComplement*scaleValueComplement,this.scaleX=Group.prototype.scaleX*scaleX,this.scaleY=Group.prototype.scaleX*scaleY,xs=bounds.xs=bounds.xs*scaleX,ys=bounds.ys=bounds.ys*scaleY,rxs*=scaleX,rys*=scaleY,"1"==pluck(options.scaletext,shared.scaletext)&&(this.scaleText=Group.prototype.scaleText*scaleY),"1"==pluck(options.scaleimages,shared.scaleimages)&&(this.scaleImageX=Group.prototype.scaleImageX*scaleX,this.scaleImageY=Group.prototype.scaleImageY*scaleY)),bounds.x=parseHybridScale(pluck(options.x,options.xpos),rxs,0,snaps,this.isBelow).value+pluckNumber(options.grpxshift,shared.grpxshift,0),bounds.y=parseHybridScale(pluck(options.y,options.ypos),rys,0,snaps,this.isBelow).value+pluckNumber(options.grpyshift,shared.grpyshift,0),this.xshift=pluckNumber(options.xshift,shared.xshift,0),this.yshift=pluckNumber(options.yshift,shared.yshift,0))},Group.prototype.draw=function(){var group=this,renderer=this.getRenderer(),options=this.options,bounds=this.bounds,items=this.items,reflayer=renderer&&renderer.layers.dataset,wrapper=this.wrapper,shape,i,l;if(renderer){for(wrapper||(this.wrapper=wrapper=renderer.paper.group(ANNOTATIONS),reflayer&&(this.isBelow?wrapper.insertBefore(reflayer):wrapper.insertAfter(renderer.layers.datalabels||reflayer))),this.wrapper.attr({x:0,y:0,visibility:pluckNumber(options.visible,1)?"":HIDDEN}).translate(bounds.x,bounds.y),i=0,l=items.length;i<l;i+=1)(shape=items[i]).scale(!0),shape.queueDraw?shape.queue():(shape.setup(),shape.draw());return this}},Group.prototype.destroy=function(){for(var group=this,wrapper=this.wrapper,items=this.items,item;item=items.shift();)item=item.destroy();wrapper&&(wrapper=this.wrapper=wrapper.remove()),this._idstore[this._id]===this&&delete this._idstore[this._id]},Group.prototype.addItem=function(shapeOptions,drawImmediately){var group=this,items=this.items,store=this._idstore,shape;return items.push(shape=new Shape(shapeOptions,this,store)),drawImmediately&&null!==this.getRenderer()&&(shape.scale(),shape.setup(),shape.draw()),shape},Group.prototype.removeItem=function(id){for(var group=this,items=this.items,i=items.length;i--;)if(id===items[i]._id)return items.splice(i,1)},Group.prototype.getRenderer=function(){return this.annotations&&this.annotations.getRenderer()||null},Shape=function(options,group){var hasEvents=!1,eventName;for(eventName in this.options=options,this.group=group,this.args=[],this.attrs={},this.attrsTracker={},this.style={},this.bounds={},this._idstore=group._idstore,options.id&&(this._id=options.id,group._idstore[options.id]=this),this.type=options.type&&options.type.toLowerCase&&options.type.toLowerCase(),Shape.eventNames)typeof options[eventName]===FUNCTION&&(this[eventName]=options[eventName],hasEvents=!0);this.hasEvents=hasEvents,typeof options.onload===FUNCTION&&(this.onload=options.onload)},global.extend(Shape.prototype,{getAbsoluteBounds:function(){var shape=this,bounds=this.bounds,x1=bounds.x1,y1=bounds.y1,x2=bounds.x2,y2=bounds.y2,x=mathMin(x1,x2),y=mathMin(y1,y2),w=mathMax(x1,x2)-x,h=mathMax(y1,y2)-y;return{x:x,width:w,y:y,height:h,r:bounds.r,unscaled:{width:w/bounds.xs,height:h/bounds.ys}}},queue:function(){var shape=this;this.group.annotations.shapesToDraw.push(this)},scale:function(verify){var shape=this,group=shape.group,groupBounds=group.bounds,bounds=shape.bounds,options=shape.options,snaps=group.snaps,x1=pluck(options.x,options.xpos),y1=pluck(options.y,options.ypos),x2=pluck(options.tox,options.toxpos),y2=pluck(options.toy,options.toypos),xs=bounds.xs=groupBounds.xs,ys=bounds.ys=groupBounds.ys,dx=pluckNumber(options.xshift,group.xshift,0),dy=pluckNumber(options.yshift,group.yshift,0),parseHybridScaleAndVerify;parseHybridScaleAndVerify=function(expr,scale,def,hash){var parsedVal=parseHybridScale(expr,scale,def,hash,group.isBelow);return parsedVal.hasDynamicMacros&&verify&&(shape.queueDraw=!0),parsedVal.value},shape.hasDimension=!0,shape.hasDimensionX=!0,shape.hasDimensionY=!0,bounds.x1=parseHybridScaleAndVerify(x1,xs,0,snaps)+dx,void 0===x2?(shape.hasDimension=!1,shape.hasDimensionX=!1,bounds.x2=bounds.x1):bounds.x2=parseHybridScaleAndVerify(x2,xs,0,snaps)+dx,bounds.y1=parseHybridScaleAndVerify(y1,ys,0,snaps)+dy,void 0===y2?(shape.hasDimension=!1,shape.hasDimensionY=!1,bounds.y2=bounds.y1):bounds.y2=parseHybridScaleAndVerify(y2,ys,0,snaps)+dy,Shape.angularShapeTypes[shape.type]&&(bounds.angles=normalizeAngles(parseHybridScaleAndVerify(options.startangle,1,0,snaps),parseHybridScaleAndVerify(options.endangle,1,360,snaps))),bounds.r=parseHybridScaleAndVerify(options.radius,group.scaleValue,0,snaps)},setup:function(){var shape=this,options=this.options,group=this.group,groupOptions=group.options,attrs=this.attrs,css=this.style,scale=group.scaleValue,groupAlpha=pluckNumber(groupOptions.fillalpha,groupOptions.alpha,100),fillAlpha=this.fillAlpha=pluck(options.fillalpha,options.alpha,groupAlpha),fillColor=this.fillColor=pluck(options.fillcolor,options.color,groupOptions.color),fillPattern=this.fillPattern=pluck(options.fillpattern&&options.fillpattern.toLowerCase&&options.fillpattern.toLowerCase(),groupOptions.fillpattern&&groupOptions.fillpattern.toLowerCase&&groupOptions.fillpattern.toLowerCase()),bordered=this.bordered=pluckNumber(options.showborder,Shape.borderedShapeTypes[this.type],!!getValidValue(options.bordercolor)),borderColor=this.borderColor=pluck(options.bordercolor,groupOptions.bordercolor,fillColor),borderAlpha=this.borderAlpha=pluckNumber(options.borderalpha,options.alpha,groupOptions.borderalpha,groupAlpha),dashed=this.dashed=!!pluckNumber(options.dashed,0),borderThickness=pluckNumber(options.borderthickness,options.thickness,2)*scale;this.link=pluck(options.link,groupOptions.link),this.shadow="1"==pluck(options.showshadow,groupOptions.showshadow),void 0===fillColor&&(fillColor=Shape.borderedShapeTypes[this.type]?NONE:"#ff0000",void 0===borderColor&&(borderColor="#ff0000")),bordered&&borderThickness?(attrs.stroke=convertColor(borderColor,borderAlpha),attrs[STROKE_LINECAP]=ROUND,attrs[STROKE_WIDTH]=borderThickness,dashed&&(attrs[STROKE_DASHARRAY]=[pluckNumber(options.dashlen,5)*scale,pluckNumber(options.dashgap,3)*scale])):attrs.stroke=NONE,this.fillOptions={gradientUnits:"objectBoundingBox",color:fillColor,alpha:fillAlpha,ratio:pluck(options.fillratio,groupOptions.fillratio),angle:360-pluckNumber(options.fillangle,0),radialGradient:fillPattern===RADIAL},this.link&&(css.cursor="pointer",css._cursor="hand"),attrs.visibility=pluckNumber(options.visible,1)?"":HIDDEN,this.useTracker=group.useTracker,this.toolText=parseUnsafeString(pluck(options.tooltext,groupOptions.tooltext)),(this.useTracker||this.link||this.toolText)&&(extend(this.attrsTracker,{stroke:TRACKER_FILL,fill:TRACKER_FILL}),this.link&&(this.attrsTracker.ishot=+new Date)),this.raiseOwnEvents=group.raiseOwnEvents},draw:function(){var shape=this,renderer=this.getRenderer(),type=this.type,attrs=this.attrs,style=this.style,paper=renderer&&renderer.paper,typeName=Shape.types[type]&&Shape.types[type].call&&Shape.types[type].call(this,renderer),isImage=Shape.imageShapeTypes[typeName],isText=Shape.textShapeTypes[typeName],hasPlaceHolderTracker=isImage||isText||Shape.trackerShapeTypes[typeName],needsNativeEvents=this.link||this.toolText,wrapper=this.wrapper,tracker=this.tracker,trackerGroup=renderer&&renderer.layers.tracker||this.group.wrapper,wasLoaded=!1,bbox,eventSubject=tracker||wrapper,eventNames=Shape.eventNames,ownEvents=Shape.ownEvents,eventName,event;if(renderer){if(typeName){if(wrapper)if(wrapper.elemType!==typeName){if(this.ownEventsAttached){for(event in ownEvents)eventSubject["un"+event].apply(wrapper,ownEvents[event]);this.ownEventsAttached=!1}wrapper=wrapper.remove()}else if(this.hasEvents)for(eventName in eventNames)(event=this[eventName])&&event.eventAttached&&(removeEvent(eventSubject.node,eventNames[eventName],event),event.eventAttached=!1);if(isImage||(attrs.fill=toRaphaelColor(this.fillOptions)),wrapper?wrapper.attr(attrs).css(style):(this.args.push(this.group.wrapper),(wrapper=this.wrapper=paper[typeName].apply(paper,this.args).attr(attrs).css(style)).elemType=typeName,wrapper.data("annotation",this),wasLoaded=!0,this.args.pop()),!this.shadow||this.shadowAdded||isImage||isText?wrapper.shadow(this.shadowAdded=!1):wrapper.shadow(this.shadowAdded=!0,mathMax(this.borderAlpha,this.fillOptions.alpha)/100),needsNativeEvents?this.useTracker&&(tracker||(this.args.push(trackerGroup),tracker=this.tracker=hasPlaceHolderTracker?paper.rect(0,0,0,0,0,trackerGroup):paper[typeName].apply(paper,this.args),this.args.pop()),tracker.attr(attrs).attr(this.attrsTracker)):tracker&&(tracker=tracker.remove()),eventSubject=tracker||wrapper,this.raiseOwnEvents&&!this.ownEventsAttached){for(event in ownEvents)eventSubject[event].apply(wrapper,ownEvents[event]);this.ownEventsAttached=!0}if(this.link&&eventSubject.click(renderer.linkClickFN,this),this.toolText&&(eventSubject.tooltip(this.toolText||""),this.group.wrapper.trackTooltip(!0)),this.hasEvents)for(eventName in eventNames)(event=this[eventName])&&!event.eventAttached&&(addEvent(eventSubject.node,eventNames[eventName],event,this),event.eventAttached=!0);isImage||(tracker&&hasPlaceHolderTracker&&(bbox=wrapper.getBBox(),tracker.attr({x:bbox.x,y:bbox.y,width:bbox.width,height:bbox.height})),wasLoaded&&this.onload&&this.onload(attrs))}return this}},destroy:function(){var shape=this,wrapper=this.wrapper,tracker=this.tracker,eventSubject=tracker||wrapper,eventNames=Shape.eventNames,ownEvents=Shape.ownEvents,eventName,event;if(wrapper){if(this.ownEventsAttached){for(event in ownEvents)eventSubject["un"+event].apply(wrapper,ownEvents[event]);this.ownEventsAttached=!1}if(this.hasEvents)for(eventName in eventNames)(event=this[eventName])&&event.eventAttached&&(removeEvent(eventSubject.node,eventNames[eventName],event),event.eventAttached=!1);tracker&&(this.tracker=tracker.remove()),this.wrapper=wrapper.remove()}this._idstore[this._id]===this&&delete this._idstore[this._id]},getRenderer:function(){return this.group&&this.group.getRenderer()||null}}),global.extend(Shape,{imageShapeTypes:{image:!0},angularShapeTypes:{circle:!0,arc:!0},textShapeTypes:{text:!0},trackerShapeTypes:{image:!0,text:!0},borderedShapeTypes:{path:!0,line:!0},eventNames:{onmouseover:hasTouch?"touchstart":"mouseover",onmouseout:"mouseout",onmousemove:hasTouch?"touchmove":"mousemove",onclick:"click"},ownEvents:{click:[function(event){raiseShapeGlobalEvent("annotationClick",this,event)}],hover:[function(event){raiseShapeGlobalEvent("annotationRollOver",this,event)},function(event){raiseShapeGlobalEvent("annotationRollOut",this,event)}]},textAlignOptions:{left:"start",right:"end",center:"middle"},textVerticalAlignOptions:{top:"bottom",middle:"middle",bottom:"top"},textRotationOptions:{0:"0",1:"270",right:"90",cw:"90",left:"270",ccw:"270"},types:{rectangle:function(){var shape=this,args=this.args,attrs=this.attrs,absBounds=this.getAbsoluteBounds(),halfWidth=.5*absBounds.width;return absBounds.r>halfWidth&&(absBounds.r=halfWidth),args[0]=attrs.x=absBounds.x,args[1]=attrs.y=absBounds.y,args[2]=attrs.width=absBounds.width,args[3]=attrs.height=absBounds.height,args[4]=attrs.r=absBounds.r,"rect"},line:function(){var shape=this,args=this.args,attrs=this.attrs,bounds=this.bounds;return args[0]=attrs.path=[M,bounds.x1,bounds.y1,L,bounds.x2,bounds.y2],1===attrs[STROKE_WIDTH]&&(attrs[SHAPE_RENDERING]=CRISP),attrs[STROKE_WIDTH]<MINIMUM_TRACKERSTROKE_PX&&(this.attrsTracker[STROKE_WIDTH]=MINIMUM_TRACKERSTROKE_PX),this.bordered&&this.dashed&&(this.attrsTracker[STROKE_DASHARRAY]=SOLID),"path"},path:function(){var shape=this,args=this.args,options=this.options,attrs=this.attrs,bounds=this.bounds;return args[0]=attrs.path=options.path,attrs.transform=[T,bounds.x1,bounds.y1,S,bounds.xs,bounds.ys,bounds.x1,bounds.y1],1===attrs[STROKE_WIDTH]&&(attrs[SHAPE_RENDERING]=CRISP),"path"},polygon:function(){var shape=this,args=this.args,attrs=this.attrs,options=this.options,bounds=this.bounds,group=this.group,snaps=group.snaps;return args[0]=parseHybridScale(options.sides,1,5,snaps,group.isBelow).value,args[1]=bounds.x1,args[2]=bounds.y1,args[3]=bounds.r,args[4]=parseHybridScale(options.startangle,1,0,snaps,group.isBelow).value,args[5]=0,attrs.polypath=args.slice(0),POLYPATH},circle:function(renderer){var shape=this,args=this.args,attrs=this.attrs,options=this.options,bounds=this.bounds,cw=renderer.chartWidth,ch=renderer.chartHeight,scaleC=this.group.scaleValueComplement,snaps=this.group.snaps,angles=bounds.angles,group=this.group,r1=bounds.r,r2,startAngle,endAngle,arcAngle,modAngle,cx,cy,sx,sy,ex,ey,path;return pluck(options.radius)||(bounds.r=cw<ch?cw*bounds.xs:ch*bounds.ys,bounds.r=r1=.3*bounds.r),r2=parseHybridScale(options.yradius,scaleC,r1,snaps,group.isBelow).value,this.fillPattern||(this.fillOptions.radialGradient=!0,this.fillPattern=RADIAL),this.fillPattern===RADIAL&&(this.fillOptions.cx=this.fillOptions.cy=.5),(modAngle=angles.angle%360)||r1!==r2?(modAngle||(angles.start=angles.start-.001),startAngle=angles.start*deg2rad,endAngle=angles.end*deg2rad,arcAngle=angles.angle*deg2rad,cx=bounds.x1,cy=bounds.y1,sx=cx+mathCos(startAngle)*r1,sy=cy+mathSin(startAngle)*r2,ex=cx+mathCos(endAngle)*r1,ey=cy+mathSin(endAngle)*r2,path=[M,sx,sy,A,r1,r2,0,0,arcAngle>=mathPI?0:1,ex,ey,Z],args[0]=attrs.path=path,"path"):(args[0]=attrs.cx=bounds.x1,args[1]=attrs.cy=bounds.y1,args[2]=attrs.r=bounds.r,"circle")},arc:function(renderer){var shape=this,options=this.options,args=this.args,attrs=this.attrs,bounds=this.bounds,cw=renderer.chartWidth,ch=renderer.chartHeight,group=this.group,scale=group.scaleValue,angles=bounds.angles;return pluck(options.radius)||(bounds.r=cw<ch?cw*bounds.xs:ch*bounds.ys,bounds.r=.3*bounds.r),bounds.innerR=parseHybridScale(options.innerradius,scale,.8*bounds.r,this.group.snaps,group.isBelow).value,bounds.innerR>bounds.r&&(bounds.innerR=bounds.innerR+bounds.r,bounds.r=bounds.innerR-bounds.r,bounds.innerR=bounds.innerR-bounds.r),this.fillPattern||(this.fillOptions.radialGradient=!0,this.fillPattern=RADIAL),this.fillPattern===RADIAL&&(this.fillOptions.cx=this.fillOptions.cy=.5),args[0]=bounds.x1,args[1]=bounds.y1,args[2]=bounds.r,args[3]=bounds.innerR,args[4]=angles.start*deg2rad,args[5]=angles.end*deg2rad,attrs.ringpath=args.slice(0),RINGPATH},text:function(renderer){var shape=this,args=this.args,css=this.style,attrs=this.attrs,group=this.group,bounds=this.bounds,options=this.options,absBounds=this.getAbsoluteBounds(),align=pluck(options.align,group.options.textalign,"center").toLowerCase(),valign=pluck(options.valign,group.options.textvalign,"middle").toLowerCase(),text=parseUnsafeString(pluck(options.text,options.label)),smartLabel=renderer.logic.smartLabel,smartText,wrap=pluckNumber(options.wrap,group.options.wraptext,1),wrapW,wrapH,rotateTextOption=pluck(options.rotatetext,group.options.rotatetext,"0").toLowerCase(),rotation=Shape.textRotationOptions[rotateTextOption],rotate,yOrX="0"!==rotation?Y:X,orphanStyles=renderer.options.orphanStyles,defaultStyle=extend({},orphanStyles.defaultStyle.style||{}),userStyle=group.id&&orphanStyles[group.id.toLowerCase()]||superDefaultStyle,rootStyle=extend(defaultStyle,userStyle.style),rootFontSize=parseFloat(rootStyle.fontSize),fontFamily=pluck(options.font,group.options.font,rootStyle.fontFamily),fontSize=pluckNumber(options.fontsize,group.options.fontsize,rootFontSize)*group.scaleText;return wrap&&(wrapW=pluckNumber(options.wrapwidth,this.hasDimensionX?absBounds.width/bounds.xs:void 0),wrapH=pluckNumber(options.wrapheight,this.hasDimensionY?absBounds.height/bounds.ys:void 0),wrapW&&(wrapW*=bounds.xs),wrapH&&(wrapH*=bounds.ys)),css.fontFamily=fontFamily,css.fontWeight=pluckNumber(options.bold,options.isbold,0)?BOLD:NORMAL,pluckNumber(options.italic,options.isitalic,0)&&(css.fontStyle=ITALIC),options.bgcolor&&(!attrs[TEXT_BOUND]&&(attrs[TEXT_BOUND]=[]),attrs[TEXT_BOUND][0]=parseColor(options.bgcolor)),options.bordercolor&&(!attrs[TEXT_BOUND]&&(attrs[TEXT_BOUND]=[]),attrs[TEXT_BOUND][1]=parseColor(options.bordercolor),attrs[TEXT_BOUND][2]=pluckNumber(options.borderthickness,1),attrs[TEXT_BOUND][3]=pluckNumber(options.padding,1)),options.fontcolor&&(attrs.fill=parseColor(options.fontcolor),this.fillOptions&&(this.fillOptions.color=attrs.fill)),css.fontSize=fontSize+PX,fontSize===rootFontSize?css.lineHeight=rootStyle.lineHeight:setLineHeight(css),attrs[TEXT_ANCHOR]=Shape.textAlignOptions[align]||Shape.textAlignOptions.center,smartLabel.setStyle(css),smartText=smartLabel.getSmartText(text,wrapW,wrapH,!1),attrs[VERTICAL_ALIGN]=Shape.textVerticalAlignOptions[valign]||Shape.textVerticalAlignOptions.middle,attrs[TEXT_ANCHOR]===Shape.textAlignOptions.left?absBounds[yOrX]=absBounds[yOrX]+pluckNumber(options.leftmargin,0):attrs[TEXT_ANCHOR]===Shape.textAlignOptions.center&&(absBounds[yOrX]=absBounds[yOrX]+.5*pluckNumber(options.leftmargin,0)),"0"!==rotation&&(attrs.rotation=[parseFloat(rotation),absBounds.x,absBounds.y]),args[0]=attrs.x=absBounds.x,args[1]=attrs.y=absBounds.y,args[2]=attrs.text=smartText.text,smartText.tooltext&&(attrs.title=smartText.tooltext),delete attrs.stroke,delete attrs[STROKE_WEIGHT],"text"},image:function(renderer){var shape=this,css=shape.style,chartWidth=renderer.chartWidth,chartHeight=renderer.chartHeight,options=shape.options,attrs=shape.attrs,args=shape.args,url=getValidValue(options.url),scaleX=shape.group.scaleImageX*pluck(Number(options.xscale),100)/100,scaleY=shape.group.scaleImageY*pluck(Number(options.yscale),100)/100,absBounds=shape.getAbsoluteBounds(),xattr={width:1,height:1},imageRef;return url?((imageRef=new win.Image).onload=function(){delete(xattr=setImageDisplayMode(NONE,"top","left",100,0,chartWidth,chartHeight,imageRef)).x,delete xattr.y,xattr=extend(xattr,{width:(shape.hasDimensionX?absBounds.unscaled.width:xattr.width)*scaleX,height:(shape.hasDimensionY?absBounds.unscaled.height:xattr.height)*scaleY}),setTimeout((function(){var wrapper,tracker,bbox;(wrapper=shape.wrapper)&&(wrapper.attr(xattr),(tracker=shape.tracker)&&(bbox=wrapper.getBBox(),tracker.attr({x:bbox.x,y:bbox.y,width:bbox.width,height:bbox.height})),wrapper.css({opacity:css.opacity=mathMax(pluckNumber(shape.fillAlpha,shape.borderAlpha),shape.borderAlpha)/100})),shape.onload&&shape.onload(xattr)}),0)},imageRef.src=url,args[0]=attrs.src=url,args[1]=attrs.x=absBounds.x,args[2]=attrs.y=absBounds.y,args[3]=attrs.width=(shape.hasDimensionX?absBounds.unscaled.width:xattr.width)*scaleX,args[4]=attrs.height=(shape.hasDimensionY?absBounds.unscaled.height:xattr.height)*scaleY,css.opacity=mathMax(pluckNumber(shape.fillAlpha,shape.borderAlpha),shape.borderAlpha)/100,delete attrs.stroke,delete attrs.fill,delete attrs[STROKE_LINECAP],"image"):(args[0]=attrs.x=absBounds.x,args[1]=attrs.y=absBounds.y,args[2]=attrs.width=absBounds.width,args[3]=attrs.height=absBounds.height,args[4]=attrs.r=absBounds.r,"rect")}}}),Annotations=function(){this.groups=[],this._idstore={},this._options={}},lib.Annotations=Annotations,global.extend(Annotations.prototype,{reset:function(definition,options,snapliterals){var groups=this.groups,literals,h;if(this.clear(),snapliterals&&(literals=this._literals=prepareExpressionLiterals(snapliterals,"+$","$","-$")),options&&(this._options=options),definition&&definition.groups&&groups)for(h=0;h<definition.groups.length;h+=1)groups.push(new Group(definition.groups[h],options,literals,this._idstore,this))},getRenderer:function(){return this._renderer},addGroup:function(groupDefinition){var newGroup,renderer=this.getRenderer();return this.groups.push(newGroup=new Group(groupDefinition,this._options,this._literals,this._idstore,this)),renderer&&(newGroup.setup(),newGroup.scale(),newGroup.draw()),newGroup},addItem:function(groupId,itemDefinition,drawImmediately){var newItem,group,renderer=this.getRenderer();if("string"==typeof groupId?group=this._idstore[groupId]:(drawImmediately=itemDefinition,itemDefinition=groupId),group&&group.addItem){if(!renderer&&drawImmediately)return void global.raiseWarning(this,"04031411430","run","Annotations~addItem()","Cannot draw the shape if the group has not been drawn. Use Annotations~draw() to draw the group and pass the renderer to it.");newItem=group.addItem(itemDefinition,drawImmediately)}else newItem=this.addGroup({}).addItem(itemDefinition,drawImmediately);return newItem},draw:function(renderer){var groups=this.groups,group,i,ii;if(groups&&(this._renderer=renderer||this._renderer,this._renderer))for(i=0,ii=groups.length;i<ii;i++)(group=groups[i]).setup(),group.scale(),group.draw()},clear:function(){var groups=this.groups,item;if(groups){for(;item=groups.shift();)item=item.destroy();this.shapesToDraw=[]}},dispose:function(){var item;for(item in this.disposing=!0,this.clear(),this)delete this[item];this.disposed=!0},hide:function(id){var obj=this._idstore[id];if(obj)return obj.attrs.visibility=HIDDEN,obj.wrapper&&obj.wrapper.hide(),obj},show:function(id){var obj=this._idstore[id];if(obj)return obj.attrs.visibility="",obj.wrapper&&obj.wrapper.show(),obj},update:function(id,key,value){var obj=this._idstore[id],k;if(obj&&key){if("object"==typeof key){for(k in key.id&&delete key.id,key.type&&delete key.type,key)obj.options[(k+"").toLowerCase()]=key[k]+"";return obj.wrapper&&(obj.scale(),obj.setup(),obj.draw()),obj}return obj.options[(key+"").toLowerCase()]=value+"",obj.wrapper&&(obj.scale(),obj.setup(),obj.draw()),obj}},destroy:function(id){var obj=this._idstore[id],group=obj.group;obj&&"function"==typeof obj.destroy&&(group&&group.removeItem(id),obj.destroy())},shapesToDraw:[]}),global.core.addEventListener("beforeinitialize",(function(event){"javascript"===event.sender.options.renderer&&(event.sender.annotations=new Annotations)})),global.core.addEventListener("disposed",(function(event){event.sender.annotations&&event.sender.annotations.dispose()})),global.addEventListener("internal.animationComplete",(function(event){var annotations=event.sender.annotations,queuedShapes=annotations&&annotations.shapesToDraw,queuedShapesLength=queuedShapes&&queuedShapes.length,shape,i;if(queuedShapesLength){for(i=0;i<queuedShapesLength;i++)(shape=queuedShapes[i]).queueDraw=!1,shape.scale(),shape.setup(),shape.draw();annotations.shapesToDraw=[]}})),core.addEventListener("rendered",(function(event,args){if("javascript"===args.renderer){var chartObj=event.sender,vars=chartObj.jsVars||{},hcObj=vars.hcObj,api=vars.instanceAPI;if(!(hcObj&&api&&api.drawAnnotations))return delete chartObj.showAnnotation,void delete chartObj.hideAnnotation;chartObj.showAnnotation||(chartObj.showAnnotation=function(){chartObj.annotations.show.apply(chartObj.annotations,arguments)}),chartObj.hideAnnotation||(chartObj.hideAnnotation=function(){chartObj.annotations.hide.apply(chartObj.annotations,arguments)})}}))}]),FusionCharts.register("module",["private","modules.renderer.js-base",function(){var global=this,lib=global.hcLib,win=global.window,doc=win.document,BLANKSTRING=lib.BLANKSTRING,createTrendLine=lib.createTrendLine,DEFAULT_EXPORT_URL="https:"===win.location.protocol?"https://export.api3.fusioncharts.com/":"http://export.api3.fusioncharts.com/",pluck=lib.pluck,getValidValue=lib.getValidValue,pluckNumber=lib.pluckNumber,getFirstValue=lib.getFirstValue,getDefinedColor=lib.getDefinedColor,parseUnsafeString=lib.parseUnsafeString,FC_CONFIG_STRING=lib.FC_CONFIG_STRING,extend2=lib.extend2,getDashStyle=lib.getDashStyle,parseTooltext=lib.parseTooltext,toPrecision=lib.toPrecision,percentMacro="$percentValue",dropHash=lib.regex.dropHash,HASHSTRING=lib.HASHSTRING,getSentenceCase=lib.getSentenceCase,extend=function(a,b){var n;for(n in a||(a={}),b)a[n]=b[n];return a},addEvent=lib.addEvent,pInt=function(s,mag){return parseInt(s,mag||10)},UNDEFINED,defined=function(obj){return null!=obj},PX="px",math=win.Math,TOUCH_THRESHOLD_PIXELS=lib.TOUCH_THRESHOLD_PIXELS,CLICK_THRESHOLD_PIXELS=lib.CLICK_THRESHOLD_PIXELS,mathMin=math.min,mathMax=math.max,mathAbs=math.abs,mathCeil=math.ceil,mathFloor=math.floor,mathLog=math.log,mathPow=math.pow,mathRound=math.round,getColumnColor=lib.graphics.getColumnColor,getFirstColor=lib.getFirstColor,setLineHeight=lib.setLineHeight,pluckFontSize=lib.pluckFontSize,getFirstAlpha=lib.getFirstAlpha,getDarkColor=lib.graphics.getDarkColor,getLightColor=lib.graphics.getLightColor,convertColor=lib.graphics.convertColor,COLOR_TRANSPARENT=lib.COLOR_TRANSPARENT,POSITION_CENTER=lib.POSITION_CENTER,POSITION_TOP=lib.POSITION_TOP,POSITION_BOTTOM=lib.POSITION_BOTTOM,POSITION_RIGHT=lib.POSITION_RIGHT,POSITION_LEFT=lib.POSITION_LEFT,POSITION_MIDDLE="middle",POSITION_START="start",POSITION_END="end",INT_ZERO=0,ChartAPI=lib.chartAPI,chartAPI=ChartAPI,mapSymbolName=lib.graphics.mapSymbolName,singleSeriesAPI=chartAPI.singleseries,multiSeriesAPI=chartAPI.multiseries,COMMASTRING=lib.COMMASTRING,STRINGUNDEFINED=lib.STRINGUNDEFINED,ZEROSTRING=lib.ZEROSTRING,ONESTRING=lib.ONESTRING,HUNDREDSTRING=lib.HUNDREDSTRING,PXSTRING=lib.PXSTRING,COMMASPACE=lib.COMMASPACE,creditLabel=!1,TEXT_ANCHOR_MAP={left:"start",right:"end",center:"middle"},BLANKSTRINGPLACEHOLDER=lib.BLANKSTRINGPLACEHOLDER,BGRATIOSTRING=lib.BGRATIOSTRING,COLOR_WHITE=lib.COLOR_WHITE,TESTSTR=lib.TESTSTR,getAngle=lib.graphics.getAngle,AxisLabelAdder=lib.axisLabelAdder,falseFN=lib.falseFN,NumberFormatter=lib.NumberFormatter,getLinkAction=lib.getLinkAction,getAxisLimits=lib.getAxisLimits,CreateDialog=lib.createDialog,logOf=function(value,base){return value>0?mathLog(value)/mathLog(base||10):null},hasTouch=lib.hasTouch=void 0!==doc.documentElement.ontouchstart,fireEvent=lib.fireEvent=function(el,type,eventArguments,defaultFunction){lib.dem.fire(el,type,eventArguments,defaultFunction)},styleValueMap={fontWeight:{1:"bold",0:"normal"},fontStyle:{1:"italic",0:"normal"},textDecoration:{1:"underline",0:"none"}},fontStyleMap={font:function(value,obj){obj.style.fontFamily=value},size:function(value,obj){value&&(obj.style.fontSize=pluckFontSize(value)+PXSTRING)},color:function(value,obj,isDataValues){obj.style.color=value&&value.replace&&value.replace(dropHash,HASHSTRING)||BLANKSTRING,isDataValues&&(obj.color=obj.style.color)},bgcolor:function(value,obj){obj.style.backgroundColor=value&&value.replace&&value.replace(dropHash,HASHSTRING)||BLANKSTRING},bordercolor:function(value,obj){obj.style.border="1px solid",obj.style.borderColor=value&&value.replace&&value.replace(dropHash,HASHSTRING)||BLANKSTRING},ishtml:BLANKSTRING,leftmargin:function(value,obj){obj.style.marginLeft=pluckNumber(value,0)+PXSTRING},letterspacing:function(value,obj){obj.style.letterSpacing=pluckNumber(value,0)+PXSTRING},bold:function(value,obj){obj.style.fontWeight=styleValueMap.fontWeight[value]||""},italic:function(value,obj){obj.style.fontStyle=styleValueMap.fontStyle[value]||""},underline:function(value,obj){obj.style.textDecoration=styleValueMap.textDecoration[value]||""}},chartPaletteStr=lib.chartPaletteStr={chart2D:{bgColor:"bgColor",bgAlpha:"bgAlpha",bgAngle:"bgAngle",bgRatio:"bgRatio",canvasBgColor:"canvasBgColor",canvasBaseColor:"canvasBaseColor",divLineColor:"divLineColor",legendBgColor:"legendBgColor",legendBorderColor:"legendBorderColor",toolTipbgColor:"toolTipbgColor",toolTipBorderColor:"toolTipBorderColor",baseFontColor:"baseFontColor",anchorBgColor:"anchorBgColor"},chart3D:{bgColor:"bgColor3D",bgAlpha:"bgAlpha3D",bgAngle:"bgAngle3D",bgRatio:"bgRatio3D",canvasBgColor:"canvasBgColor3D",canvasBaseColor:"canvasBaseColor3D",divLineColor:"divLineColor3D",divLineAlpha:"divLineAlpha3D",legendBgColor:"legendBgColor3D",legendBorderColor:"legendBorderColor3D",toolTipbgColor:"toolTipbgColor3D",toolTipBorderColor:"toolTipBorderColor3D",baseFontColor:"baseFontColor3D",anchorBgColor:"anchorBgColor3D"}},handleContainerResize=(store={},trackResize=function(){var item,itemObj,itemVar,parentEle,count=0,ref,s,offW,INTERVALMS=parseInt(global.core.options.resizeTrackingInterval,10)||300,offH;for(item in store)count+=1,itemVar=(itemObj=store[item]).jsVars,ref=itemObj.ref,!itemObj.disposed&&(parentEle=ref&&ref.parentNode)&&(s=ref.style)&&(/\%/g.test(s.width)||/\%/g.test(s.height))?(offW=parentEle.offsetWidth,offH=parentEle.offsetHeight,!itemVar.resizeLocked&&(offW&&itemVar._containerOffsetW!==offW||offH&&itemVar._containerOffsetH!==offH)&&(itemObj.resizeTo&&itemObj.resizeTo(),itemVar._containerOffsetW=offW,itemVar._containerOffsetH=offH)):(delete store[item],count-=1);intervalId=count?setTimeout(trackResize,INTERVALMS):clearTimeout(intervalId)},function(sender,container){var vars=sender.jsVars,element=container||sender.ref&&sender.ref.parentNode||{};vars._containerOffsetW=element.parentNode.offsetWidth,vars._containerOffsetH=element.parentNode.offsetHeight,store[sender.id]=sender,intervalId||(intervalId=setTimeout(trackResize,parseInt(global.core.options.resizeTrackingInterval,10)||300))}),privateAPIMethods={getExternalInterfaceMethods:function(){var vars=this.jsVars,api=chartAPI[vars.type],eiMethods=api&&api.eiMethods,eiMethodString="saveAsImage,print,exportChart,getXML,hasRendered,signature,cancelExport,getSVGString,lockResize,showChartMessage,",method;if("string"==typeof eiMethods)eiMethodString+=eiMethods+COMMASTRING;else if(void 0!==eiMethods||null!==eiMethods)for(method in eiMethods)eiMethodString+=method+COMMASTRING;return eiMethodString.substr(0,eiMethodString.length-1)},drawOverlayButton:function(args){var vars=this.jsVars,backBtn=vars.overlayButton,cssObj,item,text;if(args&&args.show){for(backBtn||(backBtn=vars.overlayButton=doc.createElement("span"),lib.dem.listen(backBtn,"click",(function(){global.raiseEvent("OverlayButtonClick",args,vars.fcObj)}))),text=args.message?args.message:"Back";backBtn.firstChild;)backBtn.removeChild(backBtn.firstChild);for(item in backBtn.appendChild(doc.createTextNode(text)),vars.overlayButtonMessage=text,cssObj={border:"1px solid "+(args.borderColor?args.borderColor.replace(dropHash,HASHSTRING):"#7f8975"),backgroundColor:args.bgColor?args.bgColor.replace(dropHash,HASHSTRING):"#edefec",fontFamily:args.font?args.font:"Verdana,sans",color:(args.fontColor,args.fontColor),fontSize:(args.fontSize?args.fontSize:"10")+PXSTRING,padding:(args.padding?args.padding:"3")+PXSTRING,fontWeight:0===parseInt(args.bold,10)?"normal":"bold",position:"absolute",top:"0",right:"0",_cursor:"hand",cursor:"pointer"})backBtn.style[item]=cssObj[item];vars.hcObj.container.appendChild(backBtn),vars.overlayButtonActive=!0}else backBtn&&(vars.overlayButton=backBtn.parentNode.removeChild(backBtn),vars.overlayButtonActive=!1,delete vars.overlayButtonMessage)},print:function(options){return this.jsVars.hcObj&&this.jsVars.hcObj.hasRendered&&this.jsVars.hcObj.print(options)},exportChart:function(options){var vars,hcObj=this.jsVars.hcObj;return!!(hcObj&&hcObj.options&&hcObj.options.exporting&&hcObj.options.exporting.enabled)&&hcObj.exportChart(options)},getSVGString:function(){return this.jsVars&&this.jsVars.hcObj&&this.jsVars.hcObj.paper&&this.jsVars.hcObj.paper.toSVG()},resize:function(){var vars=this.jsVars,container=vars.container,hcObj=vars.hcObj;hcObj&&(hcObj&&hcObj.destroy&&hcObj.destroy(),lib.createChart(vars.fcObj,container,vars.type,void 0,void 0,!1,!0),delete vars.isResizing)},lockResize:function(state){return"boolean"!=typeof state?!!this.jsVars.resizeLocked:this.jsVars.resizeLocked=state},showChartMessage:function(text,modal,cancelable){var vars=this.jsVars,hcObj=vars.hcObj;return vars.msgStore[text]&&(text=vars.msgStore[text]),modal&&hcObj&&hcObj.hasRendered?text?hcObj.showMessage(text,cancelable):hcObj.hideLoading():(hcObj&&hcObj.destroy&&hcObj.destroy(),lib.createChart(vars.fcObj,vars.container,vars.type,void 0,text)),text},signature:function(){return"FusionCharts/3.4.0 (XT)"}},hcStub=lib.HCstub=function(fc,width,height,iapi){var chartAttr=fc.chart,borderThickness=pluckNumber(chartAttr.showborder,1)?pluckNumber(chartAttr.borderthickness,1):0,marginTop=pluckNumber(chartAttr.charttopmargin,iapi.charttopmargin,15)+borderThickness,marginRight=pluckNumber(chartAttr.chartrightmargin,iapi.chartrightmargin,15)+borderThickness,marginBottom=pluckNumber(chartAttr.chartbottommargin,iapi.chartbottommargin,15)+borderThickness,marginLeft=pluckNumber(chartAttr.chartleftmargin,iapi.chartleftmargin,15)+borderThickness,verticalMargin=marginTop+marginBottom,horizontalMargin=marginLeft+marginRight,maxVMargin=.7*height,maxHMargin=.7*width,stubHC;return verticalMargin>maxVMargin&&(marginTop-=(verticalMargin-maxVMargin)*marginTop/verticalMargin,marginBottom-=(verticalMargin-maxVMargin)*marginBottom/verticalMargin),horizontalMargin>maxHMargin&&(marginLeft-=(horizontalMargin-maxHMargin)*marginLeft/horizontalMargin,marginRight-=(horizontalMargin-maxHMargin)*marginRight/horizontalMargin),stubHC={_FCconf:{0:{stack:{}},1:{stack:{}},x:{stack:{}},oriCatTmp:[],noWrap:!1,marginLeftExtraSpace:0,marginRightExtraSpace:0,marginBottomExtraSpace:0,marginTopExtraSpace:0,marimekkoTotal:0},chart:{alignTicks:!1,renderTo:BLANKSTRING,ignoreHiddenSeries:!1,events:{},reflow:!1,spacingTop:marginTop,spacingRight:marginRight,spacingBottom:marginBottom,spacingLeft:marginLeft,marginTop:marginTop,marginRight:marginRight,marginBottom:marginBottom,marginLeft:marginLeft,borderRadius:0,plotBackgroundColor:"#FFFFFF",style:{},animation:!!pluckNumber(chartAttr.defaultanimation,chartAttr.animation,1)&&{duration:500*pluckNumber(chartAttr.animationduration,1)}},colors:["AFD8F8","F6BD0F","8BBA00","FF8E46","008E8E","D64646","8E468E","588526","B3AA00","008ED6","9D080D","A186BE","CC6600","FDC689","ABA000","F26D7D","FFF200","0054A6","F7941C","CC3300","006600","663300","6DCFF6"],credits:{href:lib.CREDIT_HREF,text:lib.CREDIT_STRING,enabled:!1},global:{},labels:{items:[]},lang:{},legend:{enabled:!0,symbolWidth:12,borderRadius:1,backgroundColor:"#FFFFFF",initialItemX:0,title:{text:BLANKSTRING,x:0,y:0,padding:2},scroll:{},itemStyle:{}},loading:{},plotOptions:{series:{pointPadding:0,borderColor:"#333333",events:{},animation:!!pluckNumber(chartAttr.animation,chartAttr.defaultanimation,1)&&{duration:1e3*pluckNumber(chartAttr.animationduration,1)},states:{hover:{enabled:!1},select:{enabled:!1}},dataLabels:{enabled:!0,color:"#555555",style:{},formatter:function(){return this.point.showPercentValues?iapi.numberFormatter.percentValue(this.percentage):this.point.displayValue}},point:{events:{}}},area:{states:{hover:{enabled:!1}},marker:{lineWidth:1,radius:3,states:{hover:{enabled:!1},select:{enabled:!1}}}},radar:{states:{hover:{enabled:!1}},marker:{lineWidth:1,radius:3,states:{hover:{enabled:!1},select:{enabled:!1}}}},areaspline:{states:{hover:{enabled:!1}},marker:{lineWidth:1,radius:3,states:{hover:{enabled:!1},select:{enabled:!1}}}},line:{shadow:!0,states:{hover:{enabled:!1}},marker:{lineWidth:1,radius:3,states:{hover:{enabled:!1},select:{enabled:!1}}}},scatter:{states:{hover:{enabled:!1}},marker:{lineWidth:1,radius:3,states:{hover:{enabled:!1},select:{enabled:!1}}}},bubble:{states:{hover:{enabled:!1}},marker:{lineWidth:1,radius:3,states:{hover:{enabled:!1},select:{enabled:!1}}}},spline:{states:{hover:{enabled:!1}},marker:{lineWidth:1,radius:3,states:{hover:{enabled:!1},select:{enabled:!1}}}},pie:{size:"80%",allowPointSelect:!0,cursor:"pointer",point:{events:{legendItemClick:chartAttr.interactivelegend===ZEROSTRING?falseFN:function(){this.slice()}}}},pie3d:{size:"80%",allowPointSelect:!0,cursor:"pointer",point:{events:{legendItemClick:chartAttr.interactivelegend===ZEROSTRING?falseFN:function(){this.slice()}}}},column:{},floatedcolumn:{},column3d:{},bar:{},bar3d:{}},point:{},series:[],subtitle:{text:BLANKSTRING,style:{}},symbols:[],title:{text:BLANKSTRING,style:{}},toolbar:{},tooltip:{style:{}},xAxis:{steppedLabels:{style:{}},labels:{x:0,style:{},enabled:!1},lineWidth:0,plotLines:[],plotBands:[],title:{style:{},text:BLANKSTRING},tickWidth:0,scroll:{enabled:!1}},yAxis:[{startOnTick:!1,endOnTick:!1,title:{style:{},text:BLANKSTRING},tickLength:0,labels:{x:0,style:{}},plotBands:[],plotLines:[]},{tickLength:0,gridLineWidth:0,startOnTick:!1,endOnTick:!1,title:{style:{},text:BLANKSTRING},labels:{x:0,style:{},enabled:!1,formatter:function(){return this.value!==BLANKSTRINGPLACEHOLDER?this.value:BLANKSTRING}},opposite:!0,plotBands:[],plotLines:[]}],exporting:{buttons:{exportButton:{},printButton:{enabled:!1}}}},chartAttr.palettecolors&&"string"==typeof chartAttr.palettecolors&&(stubHC.colors=chartAttr.palettecolors.split(/\s*\,\s*/)),iapi.hcJSON=stubHC,stubHC},configureAxis=function(FCChartObj,hcJSON,axisObj,axisConf,showLimits,showDivLineValues,labelsStep,numberFormatter,isSeconderyAxis,isXaxis,mlAxisIndex){var iapi=this,min=axisObj.min,max=axisObj.max,interval=axisObj.tickInterval,numFormatterStr=isXaxis?"xAxis":axisConf.stacking100Percent?"percentValue":"yAxis",lastValue=min,labelIndex=1,gridLineColor=axisObj.gridLineColor,gridLineWidth=axisObj.gridLineWidth,gridLineDashStyle=axisObj.gridLineDashStyle,hasZeroPlane=min<0&&max>0,minOnLimit=0===min,maxOnLimit=0===max,userHidesZeroPlaneValue=0===pluckNumber(axisConf.showzeroplanevalue,FCChartObj.showzeroplanevalue),showZeroPlane=!0,showZeroPlaneValue,defaultZIndex=1,forceDivLines=pluckNumber(FCChartObj.numdivlines,0)>0,axisGridManager=hcJSON[FC_CONFIG_STRING].axisGridManager,colorM=this.colorManager,is3D=this.is3D,forceLimitGridLinesEnabled=pluckNumber(FCChartObj.showaxislimitgridlines,this.showAxisLimitGridLines),showLimitGridLines=pluckNumber(forceLimitGridLinesEnabled,is3D||hcJSON.chart.plotBorderWidth?0:1),inversedAxis=this.inversed,xAxisObj=hcJSON.xAxis,value,zeroPlaneWidth,zeroPlaneColor,zeroPlaneAlpha,zeroPlaneDefaultWidth,text,zeroPlaneDefaultAlpha,plotLineOptions;for(mlAxisIndex=pluckNumber(mlAxisIndex,isSeconderyAxis?1:0),delete axisObj._altGrid,delete axisObj._lastValue,isXaxis&&!axisConf.catOccupied&&(axisConf.catOccupied={}),!hasZeroPlane||isXaxis&&axisConf.catOccupied[0]||(isXaxis?(showZeroPlane=pluckNumber(FCChartObj.showvzeroplane,1),showZeroPlaneValue=pluckNumber(FCChartObj.showvzeroplanevalue,showDivLineValues),zeroPlaneWidth=pluckNumber(FCChartObj.vzeroplanethickness,1),zeroPlaneAlpha=pluck(FCChartObj.vzeroplanealpha,FCChartObj.vdivlinealpha,colorM.getColor("divLineAlpha")),zeroPlaneColor=zeroPlaneWidth>0?convertColor(pluck(FCChartObj.vzeroplanecolor,gridLineColor),zeroPlaneAlpha):COLOR_TRANSPARENT):(zeroPlaneDefaultAlpha=pluckNumber(FCChartObj.divlinealpha,colorM.getColor("divLineAlpha")),showZeroPlaneValue=pluckNumber(axisConf.showzeroplanevalue,FCChartObj.showzeroplanevalue,showDivLineValues),!1===this.defaultZeroPlaneHighlighted?(showZeroPlane=pluckNumber(axisConf.showzeroplane,FCChartObj.showzeroplane,!(this.defaultZeroPlaneHidden&&!forceDivLines)),zeroPlaneDefaultWidth=gridLineWidth):(zeroPlaneDefaultWidth=1===gridLineWidth?2:gridLineWidth,defaultZIndex=5,zeroPlaneDefaultAlpha=mathMin(2*zeroPlaneDefaultAlpha,100)),zeroPlaneWidth=pluckNumber(axisConf.zeroplanethickness,FCChartObj.zeroplanethickness,zeroPlaneDefaultWidth),zeroPlaneAlpha=pluck(axisConf.zeroplanealpha,FCChartObj.zeroplanealpha,zeroPlaneDefaultAlpha),zeroPlaneColor=zeroPlaneWidth>0?convertColor(pluck(axisConf.zeroplanecolor,FCChartObj.zeroplanecolor,gridLineColor),zeroPlaneAlpha):COLOR_TRANSPARENT),showZeroPlane&&(text=showZeroPlaneValue?numberFormatter[numFormatterStr](0,mlAxisIndex):BLANKSTRING,(plotLineOptions=axisGridManager.addAxisGridLine(axisObj,0,text,zeroPlaneWidth,gridLineDashStyle,zeroPlaneColor,defaultZIndex,isXaxis))&&(plotLineOptions.isZeroPlane=!0)),axisObj.effectiveZeroPlaneThickness=showZeroPlane&&parseInt(zeroPlaneAlpha,10)&&zeroPlaneWidth),isXaxis&&axisConf.catOccupied[min]||(text=!showLimits||minOnLimit&&userHidesZeroPlaneValue?BLANKSTRING:numberFormatter[numFormatterStr](min,mlAxisIndex),(plotLineOptions=forceLimitGridLinesEnabled||showLimitGridLines&&(inversedAxis||!xAxisObj.showLine)?axisGridManager.addAxisGridLine(axisObj,min,text,gridLineWidth,gridLineDashStyle,gridLineColor||COLOR_TRANSPARENT,2,isXaxis):axisGridManager.addAxisGridLine(axisObj,min,text,.1,void 0,COLOR_TRANSPARENT,2,isXaxis))&&(plotLineOptions.isMinLabel=!0)),gridLineWidth<=0&&(gridLineWidth=.1,gridLineColor=COLOR_TRANSPARENT),value=Number(toPrecision(lastValue+interval,10));value<max;value=Number(toPrecision(value+interval,10)),labelIndex+=1)hasZeroPlane&&lastValue<0&&value>0&&!isSeconderyAxis&&(axisGridManager.addAxisAltGrid(axisObj,0),labelIndex+=1),0===value||isXaxis&&axisConf.catOccupied[value]||(text=1===showDivLineValues&&labelIndex%labelsStep==0?numberFormatter[numFormatterStr](value,mlAxisIndex):BLANKSTRING,axisGridManager.addAxisGridLine(axisObj,value,text,gridLineWidth,gridLineDashStyle,gridLineColor,2,isXaxis)),lastValue=value,isSeconderyAxis||axisGridManager.addAxisAltGrid(axisObj,value);isSeconderyAxis||axisGridManager.addAxisAltGrid(axisObj,max),labelIndex%labelsStep!=0||isXaxis&&axisConf.catOccupied[max]||(text=!showLimits||maxOnLimit&&userHidesZeroPlaneValue?BLANKSTRING:numberFormatter[numFormatterStr](max,mlAxisIndex),(plotLineOptions=forceLimitGridLinesEnabled||showLimitGridLines&&(!inversedAxis||!xAxisObj.showLine)?axisGridManager.addAxisGridLine(axisObj,max,text,gridLineWidth,gridLineDashStyle,gridLineColor||COLOR_TRANSPARENT,2,isXaxis):axisGridManager.addAxisGridLine(axisObj,max,text,.1,gridLineDashStyle,COLOR_TRANSPARENT,2,isXaxis))&&(plotLineOptions.isMaxLabel=!0)),this.realtimeEnabled&&(axisObj.labels._enabled=axisObj.labels.enabled,axisObj._gridLineWidth=axisObj.gridLineWidth,axisObj._alternateGridColor=axisObj.alternateGridColor),axisObj.labels.enabled=!1,axisObj.gridLineWidth=0,axisObj.alternateGridColor=COLOR_TRANSPARENT,axisObj.plotLines.sort(plotLineSortFN)},yxAxisConfigurer=function(HCObj,FCObj){var conf=HCObj[FC_CONFIG_STRING],xAxisObj=HCObj.xAxis,FCchartObj=FCObj.chart,is3D=HCObj.chart.is3D,yAxisObj,yAxisConf,yAxisMaxValue,yAxisMinValue,stopMaxAtZero,setMinAsZero,setadaptiveymin,numDivLines,adjustDiv,showYAxisValues,showLimits,showDivLineValues,showAxisLines=0,showYAxisLine,showXAxisLine,showSYAxisLine,axisLineColor,xAxisLineColor,yAxisLineColor,sYAxisLineColor,axisLineThickness,xAxisLineThickness,yAxisLineThickness,sYAxisLineThickness,axisLineAlpha,xAxisLineAlpha,yAxisLineAlpha,sYAxisLineAlpha,numberFormatter=this.numberFormatter,syncAxisLimits=pluckNumber(FCchartObj.syncaxislimits,0),yaxisvaluesstep,sAxisMaxValue,sAxisMinValue,sAxisConf,pAxisObj,sMin,sMax;xAxisObj.title.text=parseUnsafeString(FCchartObj.xaxisname),yaxisvaluesstep=(yaxisvaluesstep=pluckNumber(parseInt(FCchartObj.yaxisvaluesstep,10),parseInt(FCchartObj.yaxisvaluestep,10),1))<1?1:yaxisvaluesstep,yAxisObj=HCObj.yAxis[0],yAxisConf=conf[0],conf.isDual?(yAxisMaxValue=numberFormatter.getCleanValue(FCchartObj.pyaxismaxvalue),yAxisMinValue=numberFormatter.getCleanValue(FCchartObj.pyaxisminvalue),yAxisObj.title.text=parseUnsafeString(FCchartObj.pyaxisname),syncAxisLimits&&!yAxisConf.stacking100Percent?(sAxisConf=conf[1],sMax=pluckNumber(sAxisConf.max),sMin=pluckNumber(sAxisConf.min),void 0!==sMax&&void 0!==sMin&&(yAxisConf.min=mathMin(yAxisConf.min,sMin),yAxisConf.max=mathMax(yAxisConf.max,sMax)),sAxisMaxValue=numberFormatter.getCleanValue(FCchartObj.syaxismaxvalue),null!==(sAxisMinValue=numberFormatter.getCleanValue(FCchartObj.syaxisminvalue))&&(yAxisMinValue=null!==yAxisMinValue?mathMin(yAxisMinValue,sAxisMinValue):sAxisMinValue),null!==sAxisMaxValue&&(yAxisMaxValue=null!==yAxisMaxValue?mathMax(yAxisMaxValue,sAxisMaxValue):sAxisMaxValue)):syncAxisLimits=0):(yAxisMaxValue=numberFormatter.getCleanValue(FCchartObj.yaxismaxvalue),yAxisMinValue=numberFormatter.getCleanValue(FCchartObj.yaxisminvalue),yAxisObj.title.text=parseUnsafeString(FCchartObj.yaxisname)),setMinAsZero=stopMaxAtZero=!(setadaptiveymin=pluckNumber(this.isStacked?0:this.setAdaptiveYMin,FCchartObj.setadaptiveymin,this.defSetAdaptiveYMin,0)),numDivLines=pluckNumber(conf.numdivlines,FCchartObj.numdivlines,this.numdivlines,4),adjustDiv=FCchartObj.adjustdiv!==ZEROSTRING,showYAxisValues=pluckNumber(this.showYAxisValues,FCchartObj.showyaxisvalues,FCchartObj.showyaxisvalue,1),showLimits=pluckNumber(FCchartObj.showyaxislimits,FCchartObj.showlimits,showYAxisValues),showDivLineValues=pluckNumber(FCchartObj.showdivlinevalue,FCchartObj.showdivlinevalues,showYAxisValues),is3D||(showAxisLines=pluckNumber(FCchartObj.showaxislines,FCchartObj.drawAxisLines,0),axisLineThickness=pluckNumber(FCchartObj.axislinethickness,1),(axisLineAlpha=pluckNumber(FCchartObj.axislinealpha,100))>100&&(axisLineAlpha=100),axisLineColor=convertColor(pluck(FCchartObj.axislinecolor,"#000000"),axisLineAlpha),showYAxisLine=yAxisObj.showLine=pluckNumber(FCchartObj.showyaxisline,showAxisLines),showXAxisLine=xAxisObj.showLine=pluckNumber(FCchartObj.showxaxisline,showAxisLines),xAxisLineThickness=xAxisObj.lineThickness=pluckNumber(FCchartObj.xaxislinethickness,axisLineThickness),yAxisLineThickness=yAxisObj.lineThickness=pluckNumber(FCchartObj.yaxislinethickness,axisLineThickness),(xAxisLineAlpha=xAxisObj.lineAlpha=pluckNumber(FCchartObj.xaxislinealpha,axisLineAlpha))>100&&(xAxisLineAlpha=xAxisObj.lineAlpha=100),(yAxisLineAlpha=yAxisObj.lineAlpha=pluckNumber(FCchartObj.yaxislinealpha,axisLineAlpha))>100&&(yAxisLineAlpha=yAxisObj.lineAlpha=100),xAxisLineColor=xAxisObj.lineColor=convertColor(pluck(FCchartObj.xaxislinecolor,axisLineColor),xAxisLineAlpha),yAxisLineColor=yAxisObj.lineColor=convertColor(pluck(FCchartObj.yaxislinecolor,axisLineColor),yAxisLineAlpha),HCObj.chart.xAxisLineVisible=showXAxisLine&&!!xAxisLineThickness&&xAxisLineAlpha>0),this.axisMinMaxSetter(yAxisObj,yAxisConf,yAxisMaxValue,yAxisMinValue,stopMaxAtZero,setMinAsZero,numDivLines,adjustDiv),this.configurePlotLines(FCchartObj,HCObj,yAxisObj,yAxisConf,showLimits,showDivLineValues,yaxisvaluesstep,conf.numberFormatter,!1),yAxisObj.reversed&&yAxisObj.min>=0&&(HCObj.plotOptions.series.threshold=yAxisObj.max),conf.isDual&&(yAxisObj=HCObj.yAxis[1],yAxisConf=conf[1],showLimits=pluckNumber(FCchartObj.showsecondarylimits,showLimits),showDivLineValues=pluckNumber(FCchartObj.showdivlinesecondaryvalue,showYAxisValues),syncAxisLimits?(pAxisObj=HCObj.yAxis[0],yAxisObj.min=pAxisObj.min,yAxisObj.max=pAxisObj.max,yAxisObj.tickInterval=pAxisObj.tickInterval,delete yAxisConf.max,delete yAxisConf.min):(yAxisMaxValue=numberFormatter.getCleanValue(FCchartObj.syaxismaxvalue),yAxisMinValue=numberFormatter.getCleanValue(FCchartObj.syaxisminvalue),setMinAsZero=stopMaxAtZero=!(setadaptiveymin=pluckNumber(FCchartObj.setadaptivesymin,setadaptiveymin)),this.axisMinMaxSetter(yAxisObj,yAxisConf,yAxisMaxValue,yAxisMinValue,stopMaxAtZero,setMinAsZero,numDivLines,adjustDiv)),is3D||(showSYAxisLine=yAxisObj.showLine=pluckNumber(FCchartObj.showsyaxisline,showAxisLines),sYAxisLineThickness=yAxisObj.lineThickness=pluckNumber(FCchartObj.syaxislinethickness,axisLineThickness),(sYAxisLineAlpha=yAxisObj.lineAlpha=pluckNumber(FCchartObj.syaxislinealpha,axisLineAlpha))>100&&(sYAxisLineAlpha=100),sYAxisLineColor=yAxisObj.lineColor=convertColor(pluck(FCchartObj.syaxislinecolor,axisLineColor),sYAxisLineAlpha)),this.configurePlotLines(FCchartObj,HCObj,yAxisObj,yAxisConf,showLimits,showDivLineValues,yaxisvaluesstep,conf.numberFormatter,!0),yAxisObj.title.text=parseUnsafeString(FCchartObj.syaxisname))},pointValueWatcher=function(HCObj,value,yAxisIndex,isStacked,index,stackIndex,seriesName){var obj,stackObj,FCconf=HCObj[FC_CONFIG_STRING],oldStackReturn,seriesArr,seriesStackArr,pointIndexObj;if(null!==value)return FCconf[yAxisIndex=pluckNumber(yAxisIndex,0)]||(FCconf[yAxisIndex]={}),obj=FCconf[yAxisIndex],isStacked&&(this.distributedColumns&&(FCconf.marimekkoTotal+=value),stackObj=obj.stack,index=pluckNumber(index,0),stackIndex=pluckNumber(stackIndex,0),stackObj[seriesName=pluck(seriesName,STRINGUNDEFINED)]||(stackObj[seriesName]=[]),(seriesArr=stackObj[seriesName])[stackIndex]||(seriesArr[stackIndex]=[]),(seriesStackArr=seriesArr[stackIndex])[index]||(seriesStackArr[index]={}),pointIndexObj=seriesStackArr[index],value>=0?pointIndexObj.p?(oldStackReturn=pointIndexObj.p,value=pointIndexObj.p+=value):pointIndexObj.p=value:pointIndexObj.n?(oldStackReturn=pointIndexObj.n,value=pointIndexObj.n+=value):pointIndexObj.n=value),obj.max=obj.max>value?obj.max:value,obj.min=obj.min<value?obj.min:value,oldStackReturn},placeVerticalAxis=lib.placeVerticalAxis=function(axisObj,axisConf,hcJSON,fcJSON,axisHeight,maxWidthCanUse,isOnRight,isDual,chartWidth,marginUsed){var conf=hcJSON[FC_CONFIG_STRING],SmartLabel=conf.smartLabel,smartifiedTextObj,titleWidth,titleHeight,titleText,titleLineHeight,titleMinWidth,titleWidthUsed=0,minTextWidth=20,marginRightExtraSpace=conf.marginRightExtraSpace,marginLeftExtraSpace=conf.marginLeftExtraSpace,pSameSideGridText={},pSameSideNonGridText={},pOppSideText={},plotLines=axisObj.plotLines,plotBands=axisObj.plotBands,verticalAxisValuesPadding=axisConf.verticalAxisValuesPadding,fixedValuesPadding=isNaN(axisConf.fixedValuesPadding)?0:axisConf.fixedValuesPadding,flexibleValuesPadding=verticalAxisValuesPadding-fixedValuesPadding,verticalAxisOppValuesPadding=axisConf.verticalAxisValuesPadding,verticalAxisNamePadding=axisConf.verticalAxisNamePadding,verticalAxisNameWidth=axisConf.verticalAxisNameWidth,titleRotation=axisConf.rotateVerticalAxisName&&String(axisConf.rotateVerticalAxisName).toLowerCase(),isTitleRotate="none"!==titleRotation,axisOffset=axisObj.offset?axisObj.offset:0,axisSameSideWidth=0,axisOppSideWidth=0,surplusWidth=0,labelTotal=0,samesideText=0,oppText=0,samesideLabelWidth=0,index,length,lastUsedStyle,labelObj,tempRight,tempLeft,difference,temp,lessPadding,heightCorrection=2,titleCorrection=isOnRight?marginRightExtraSpace+5:marginLeftExtraSpace+4,canvasBorderThickness=mathMax(pluckNumber(hcJSON.chart.plotBorderWidth,1),0),yAxixLineThickNess=axisObj.showLine?axisObj.lineThickness:canvasBorderThickness,analyseAxisElements=function(plotObj,index){var textActualWidth,textWidthWithPadding;plotObj&&plotObj.label&&void 0!==getValidValue(plotObj.label.text)&&((labelObj=plotObj.label).style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),textWidthWithPadding=(textActualWidth=(smartifiedTextObj=SmartLabel.getOriSize(plotObj.label.text)).width)?textActualWidth+2:0,plotObj.isGrid?(pSameSideGridText[index]={width:textActualWidth,height:smartifiedTextObj.height,label:labelObj},labelTotal<=textWidthWithPadding&&(labelTotal=textWidthWithPadding,axisConf.lYLblIdx=index)):plotObj.isTrend&&(isOnRight&&labelObj.textAlign===POSITION_LEFT||labelObj.textAlign===POSITION_RIGHT?(pSameSideNonGridText[index]={width:textActualWidth,height:smartifiedTextObj.height,label:labelObj},samesideText=mathMax(samesideText,textWidthWithPadding)):(pOppSideText[index]={width:textActualWidth,height:smartifiedTextObj.height,label:labelObj},oppText=mathMax(oppText,textWidthWithPadding))))},checkAndReallocateSpace=function(){if(axisOppSideWidth+axisSameSideWidth>maxWidthCanUse){if(difference=axisOppSideWidth+axisSameSideWidth-maxWidthCanUse,axisOppSideWidth){if(verticalAxisOppValuesPadding>=difference)return void(verticalAxisOppValuesPadding-=difference);difference-=verticalAxisOppValuesPadding,verticalAxisOppValuesPadding=0}if(flexibleValuesPadding+verticalAxisNamePadding>=difference)return verticalAxisNamePadding>=difference?void(verticalAxisNamePadding-=difference):(flexibleValuesPadding-=difference-verticalAxisNamePadding,void(verticalAxisNamePadding=0));if(difference-=flexibleValuesPadding+verticalAxisNamePadding,flexibleValuesPadding=0,verticalAxisNamePadding=0,oppText>20)if(samesideText>labelTotal){if(oppText-samesideText>=difference)return void(oppText-=difference);if(samesideText-oppText>=difference)return void(samesideText-=difference);if(samesideText>oppText?(difference-=samesideText-oppText,samesideText=oppText):(difference-=oppText-samesideText,oppText=samesideText),2*(samesideText-labelTotal)>=difference)return oppText-=difference/2,void(samesideText-=difference/2);difference-=2*(samesideText-labelTotal),samesideText=labelTotal,oppText=labelTotal}else{if(oppText-20>=difference)return void(oppText-=difference);difference-=oppText-20,oppText=20}if(samesideText>labelTotal){if(samesideText-labelTotal>=difference)return void(samesideText-=difference);difference-=samesideText-labelTotal,samesideText=labelTotal}if(titleWidthUsed-titleMinWidth>=difference)return void(titleWidthUsed-=difference);if(difference-=titleWidthUsed-titleMinWidth,titleWidthUsed=titleMinWidth,oppText>=difference)return void(oppText=0);if(difference-=oppText,oppText=0,titleWidthUsed>=difference)return void(titleWidthUsed=0);if(difference-=titleWidthUsed,titleWidthUsed=0,labelTotal>=difference)return void(samesideText=labelTotal-=difference)}},renderOppSideText=function(surplusWidth,isBubble){var tempSmartLabel,maxActualWidth=0,workingWidth=isBubble?oppText-2:oppText+surplusWidth-2,index;if(oppText>0){for(index in pOppSideText)labelObj=pOppSideText[index].label,pOppSideText[index].width>workingWidth?(labelObj.style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),tempSmartLabel=SmartLabel.getSmartText(labelObj.text,workingWidth,axisHeight,!0),labelObj.text=tempSmartLabel.text,tempSmartLabel.tooltext&&(labelObj.originalText=tempSmartLabel.tooltext),pOppSideText[index].height=tempSmartLabel.height,maxActualWidth=mathMax(maxActualWidth,tempSmartLabel.width)):maxActualWidth=mathMax(maxActualWidth,pOppSideText[index].width);return isBubble?workingWidth-maxActualWidth+surplusWidth:workingWidth-maxActualWidth}for(index in pOppSideText)pOppSideText[index].label.text=BLANKSTRING;return 0},renderTitle=function(surplusWidth,isBubble){var actualWidth,workingWidth=isBubble?titleWidthUsed:titleWidthUsed+surplusWidth,titleStyle=axisObj.title.style;return titleText=titleText||{},workingWidth>0?(isTitleRotate?(workingWidth<titleText.height&&(SmartLabel.setStyle(titleStyle),titleText=SmartLabel.getSmartText(axisObj.title.text,axisHeight,workingWidth)),actualWidth=titleText.height):(workingWidth<titleText.width&&(SmartLabel.setStyle(titleStyle),titleText=SmartLabel.getSmartText(axisObj.title.text,workingWidth,axisHeight)),actualWidth=titleText.width),axisObj.title._actualWidth=actualWidth,axisObj.title.text=titleText.text,titleText.tooltext&&(axisObj.title.originalText=titleText.tooltext),isBubble?workingWidth-actualWidth+surplusWidth:workingWidth-actualWidth):(axisObj.title.text=BLANKSTRING,0)},renderSameSideText=function(surplusWidth){var tempSmartLabel,maxActualWidth=0,workingWidth=mathMax(labelTotal,samesideText)+surplusWidth-2,index;if(workingWidth>0){for(index in pSameSideGridText)labelObj=pSameSideGridText[index].label,pSameSideGridText[index].width>workingWidth?(labelObj.style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),tempSmartLabel=SmartLabel.getSmartText(labelObj.text,workingWidth,axisHeight,!0),labelObj.text=tempSmartLabel.text,tempSmartLabel.tooltext&&(labelObj.originalText=tempSmartLabel.tooltext),pSameSideGridText[index].height=tempSmartLabel.height,maxActualWidth=mathMax(maxActualWidth,tempSmartLabel.width)):maxActualWidth=mathMax(maxActualWidth,pSameSideGridText[index].width);for(index in pSameSideNonGridText)labelObj=pSameSideNonGridText[index].label,pSameSideNonGridText[index].width>workingWidth?(labelObj.style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),tempSmartLabel=SmartLabel.getSmartText(labelObj.text,workingWidth,axisHeight,!0),labelObj.text=tempSmartLabel.text,tempSmartLabel.tooltext&&(labelObj.originalText=tempSmartLabel.tooltext),pSameSideNonGridText[index].height=tempSmartLabel.height,maxActualWidth=mathMax(maxActualWidth,tempSmartLabel.width)):maxActualWidth=mathMax(maxActualWidth,pSameSideNonGridText[index].width);return workingWidth-maxActualWidth}for(index in pSameSideGridText)pSameSideGridText[index].label.text=BLANKSTRING;for(index in pSameSideNonGridText)pSameSideNonGridText[index].label.text=BLANKSTRING;return 0},setLabelsXY=function(labelContainerObj,x,y){var index;for(index in labelContainerObj)labelContainerObj[index].label.x=x,labelContainerObj[index].label.y=y},maxLabelWidth,mlwp;for(index=0,length=plotBands.length;index<length;index+=1)analyseAxisElements(plotBands[index],index);for(index=0,length=plotLines.length;index<length;index+=1)analyseAxisElements(plotLines[index],index);return axisObj.title&&axisObj.title.text!=BLANKSTRING&&(lastUsedStyle=axisObj.title.style,SmartLabel.setStyle(lastUsedStyle),titleLineHeight=SmartLabel.getOriSize(TESTSTR).height,axisObj.title._originalText=axisObj.title.text,isTitleRotate?(axisObj.title.rotation="cw"===titleRotation?90:270,titleWidth=axisHeight,titleHeight=maxWidthCanUse,titleText=SmartLabel.getSmartText(axisObj.title.text,titleWidth,titleHeight),titleWidthUsed=titleText.height,titleMinWidth=titleLineHeight):(axisObj.title.rotation=0,titleWidth=void 0!==verticalAxisNameWidth?verticalAxisNameWidth:maxWidthCanUse,titleHeight=axisHeight,titleText=SmartLabel.getSmartText(axisObj.title.text,titleWidth,titleHeight),titleWidthUsed=titleText.width,titleMinWidth=20)),oppText>0&&(axisOppSideWidth=oppText+verticalAxisOppValuesPadding),chartWidth&&(mlwp=pluckNumber(fcJSON.chart.maxlabelwidthpercent,0))>=1&&mlwp<=100&&labelTotal>(maxLabelWidth=mlwp*chartWidth/100)&&(labelTotal=maxLabelWidth),axisSameSideWidth=mathMax(samesideText,labelTotal),axisSameSideWidth+=axisSameSideWidth?flexibleValuesPadding+fixedValuesPadding:0,titleWidthUsed>0&&(axisSameSideWidth+=titleWidthUsed+verticalAxisNamePadding+titleCorrection),checkAndReallocateSpace(),surplusWidth=renderTitle(surplusWidth=renderOppSideText(0,!0),!0),surplusWidth=renderTitle(surplusWidth=renderSameSideText(surplusWidth)),lessPadding=axisConf.verticalAxisNamePadding-verticalAxisNamePadding,surplusWidth&&lessPadding&&(surplusWidth>lessPadding?(verticalAxisNamePadding+=lessPadding,surplusWidth-=lessPadding):(verticalAxisNamePadding+=surplusWidth,surplusWidth=0)),lessPadding=axisConf.verticalAxisValuesPadding-(flexibleValuesPadding+fixedValuesPadding),surplusWidth&&lessPadding&&(surplusWidth>lessPadding?(flexibleValuesPadding+=lessPadding,surplusWidth-=lessPadding):(flexibleValuesPadding+=surplusWidth,surplusWidth=0)),lessPadding=axisConf.verticalAxisValuesPadding-verticalAxisOppValuesPadding,surplusWidth&&lessPadding&&(surplusWidth>lessPadding?(verticalAxisOppValuesPadding+=lessPadding,surplusWidth-=lessPadding):(verticalAxisOppValuesPadding+=surplusWidth,surplusWidth=0)),oppText>0&&(axisOppSideWidth=oppText+verticalAxisOppValuesPadding),axisSameSideWidth=mathMax(samesideText,labelTotal),axisSameSideWidth+=axisSameSideWidth?flexibleValuesPadding+fixedValuesPadding:0,titleWidthUsed>0&&(axisSameSideWidth+=titleWidthUsed+verticalAxisNamePadding+titleCorrection),temp=mathMax(samesideText,labelTotal),temp+=temp>0?flexibleValuesPadding+fixedValuesPadding:0,titleWidthUsed>0?(isTitleRotate?titleWidthUsed<titleText.height&&(titleText=SmartLabel.getSmartText(axisObj.title.text,axisHeight,titleWidthUsed)):(titleWidthUsed<titleText.width&&(titleText=SmartLabel.getSmartText(axisObj.title.text,titleWidthUsed,axisHeight)),axisObj.title.y=-(titleText.height-titleLineHeight)/2),axisObj.title.text=titleText.text,titleText.tooltext&&(axisObj.title.originalText=titleText.tooltext),axisObj.title.margin=temp+verticalAxisNamePadding+titleCorrection+(isTitleRotate?titleWidthUsed-titleLineHeight:titleWidthUsed/2)):axisObj.title.text=BLANKSTRING,tempLeft=-(flexibleValuesPadding+fixedValuesPadding+axisOffset+marginLeftExtraSpace+2),tempRight=marginRightExtraSpace+verticalAxisOppValuesPadding+axisOffset+2,samesideLabelWidth=mathMax(samesideText,labelTotal),axisObj.labels.style&&(heightCorrection=.35*parseInt(axisObj.labels.style.fontSize,10)),isOnRight?(oppText>0&&setLabelsXY(pOppSideText,tempLeft,heightCorrection),samesideLabelWidth>0&&(setLabelsXY(pSameSideGridText,tempRight,heightCorrection),setLabelsXY(pSameSideNonGridText,tempRight,heightCorrection))):(oppText>0&&setLabelsXY(pOppSideText,tempRight,heightCorrection),samesideLabelWidth>0&&(setLabelsXY(pSameSideGridText,tempLeft,heightCorrection),setLabelsXY(pSameSideNonGridText,tempLeft,heightCorrection))),axisObj.labels._textY=heightCorrection,axisObj.labels._righttX=tempRight,axisObj.labels._leftX=tempLeft,axisSameSideWidth=axisSameSideWidth||yAxixLineThickNess,axisOppSideWidth=axisOppSideWidth||(isDual?0:canvasBorderThickness),marginUsed?(hcJSON.chart.marginLeft+=isOnRight?axisOppSideWidth:axisSameSideWidth-marginUsed,hcJSON.chart.marginRight+=isOnRight?axisSameSideWidth-marginUsed:axisOppSideWidth):(hcJSON.chart.marginLeft+=isOnRight?axisOppSideWidth:axisSameSideWidth,hcJSON.chart.marginRight+=isOnRight?axisSameSideWidth:axisOppSideWidth),axisOppSideWidth+axisSameSideWidth},titleSpaceManager=lib.titleSpaceManager=function(hcJSON,fcJSON,canvasWidth,allowedHeight){var iapi=this,snapLiterals=this.snapLiterals||(this.snapLiterals={}),fcChartObj=fcJSON.chart,titleText=parseUnsafeString(fcChartObj.caption),subTitleText=parseUnsafeString(fcChartObj.subcaption),captionPadding=pluckNumber(fcChartObj.captionpadding,10),oriCapPadding=captionPadding,conf=hcJSON[FC_CONFIG_STRING],SmartLabel=this.smartLabel||conf.smartLabel,isPaddingReduced=!1,captionObj,subcaptionObj,totalHeight=0,capStyle,subCapStyle,difference=0,extraSpace=0,captionLineHeight=0,subCaptionLineHeight=0,topGutterWidth=5,titleObj=hcJSON.title,subTitleObj=hcJSON.subtitle,canvasBorderThickness=mathMax(pluckNumber(hcJSON.chart.plotBorderWidth,1),0),captionWidth=0,subCaptionWidth=0;return captionPadding<canvasBorderThickness&&(captionPadding=canvasBorderThickness+2),titleText!==BLANKSTRING&&(capStyle=titleObj.style,captionLineHeight=pluckNumber(parseInt(capStyle.fontHeight,10),parseInt(capStyle.lineHeight,10),12)),subTitleText!==BLANKSTRING&&(subCapStyle=subTitleObj.style,subCaptionLineHeight=pluckNumber(parseInt(subCapStyle.fontHeight,10),parseInt(subCapStyle.lineHeight,10),12)),(captionLineHeight>0||subCaptionLineHeight>0)&&((totalHeight=captionLineHeight+subCaptionLineHeight+captionPadding)>allowedHeight?(isPaddingReduced=!0,(difference=totalHeight-allowedHeight)<captionPadding?captionPadding-=difference:(difference-=captionPadding,captionPadding=0,subCaptionLineHeight>difference?(extraSpace=subCaptionLineHeight-difference+10,subCaptionLineHeight=0,subTitleObj._originalText=subTitleObj.text,subTitleObj.text=""):(difference-=subCaptionLineHeight,subCaptionLineHeight=0,captionLineHeight>difference&&(extraSpace=captionLineHeight-difference),captionLineHeight=0,difference=0,titleObj._originalText=titleObj.text,titleObj.text=""))):extraSpace=allowedHeight-totalHeight,captionLineHeight>0&&(SmartLabel.setStyle(capStyle),extraSpace=(captionLineHeight+=extraSpace)-(captionObj=SmartLabel.getSmartText(titleText,canvasWidth,captionLineHeight)).height,titleObj.height=captionLineHeight=captionObj.height,titleObj.text=captionObj.text,captionObj.tooltext&&(titleObj.originalText=captionObj.tooltext),captionWidth=captionObj.width),subCaptionLineHeight>0&&(SmartLabel.setStyle(subCapStyle),extraSpace=(subCaptionLineHeight+=extraSpace)-(subcaptionObj=SmartLabel.getSmartText(subTitleText,canvasWidth,subCaptionLineHeight)).height,subCaptionLineHeight=subcaptionObj.height,subTitleObj.text=subcaptionObj.text,subTitleObj.height=subcaptionObj.height,subcaptionObj.tooltext&&(subTitleObj.originalText=subcaptionObj.tooltext),subCaptionWidth=subcaptionObj.width),isPaddingReduced&&extraSpace>0&&(captionPadding+=mathMin(oriCapPadding-captionPadding,extraSpace)),totalHeight=captionLineHeight+subCaptionLineHeight+captionPadding),totalHeight=totalHeight||canvasBorderThickness,titleObj.isOnTop?(snapLiterals.captionstarty=hcJSON.chart.marginTop,hcJSON.chart.marginTop+=totalHeight):(hcJSON.chart.marginBottom+=totalHeight,snapLiterals.captionstarty=titleObj.y=conf.height-hcJSON.chart.marginBottom+captionPadding,hcJSON.chart.marginTop+=5,totalHeight+=5),titleObj._captionWidth=captionWidth,subTitleObj._subCaptionWidth=subCaptionWidth,titleObj._lineHeight=captionLineHeight,subTitleObj._lineHeight=subCaptionLineHeight,totalHeight},stepYAxisNames=lib.stepYAxisNames=function(canvasHeight,hcJSON,fcJSONChart,axisObj,labelIdx,isBar){for(var i=0,plotLines=axisObj.plotLines,gridLines=[],startIdx,marker,length=axisObj.plotLines.length,plotObj,stepValue,perLabelHeight,testStr="W",SmartLabel=hcJSON[FC_CONFIG_STRING].smartLabel,lineHeight,fontSize=parseFloat(pluckFontSize(fcJSONChart.basefontsize,10)),prevPlot;i<length;i+=1)(plotObj=plotLines[i]).isGrid&&plotObj.label&&plotObj.label.text&&(gridLines.push(plotObj),0===plotObj.value&&(startIdx=gridLines.length-1));if((length=gridLines.length)&&(axisObj.labels.style?SmartLabel.setStyle(axisObj.labels.style):gridLines[0].label&&gridLines[0].label.style&&SmartLabel.setStyle(axisObj.labels.style),lineHeight=SmartLabel.getOriSize("W").height,isBar||(lineHeight+=.4*fontSize),(perLabelHeight=canvasHeight/(length-1))<lineHeight)){for(stepValue=mathMax(1,mathCeil(lineHeight/perLabelHeight)),marker=startIdx,i=startIdx;i<length;i+=1)plotObj=gridLines[i],i===labelIdx&&((i-marker)%stepValue&&prevPlot&&(prevPlot.label.text=""),marker=labelIdx),plotObj&&plotObj.label&&((i-marker)%stepValue?plotObj.label.text=BLANKSTRING:prevPlot=plotObj);for(marker=startIdx,i=startIdx;i>=0;i-=1)plotObj=gridLines[i],i===labelIdx&&((marker-i)%stepValue&&prevPlot&&(prevPlot.label.text=""),marker=labelIdx),plotObj&&plotObj.label&&((marker-i)%stepValue?plotObj.label.text=BLANKSTRING:prevPlot=plotObj)}},placeHorizontalAxis=lib.placeHorizontalAxis=function(axisObj,axisConf,hcJSON,fcJSON,width,maxHeight,minCanWidth){var conf=hcJSON[FC_CONFIG_STRING],FCChartObj=fcJSON&&fcJSON.chart||{},textObj,plotObj,index,titleText,labelObj,lastUsedStyle,minWidth,temp,maxStaggerLines,tempLabelWidth,labelTextWidth,labelTextPadding=4,autoWrapLimit,rotation=0,titleHeightUsed=0,labelHeight=10,stepValue=1,labelY=0,nameLineHeight=0,catCount=0,testStr="W",titleHeight=0,noWrap=!1,isStagger=!1,isNone=!1,isStepped=pluckNumber(FCChartObj.labelstep,0),minUserWidth=pluckNumber(FCChartObj.xaxisminlabelwidth,0),labelDisplay=axisConf.labelDisplay,rotateLabels=axisConf.rotateLabels,labelPadding=axisConf.horizontalLabelPadding,marginBottomExtraSpace=conf.marginBottomExtraSpace,availableSpaceLeft=hcJSON.chart.marginLeft,availableSpaceRight=hcJSON.chart.marginRight,SmartLabel=conf.smartLabel,setBorderWidth=conf.plotBorderThickness,catLen=axisConf.catCount,slantLabels=axisConf.slantLabels,unitWidth=width/(axisObj.max-axisObj.min),tedendHeight=0,oppTrendHeight=0,labelSize={w:0,h:0},options=fcJSON&&fcJSON.chart||{},refresh=1e3*pluckNumber(options.updateinterval,options.refreshinterval),dataUrl=options.datastreamurl,realtimeEnabled=Boolean(this.realtimeEnabled&&refresh&&void 0!==dataUrl),catLinesArr,lowerThreshold,upperThreshold,newObj,leadingEdge,trailingEdge,nextItem,rem,firstCat,lastCat,nextCat,prevCat,plotPx,len,reductionFactor,gridLineObj,lineIndex,prevCatMap,prevGrid,leftSpace,rightSpace,nextGrid,lastEdge,nextEdge,labelWidth,nextIdx=null,prevIdx=null,difference,reducePadding,totalSpace,axisMin,axisMax,labelEdge,leftModify,rightModify,excessWidth,i,plotLinesArr,plotBandsArr,gridLinesArr=[],nonGridLinesArr=[],chartPlotWidth,firstDifference=0,lastDifference=0,lastGridIndex,gridLinesLen,perCatWidth,canvasLeftSpace,canvasRightSpace,totalDifference,length,xAxisNamePadding=axisConf.horizontalAxisNamePadding,labelSpace=0,staggerLines=axisConf.staggerLines,bottomSpace=tedendHeight,isXYPlot=!1,widthToAdd,padWidth,nCWidth,paddingGiven=!1,setSuccessiveCategoryWidths,plotRight,plotLeft,nextPlot,labelX,trendTextY,yShipment,perLabelH,perLabelW,xShipment,adjustedPx,aoppTrendHeight,atedendHeight,textAlign;switch(axisObj.labels.style&&(lastUsedStyle=axisObj.labels.style,SmartLabel.setStyle(lastUsedStyle),temp=SmartLabel.getOriSize("W"),labelHeight=SmartLabel.lineHeight,minWidth=temp.width+4,autoWrapLimit=SmartLabel.getOriSize("WWW").width+4),axisObj.title&&axisObj.title.text!=BLANKSTRING&&(lastUsedStyle=axisObj.title.style,SmartLabel.setStyle(lastUsedStyle),nameLineHeight=SmartLabel.getOriSize("W").height,axisObj.title.rotation=0,titleHeightUsed=(titleText=SmartLabel.getSmartText(axisObj.title.text,width,maxHeight)).height),availableSpaceLeft!=parseInt(FCChartObj.chartleftmargin,10)&&(leftModify=!0),availableSpaceRight!=parseInt(FCChartObj.chartrightmargin,10)&&(rightModify=!0),void 0!==FCChartObj.canvaspadding&&""!==FCChartObj.canvaspadding&&(paddingGiven=!0),excessWidth=width-minCanWidth,labelDisplay){case"none":isNone=!0,noWrap=!0,rotateLabels&&(rotation=slantLabels?300:270,temp=labelHeight,labelHeight=minWidth,minWidth=temp);break;case"rotate":rotation=slantLabels?300:270,temp=labelHeight,labelHeight=minWidth,minWidth=temp,noWrap=!0;break;case"stagger":noWrap=!0,isStagger=!0,(maxStaggerLines=mathFloor((maxHeight-nameLineHeight)/labelHeight))<staggerLines&&(staggerLines=maxStaggerLines);break;default:rotateLabels&&(rotation=slantLabels?300:270,temp=labelHeight,labelHeight=minWidth,minWidth=temp)}if(conf.isBar&&(noWrap=!0),i=0,plotLinesArr=axisObj.plotLines,typeof hcJSON._FCconf.isXYPlot!==STRINGUNDEFINED||conf.isBar){for(catLinesArr={},leadingEdge=0,trailingEdge=0,firstCat=null,lastCat=null,prevCatMap={},isXYPlot=!0,unitWidth=width/(axisObj.max-axisObj.min),setSuccessiveCategoryWidths=function(categoryObj1,categoryObj2,isStrict){var px1,le1,te2,px2,labelWidth1,labelWidth2,edgeDiff,plotDiff,plotObj1,plotObj2;if(plotObj1=categoryObj1.plotObj,(labelWidth1=categoryObj1.labelTextWidth)||((labelObj=plotObj1.label).style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),labelWidth1=SmartLabel.getOriSize(labelObj.text).width+4,categoryObj1.oriWidth=labelWidth1,labelWidth1>lowerThreshold&&(labelWidth1=lowerThreshold),categoryObj1.labelTextWidth=labelWidth1,categoryObj1.leftEdge=plotObj1.value*unitWidth-labelWidth1/2,categoryObj1.rightEdge=plotObj1.value*unitWidth+labelWidth1/2,isStrict&&(labelWidth1=mathMin(labelWidth1,(plotObj.value-axisObj.min)*unitWidth*2+hcJSON.chart.marginLeft),categoryObj1.labelTextWidth=labelWidth1)),typeof categoryObj2!==STRINGUNDEFINED){if(plotObj2=categoryObj2.plotObj,(labelObj=plotObj2.label).style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),categoryObj2.oriWidth?labelWidth2=categoryObj2.oriWidth:(labelWidth2=SmartLabel.getOriSize(labelObj.text).width+4,categoryObj2.oriWidth=labelWidth2),labelWidth2>lowerThreshold&&(labelWidth2=lowerThreshold),categoryObj2.labelTextWidth=labelWidth2,categoryObj2.leftEdge=plotObj2.value*unitWidth-labelWidth2/2,categoryObj2.rightEdge=plotObj2.value*unitWidth+labelWidth2/2,le1=(px1=plotObj1.value*unitWidth)+labelWidth1/2,(te2=(px2=plotObj2.value*unitWidth)-labelWidth2/2)<le1){if(!(px1+minWidth<px2-minWidth))return categoryObj2.labelTextWidth=0,plotObj2.label.text=BLANKSTRING,!1;edgeDiff=le1-te2,plotDiff=px2-px1,categoryObj1.labelTextWidth=edgeDiff>plotDiff?mathMin(labelWidth1,plotDiff):mathMax(minWidth,labelWidth1-edgeDiff/2),categoryObj2.labelTextWidth=2*(plotDiff-categoryObj1.labelTextWidth/2),categoryObj1.leftEdge=plotObj1.value*unitWidth-categoryObj1.labelTextWidth/2,categoryObj1.rightEdge=plotObj1.value*unitWidth+categoryObj1.labelTextWidth/2,categoryObj2.leftEdge=plotObj2.value*unitWidth-categoryObj2.labelTextWidth/2,categoryObj2.rightEdge=plotObj2.value*unitWidth+categoryObj2.labelTextWidth/2}}else isStrict&&(labelWidth1=mathMin(labelWidth1,(axisObj.max-plotObj.value)*unitWidth*2+hcJSON.chart.marginRight),categoryObj1.labelTextWidth=labelWidth1,categoryObj1.leftEdge=plotObj1.value*unitWidth-labelWidth1/2,categoryObj1.rightEdge=plotObj1.value*unitWidth+labelWidth1/2);return categoryObj1.nextCat=categoryObj2,!0},isStagger?staggerLines>gridLinesLen?staggerLines=gridLinesLen:staggerLines<2&&(staggerLines=2):staggerLines=1,length=plotLinesArr.length;i<length;i+=1)(plotObj=plotLinesArr[i])&&plotObj.label&&typeof plotObj.label.text!==STRINGUNDEFINED&&(plotObj.isGrid?(newObj={plotObj:plotObj},plotObj.isCat&&(catLinesArr[rem=i%staggerLines]||(catLinesArr[rem]=[]),firstCat?(lastCat=newObj,catLinesArr[rem].push(lastCat)):(firstCat=newObj,lastCat=newObj,catLinesArr[rem].push(firstCat))),gridLinesArr.push(newObj)):plotObj.isTrend&&nonGridLinesArr.push({plotObj:plotObj}));for(i=0,length=(plotBandsArr=axisObj.plotBands).length;i<length;i+=1)(plotObj=plotBandsArr[i])&&plotObj.isTrend&&plotObj.label&&typeof plotObj.label.text!==STRINGUNDEFINED&&nonGridLinesArr.push({plotObj:plotObj});if(gridLinesArr.length)if(isNone||rotation){if(rotation)for(i=0,length=gridLinesArr.length;i<length;i+=1)if((plotObj=gridLinesArr[i].plotObj)&&plotObj.label&&plotObj.label.text){if((labelObj=plotObj.label).style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),i+(index=1)<length)for(nextPlot=gridLinesArr[index+i].plotObj;nextPlot&&(nextPlot.value-plotObj.value)*unitWidth<minWidth;)if(plotObj.isCat){if(nextPlot.label){if(nextPlot.label.text=BLANKSTRING,(index+=1)+i>=length-1)break;nextPlot=plotLinesArr[index+i].plotObj}}else if(nextPlot.isCat){plotObj.label.text=BLANKSTRING,i+=index-1,(labelObj=(plotObj=nextPlot).label).style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle));break}labelSize.w=mathMax(labelSize.w,SmartLabel.getOriSize(labelObj.text).width+4)}}else if(conf.distributedColumns){for(i=0,length=gridLinesArr.length;i<length;i+=1)if(gridLineObj=gridLinesArr[i],lineIndex=i%staggerLines,(plotObj=gridLineObj.plotObj).label&&plotObj.isCat){if(i-staggerLines>=0?lastEdge=(prevCat=gridLinesArr[i-staggerLines]).plotObj.value*unitWidth+prevCat.plotObj._weight*unitWidth/2:(prevCat=null,lastEdge=axisObj.min*unitWidth-availableSpaceLeft),i+staggerLines<length?nextEdge=(nextCat=gridLinesArr[i+staggerLines]).plotObj.value*unitWidth-nextCat.plotObj._weight*unitWidth/2:(nextCat=null,nextEdge=axisObj.max*unitWidth+availableSpaceRight),(labelObj=plotObj.label).style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),plotLeft=(plotPx=plotObj.value*unitWidth)-plotObj._weight*unitWidth/2,plotRight=plotPx+plotObj._weight*unitWidth/2,labelWidth=staggerLines>1?plotRight-plotLeft+mathMin(leftSpace=plotLeft-lastEdge,rightSpace=plotRight+nextEdge):plotRight-plotLeft,(labelObj=plotObj.label).style&&labelObj.style!==lastUsedStyle&&SmartLabel.setStyle(labelObj.style),labelWidth<minWidth&&minWidth<SmartLabel.getOriSize(labelObj.text).width){plotObj.label.text=BLANKSTRING,gridLineObj.labelTextWidth=0;continue}gridLineObj.labelTextWidth=labelWidth,labelWidth=(textObj=SmartLabel.getSmartText(labelObj.text,labelWidth-4,maxHeight,noWrap)).width+4,gridLineObj.labelTextWidth=labelWidth,labelSize.h=mathMax(labelSize.h,textObj.height)}}else{for(index in gridLinesLen=gridLinesArr.length,(chartPlotWidth=(gridLinesArr[lastGridIndex=gridLinesArr.length-1].plotObj.value-gridLinesArr[0].plotObj.value)*unitWidth)?(lowerThreshold=.1*chartPlotWidth,upperThreshold=mathMax(.2*chartPlotWidth,chartPlotWidth/gridLinesLen)):(lowerThreshold=width,upperThreshold=width),catLinesArr)for(i=0,len=catLinesArr[index].length;i<len;){for(nextItem=i+1;!setSuccessiveCategoryWidths(catLinesArr[index][i],catLinesArr[index][nextItem]);)nextItem+=1;i=nextItem}if(firstCat&&(trailingEdge=(firstCat.plotObj.value-axisObj.min)*unitWidth+availableSpaceLeft-firstCat.labelTextWidth/2),plotObj=gridLinesArr[0].plotObj,firstCat&&plotObj===firstCat.plotObj||((labelObj=plotObj.label).style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),labelTextWidth=SmartLabel.getOriSize(labelObj.text).width+4,plotPx=(plotObj.value-axisObj.min)*unitWidth+availableSpaceLeft,firstCat&&(labelTextWidth=(difference=trailingEdge-plotPx)<labelTextWidth&&difference>minWidth/2?2*difference:0),gridLinesArr[0].labelTextWidth=labelTextWidth,labelTextWidth>0&&(temp=plotPx-labelTextWidth/2),temp<trailingEdge&&(trailingEdge=temp)),lastCat&&(labelTextWidth=lastCat.labelTextWidth,leadingEdge=(axisObj.max-lastCat.plotObj.value)*unitWidth+availableSpaceRight-labelTextWidth/2),plotObj=gridLinesArr[lastGridIndex].plotObj,lastCat&&plotObj===lastCat.plotObj||((labelObj=plotObj.label).style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),labelTextWidth=SmartLabel.getOriSize(labelObj.text).width+4,plotPx=(axisObj.max-plotObj.value)*unitWidth+availableSpaceRight,lastCat&&(labelTextWidth=(difference=plotPx-leadingEdge)<labelTextWidth&&difference>minWidth/2?2*difference:0),gridLinesArr[lastGridIndex].labelTextWidth=labelTextWidth,labelTextWidth>0&&(temp=plotPx-labelTextWidth/2),temp<leadingEdge&&(leadingEdge=temp)),(totalDifference=(firstDifference=trailingEdge<0?-trailingEdge:0)+(lastDifference=leadingEdge<0?-leadingEdge:0))>0)for(index in excessWidth>totalDifference?(reductionFactor=(reductionFactor=lastDifference*width/(lastDifference+width))?reductionFactor+4:0,hcJSON.chart.marginRight+=reductionFactor,reductionFactor=(reductionFactor=firstDifference*(width-=reductionFactor)/(firstDifference+width))?reductionFactor+4:0,hcJSON.chart.marginLeft+=reductionFactor,unitWidth=(width-=reductionFactor)/(axisObj.max-axisObj.min)):firstDifference<lastDifference?excessWidth>=lastDifference&&rightModify?(reductionFactor=(reductionFactor=lastDifference*width/(lastDifference+width))?reductionFactor+4:0,hcJSON.chart.marginRight+=reductionFactor,unitWidth=(width-=reductionFactor)/(axisObj.max-axisObj.min)):leftModify&&(reductionFactor=(reductionFactor=firstDifference*width/(firstDifference+width))?reductionFactor+4:0,hcJSON.chart.marginLeft+=reductionFactor,unitWidth=(width-=reductionFactor)/(axisObj.max-axisObj.min)):excessWidth>=firstDifference&&leftModify?(reductionFactor=(reductionFactor=firstDifference*width/(firstDifference+width))?reductionFactor+4:0,hcJSON.chart.marginLeft+=reductionFactor,unitWidth=(width-=reductionFactor)/(axisObj.max-axisObj.min)):rightModify&&(reductionFactor=(reductionFactor=lastDifference*width/(lastDifference+width))?reductionFactor+4:0,hcJSON.chart.marginRight+=reductionFactor,unitWidth=(width-=reductionFactor)/(axisObj.max-axisObj.min)),availableSpaceRight=hcJSON.chart.marginRight,availableSpaceLeft=hcJSON.chart.marginLeft,chartPlotWidth=(gridLinesArr[lastGridIndex].plotObj.value-gridLinesArr[0].plotObj.value)*unitWidth,lowerThreshold=.1*chartPlotWidth,upperThreshold=mathMax(.2*chartPlotWidth,chartPlotWidth/gridLinesLen),catLinesArr){for(i=0,len=catLinesArr[index].length;i<len;){for(nextItem=i+1;!setSuccessiveCategoryWidths(catLinesArr[index][i],catLinesArr[index][nextItem],!0);)nextItem+=1;i=nextItem}index+=1}for(i=0,length=gridLinesArr.length;i<length;i+=1)if(gridLineObj=gridLinesArr[i],lineIndex=i%staggerLines,(plotObj=gridLineObj.plotObj).label)if(plotObj.isCat)gridLineObj.labelTextWidth&&(prevCatMap[lineIndex]=gridLineObj);else{if(nextCat=(prevCat=prevCatMap[lineIndex])?prevCat.nextCat:catLinesArr[lineIndex]?catLinesArr[lineIndex][0]:null,prevGrid=null,i>=staggerLines)for(prevGrid=gridLinesArr[prevIdx=i-staggerLines];!prevGrid.labelTextWidth;){if(!(prevIdx>=staggerLines)){prevGrid=null;break}prevGrid=gridLinesArr[prevIdx-=staggerLines]}if(lastEdge=prevGrid?prevGrid.rightEdge:axisObj.min*unitWidth-availableSpaceLeft,nextEdge=nextCat?nextCat.leftEdge:axisObj.max*unitWidth+availableSpaceRight,(labelObj=plotObj.label).style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),labelTextWidth=SmartLabel.getOriSize(labelObj.text).width+4,labelEdge=plotObj.value*unitWidth-labelTextWidth/2,conf.isBar&&i==length-1&&prevGrid)lastEdge>labelEdge&&(prevGrid.plotObj.label.text=BLANKSTRING,prevGrid.labelTextWidth=0,lastEdge=prevGrid.leftEdge);else if(lastEdge>labelEdge||nextEdge<labelEdge+labelTextWidth){plotObj.label.text=BLANKSTRING,gridLineObj.labelTextWidth=0;continue}if(lastEdge=mathMax(lastEdge,labelEdge),plotPx=plotObj.value*unitWidth,(labelWidth=2*mathMin(plotPx-lastEdge,nextEdge-plotPx)).toFixed&&(labelWidth=labelWidth.toFixed(2)),(labelObj=plotObj.label).style&&labelObj.style!==lastUsedStyle&&SmartLabel.setStyle(labelObj.style),labelWidth<minWidth&&minWidth<SmartLabel.getOriSize(labelObj.text).width){plotObj.label.text=BLANKSTRING,gridLineObj.labelTextWidth=0;continue}gridLineObj.labelTextWidth=labelWidth,labelWidth=(textObj=SmartLabel.getSmartText(labelObj.text,labelWidth-4,maxHeight,noWrap)).width+4,gridLineObj.labelTextWidth=labelWidth,gridLineObj.leftEdge=plotPx-labelWidth/2,gridLineObj.rightEdge=plotPx+labelWidth/2,labelSize.h=mathMax(labelSize.h,textObj.height)}for(nextGrid=null,prevGrid=null,i=0,length=gridLinesArr.length;i<length;i+=1)if(gridLineObj=gridLinesArr[i],lineIndex=i%staggerLines,(plotObj=gridLineObj.plotObj).isCat&&gridLineObj.labelTextWidth){if(nextGrid=null,prevGrid=null,plotPx=plotObj.value*unitWidth,i>=staggerLines)for(prevGrid=gridLinesArr[prevIdx=i-staggerLines];!prevGrid.labelTextWidth;){if(!(prevIdx>staggerLines)){prevGrid=null;break}prevGrid=gridLinesArr[prevIdx-=staggerLines]}if(leftSpace=prevGrid?plotPx-prevGrid.rightEdge:plotPx-axisObj.min*unitWidth+hcJSON.chart.marginLeft,i+staggerLines<length)for(nextGrid=gridLinesArr[nextIdx=i+staggerLines];!nextGrid.labelTextWidth;){if(!(nextIdx+staggerLines<length-1)){nextGrid=null;break}nextGrid=gridLinesArr[nextIdx+=staggerLines]}rightSpace=nextGrid?nextGrid.leftEdge-plotPx:axisObj.max*unitWidth+hcJSON.chart.marginRight-plotPx,(labelWidth=2*mathMin(leftSpace,rightSpace))>upperThreshold&&(labelWidth=upperThreshold),labelWidth>gridLineObj.oriWidth&&(labelWidth=gridLineObj.oriWidth),gridLineObj.labelTextWidth=labelWidth,(labelObj=plotObj.label).style&&labelObj.style!==lastUsedStyle&&SmartLabel.setStyle(labelObj.style),textObj=SmartLabel.getSmartText(labelObj.text,labelWidth-4,maxHeight,noWrap),gridLineObj.labelTextWidth=textObj.width+4,labelSize.h=mathMax(labelSize.h,textObj.height),gridLineObj.rightEdge=plotPx+gridLineObj.labelTextWidth/2}}for(index=0,length=nonGridLinesArr.length;index<length;index+=1)(plotObj=nonGridLinesArr[index].plotObj)&&plotObj.label&&void 0!==getValidValue(plotObj.label.text)&&((labelObj=plotObj.label).style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),textObj=SmartLabel.getOriSize(labelObj.text),labelObj.verticalAlign===POSITION_BOTTOM?tedendHeight=mathMax(tedendHeight,textObj.height):oppTrendHeight=mathMax(oppTrendHeight,textObj.height))}else{for(length=plotLinesArr.length;i<length;i+=1)(plotObj=plotLinesArr[i])&&(plotObj.isGrid?gridLinesArr.push(plotObj):plotObj.isTrend&&nonGridLinesArr.push(plotObj));for(i=0,length=(plotBandsArr=axisObj.plotBands).length;i<length;i+=1)(plotObj=plotBandsArr[i])&&nonGridLinesArr.push(plotObj);if(lastGridIndex=gridLinesArr.length-1,gridLinesLen=gridLinesArr.length,isStagger&&(staggerLines>gridLinesLen?staggerLines=gridLinesLen:staggerLines<2&&(staggerLines=2)),gridLinesLen)for(axisObj.scroll&&axisObj.scroll.viewPortMin&&axisObj.scroll.viewPortMax?(axisMin=axisObj.scroll.viewPortMin,axisMax=axisObj.scroll.viewPortMax,leftModify=!1,rightModify=!1):(axisMin=axisObj.min,axisMax=axisObj.max),perCatWidth=(chartPlotWidth=(gridLinesArr[lastGridIndex].value-gridLinesArr[0].value)*unitWidth)/(catLen-1),canvasLeftSpace=(gridLinesArr[0].value-axisMin)*unitWidth,canvasRightSpace=(axisMax-gridLinesArr[lastGridIndex].value)*unitWidth,"auto"===labelDisplay?perCatWidth<autoWrapLimit&&(rotation=slantLabels?300:270,temp=labelHeight,labelHeight=minWidth,minWidth=temp,noWrap=!0):"stagger"===labelDisplay&&(perCatWidth*=staggerLines),"line"!==this.defaultSeriesType&&("area"===this.defaultSeriesType?conf.drawFullAreaBorder&&(setBorderWidth>canvasLeftSpace&&(axisMin=axisObj.min-=setBorderWidth/(2*unitWidth),canvasLeftSpace+=(gridLinesArr[0].value-axisMin)*unitWidth),setBorderWidth>canvasRightSpace&&(canvasRightSpace+=((axisMax=axisObj.max+=setBorderWidth/(2*unitWidth))-gridLinesArr[lastGridIndex].value)*unitWidth)):(setBorderWidth>canvasLeftSpace&&(axisMin=axisObj.min-=setBorderWidth/(2*unitWidth),canvasLeftSpace+=(gridLinesArr[0].value-axisMin)*unitWidth),setBorderWidth>canvasRightSpace&&(canvasRightSpace+=((axisMax=axisObj.max+=setBorderWidth/(2*unitWidth))-gridLinesArr[lastGridIndex].value)*unitWidth))),minWidth<minUserWidth&&(minWidth=minUserWidth),stepValue=isStagger||isNone?mathMax(1,isStepped):mathMax(1,isStepped,mathCeil(minWidth/perCatWidth)),conf.x&&(conf.x.stepValue=stepValue),perCatWidth*=stepValue,tempLabelWidth=2*(canvasLeftSpace+availableSpaceLeft),(labelObj=plotLinesArr[0].label)&&labelObj.text&&(labelObj.style&&SmartLabel.setStyle(labelObj.style),(labelTextWidth=mathMin(perCatWidth,270===rotation?SmartLabel.getOriSize(labelObj.text).height+4:SmartLabel.getOriSize(labelObj.text).width+4))>tempLabelWidth&&(isNone||(firstDifference=(labelTextWidth-tempLabelWidth)/2),leftModify||(paddingGiven&&(firstDifference=0),widthToAdd=(chartPlotWidth-(nCWidth=(perCatWidth-=firstDifference/(catLen-1))*(catLen-1)))/(unitWidth=perCatWidth),axisMax=axisObj.max+=widthToAdd,axisMin=axisObj.min-=widthToAdd,firstDifference=0,chartPlotWidth=nCWidth,canvasLeftSpace=(gridLinesArr[0].value-axisMin)*unitWidth,canvasRightSpace=(axisMax-gridLinesArr[lastGridIndex].value)*unitWidth))),tempLabelWidth=2*(canvasRightSpace+availableSpaceRight),(labelObj=plotLinesArr[lastGridIndex].label)&&labelObj.text&&(labelObj.style&&SmartLabel.setStyle(labelObj.style),(labelTextWidth=mathMin(perCatWidth,270===rotation?SmartLabel.getOriSize(labelObj.text).height+4:SmartLabel.getOriSize(labelObj.text).width+4))>tempLabelWidth&&(isNone||(lastDifference=(labelTextWidth-tempLabelWidth)/2),rightModify||(paddingGiven&&(lastDifference=0),widthToAdd=(chartPlotWidth-(nCWidth=(perCatWidth-=lastDifference/(catLen-1))*(catLen-1)))/(unitWidth=perCatWidth),lastDifference=0,chartPlotWidth=nCWidth,canvasLeftSpace=(gridLinesArr[0].value-axisMin)*unitWidth,canvasRightSpace=(axisMax-gridLinesArr[lastGridIndex].value)*unitWidth))),(totalDifference=firstDifference+lastDifference)>0&&(excessWidth>totalDifference?(reductionFactor=(reductionFactor=lastDifference*width/(lastDifference+width))?reductionFactor+4:0,hcJSON.chart.marginRight+=reductionFactor,reductionFactor=(reductionFactor=firstDifference*(width-=reductionFactor)/(firstDifference+width))?reductionFactor+4:0,hcJSON.chart.marginLeft+=reductionFactor,unitWidth=(width-=reductionFactor)/(axisObj.max-axisObj.min)):firstDifference<lastDifference?excessWidth>=lastDifference&&rightModify?(reductionFactor=(reductionFactor=lastDifference*width/(lastDifference+width))?reductionFactor+4:0,hcJSON.chart.marginRight+=reductionFactor,unitWidth=(width-=reductionFactor)/(axisObj.max-axisObj.min)):leftModify&&(reductionFactor=(reductionFactor=firstDifference*width/(firstDifference+width))?reductionFactor+4:0,hcJSON.chart.marginLeft+=reductionFactor,unitWidth=(width-=reductionFactor)/(axisObj.max-axisObj.min)):excessWidth>=firstDifference&&leftModify?(reductionFactor=(reductionFactor=firstDifference*width/(firstDifference+width))?reductionFactor+4:0,hcJSON.chart.marginLeft+=reductionFactor,unitWidth=(width-=reductionFactor)/(axisObj.max-axisObj.min)):rightModify&&(reductionFactor=(reductionFactor=lastDifference*width/(lastDifference+width))?reductionFactor+4:0,hcJSON.chart.marginRight+=reductionFactor,unitWidth=(width-=reductionFactor)/(axisObj.max-axisObj.min)),perCatWidth=(chartPlotWidth=(gridLinesArr[lastGridIndex].value-gridLinesArr[0].value)*unitWidth)/(catLen-1),isStagger&&(perCatWidth*=staggerLines),stepValue=isStagger||isNone?mathMax(1,isStepped):mathMax(1,isStepped,mathCeil(rotation?labelHeight/perCatWidth:minWidth/perCatWidth)),conf.x&&(conf.x.stepValue=stepValue),perCatWidth*=stepValue),index=0;index<gridLinesLen;index+=1){if(plotObj=gridLinesArr[index],index%stepValue&&plotObj.label){if(plotObj.stepped=!0,plotObj.label.style=axisObj.steppedLabels.style,!realtimeEnabled)continue}else plotObj.stepped=!1,plotObj.label.style=axisObj.labels.style;plotObj&&plotObj.label&&void 0!==getValidValue(plotObj.label.text)&&((labelObj=plotObj.label).style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),rotation&&isNone?(textObj=SmartLabel.getOriSize(labelObj.text),labelSize.w=mathMax(labelSize.w,textObj.width+4),labelSize.h=mathMax(labelSize.h,textObj.height)):isNone||(textObj=rotation||isStagger?SmartLabel.getOriSize(labelObj.text):SmartLabel.getSmartText(labelObj.text,perCatWidth-4,maxHeight,noWrap),labelSize.w=mathMax(labelSize.w,textObj.width+4),labelSize.h=mathMax(labelSize.h,textObj.height)))}for(index=0,length=nonGridLinesArr.length;index<length;index+=1)(plotObj=nonGridLinesArr[index])&&plotObj.label&&void 0!==getValidValue(plotObj.label.text)&&((labelObj=plotObj.label).style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),textObj=SmartLabel.getOriSize(labelObj.text),labelObj.verticalAlign===POSITION_BOTTOM?tedendHeight=mathMax(tedendHeight,textObj.height):oppTrendHeight=mathMax(oppTrendHeight,textObj.height));axisObj.scroll&&axisObj.scroll.enabled&&!rotation&&!isNone&&(widthToAdd=labelSize.w/2,hcJSON.chart.marginLeft<widthToAdd&&excessWidth>(padWidth=widthToAdd-hcJSON.chart.marginLeft)&&(width-=padWidth,excessWidth-=padWidth,hcJSON.chart.marginLeft+=padWidth),hcJSON.chart.marginRight<widthToAdd&&excessWidth>(padWidth=widthToAdd-hcJSON.chart.marginRight)&&(width-=padWidth,excessWidth-=padWidth,hcJSON.chart.marginRight+=padWidth))}if(isNone?(labelSpace=labelHeight,rotation&&(labelSpace=labelSize.w)):labelSpace=rotation?labelSize.w:isStagger?staggerLines*labelHeight:labelSize.h,labelSpace>0&&(bottomSpace+=labelPadding+labelSpace),titleHeightUsed>0&&(bottomSpace+=titleHeightUsed+xAxisNamePadding),reducePadding=labelPadding-4,temp=0,(totalSpace=oppTrendHeight+bottomSpace+2)>maxHeight&&(xAxisNamePadding>(difference=totalSpace-maxHeight)?(xAxisNamePadding-=difference,difference=0):(difference-=xAxisNamePadding,xAxisNamePadding=0,reducePadding>difference?(reducePadding-=difference,difference=0):(difference-=reducePadding,reducePadding=0),labelPadding=reducePadding+4),oppTrendHeight>difference?(oppTrendHeight-=difference,difference=0):(oppTrendHeight>0&&(difference-=oppTrendHeight,oppTrendHeight=0),difference>0&&(tedendHeight>difference?(tedendHeight-=difference,difference=0):(tedendHeight>0&&(difference-=tedendHeight,tedendHeight=0),difference>0&&((temp=titleHeightUsed-nameLineHeight)>difference?(titleHeightUsed-=difference,difference=0):(titleHeightUsed=nameLineHeight,(difference-=temp)>0&&((temp=labelSpace-labelHeight)>difference?(labelSpace-=difference,difference=0):(labelSpace=labelHeight,(difference-=temp)>0&&(difference-=titleHeightUsed+xAxisNamePadding,titleHeightUsed=0,difference>0&&(difference-=labelSpace,labelSpace=0,difference>0&&(labelPadding-=difference))))))))))),trendTextY=labelSpace+(labelPadding+=marginBottomExtraSpace),xShipment=labelX=conf.is3d?-hcJSON.chart.xDepth:0,adjustedPx=.5*labelHeight,labelY=labelHeight+labelPadding,length=gridLinesArr.length,catCount=0,isXYPlot)if(rotation)for(textAlign=POSITION_RIGHT,yShipment=slantLabels?labelPadding+8:labelPadding+4,length=gridLinesArr.length,index=0;index<length;index+=1)(plotObj=gridLinesArr[index].plotObj)&&plotObj.label&&void 0!==getValidValue(plotObj.label.text)&&((labelObj=plotObj.label).style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),i=1,textObj=SmartLabel.getSmartText(labelObj.text,labelSpace-4,minWidth,noWrap),labelObj.text=textObj.text,textObj.tooltext&&(labelObj.originalText=textObj.tooltext),xShipment=labelX+adjustedPx/2,labelObj.y=yShipment,labelObj.x=xShipment,labelObj.rotation=rotation,labelObj.textAlign=textAlign,catCount+=1);else for(perLabelH=labelSpace,textAlign=POSITION_CENTER,yShipment=labelY,index=0;index<length;index+=stepValue)(plotObj=gridLinesArr[index].plotObj)&&plotObj.label&&void 0!==getValidValue(plotObj.label.text)&&((labelObj=plotObj.label).style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),isNone||(textObj=SmartLabel.getSmartText(labelObj.text,gridLinesArr[index].labelTextWidth-4,perLabelH,noWrap),labelObj.text=textObj.text,textObj.tooltext&&(labelObj.originalText=textObj.tooltext),isStagger&&(yShipment=labelY+catCount%staggerLines*labelHeight)),labelObj.y=yShipment,labelObj.x=xShipment,labelObj.rotation=rotation,labelObj.textAlign=textAlign,catCount+=1);else{for(rotation?(perLabelH=perCatWidth,perLabelW=labelSpace-4,textAlign=POSITION_RIGHT,yShipment=slantLabels?labelPadding+8:labelPadding+4):isStagger?(perLabelH=labelHeight,perLabelW=perCatWidth-4,textAlign=POSITION_CENTER):(perLabelH=labelSpace,perLabelW=perCatWidth-4,textAlign=POSITION_CENTER,yShipment=labelY),index=0;index<length;index+=stepValue)(plotObj=gridLinesArr[index])&&plotObj.label&&void 0!==getValidValue(plotObj.label.text)&&((labelObj=plotObj.label).style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),isNone||(textObj=SmartLabel.getSmartText(labelObj.text,perLabelW,perLabelH,noWrap),labelObj.text=textObj.text,textObj.tooltext&&(labelObj.originalText=textObj.tooltext),isStagger&&(yShipment=labelY+catCount%staggerLines*labelHeight)),rotation&&(xShipment=labelX+adjustedPx),labelObj.y=yShipment,labelObj.x=xShipment,labelObj.rotation=rotation,labelObj.textAlign=textAlign,catCount+=1);axisConf._labelY=labelY,axisConf._labelX=labelX,axisConf._yShipment=yShipment,axisConf._isStagger=isStagger,axisConf._rotation=rotation,axisConf._textAlign=textAlign,axisConf._adjustedPx=adjustedPx,axisConf._staggerLines=staggerLines,axisConf._labelHeight=labelHeight}for(length=nonGridLinesArr.length,aoppTrendHeight=0,atedendHeight=0,index=0;index<length;index+=1)(plotObj=nonGridLinesArr[index].plotObj?nonGridLinesArr[index].plotObj:nonGridLinesArr[index])&&plotObj.label&&void 0!==getValidValue(plotObj.label.text)&&((labelObj=plotObj.label).style&&labelObj.style!==lastUsedStyle&&(lastUsedStyle=labelObj.style,SmartLabel.setStyle(lastUsedStyle)),labelObj.verticalAlign===POSITION_BOTTOM?(textObj=SmartLabel.getSmartText(labelObj.text,width,tedendHeight,!0),atedendHeight=mathMax(atedendHeight,textObj.height),labelObj.text=textObj.text,textObj.tooltext&&(labelObj.originalText=textObj.tooltext),labelObj.y=trendTextY+SmartLabel.getOriSize(labelObj.text).height,labelObj.x=xShipment):(textObj=SmartLabel.getSmartText(labelObj.text,width,oppTrendHeight,!0),aoppTrendHeight=mathMax(aoppTrendHeight,textObj.height),labelObj.text=textObj.text,textObj.tooltext&&(labelObj.originalText=textObj.tooltext),labelObj.y=-(oppTrendHeight-SmartLabel.getOriSize("W").height+labelPadding+2)));if(titleHeightUsed>0&&(SmartLabel.setStyle(axisObj.title.style),titleText=SmartLabel.getSmartText(axisObj.title.text,width,titleHeightUsed),axisObj.title.text=titleText.text,titleText.tooltext&&(axisObj.title.originalText=titleText.tooltext),axisObj.title.margin=trendTextY+atedendHeight+xAxisNamePadding),bottomSpace=atedendHeight,labelSpace>0&&(conf.horizontalAxisHeight=labelPadding+labelSpace-marginBottomExtraSpace,bottomSpace+=conf.horizontalAxisHeight),titleHeightUsed>0&&(bottomSpace+=titleHeight=titleHeightUsed+xAxisNamePadding),bottomSpace=bottomSpace||labelPadding-marginBottomExtraSpace,hcJSON.chart.marginBottom+=bottomSpace,aoppTrendHeight>0&&(hcJSON.chart.marginTop+=aoppTrendHeight,bottomSpace+=aoppTrendHeight),axisObj.opposite)for(axisObj.title.margin-=labelSpace-(titleText&&titleText.height||0)+labelPadding,bottomSpace-=titleHeight,hcJSON.chart.marginTop+=bottomSpace,hcJSON.chart.marginBottom-=bottomSpace,hcJSON.xAxis.opposite=1,length=plotLinesArr.length,i=0;i<length;i+=1)(plotObj=plotLinesArr[i])&&plotObj.isGrid&&(labelObj=plotObj.label)&&void 0!==labelObj.text&&(labelObj.textAlign=POSITION_LEFT,labelObj.y-=yShipment+labelPadding+4);return bottomSpace},configureLegendOptions=lib.configureLegendOptions=function(hcJSON,fcJSONChartObj,isONRight,isPointItem,availableWidth){var legendObj=hcJSON.legend,hcJSONChart=hcJSON.chart,is3d,borderColor,palleteString=hcJSONChart.is3D?chartPaletteStr.chart3D:chartPaletteStr.chart2D,interactiveLegend,borderAlpha,backgroundAlpha,roundEdges=hcJSONChart.useRoundEdges,padding=4,legendHeight,padding2=8,legendScale=pluckNumber(fcJSONChartObj.legendiconscale,1),frontHeight,symbolWidthSpace=(parseInt(legendObj.itemStyle.fontSize,10)||10)+1,colorM=this.colorManager,symbolPadding=3;(legendScale<=0||legendScale>5)&&(legendScale=1),legendObj.padding=4,symbolWidthSpace<=0&&(symbolWidthSpace=1),symbolPadding*=legendScale,(symbolWidthSpace=mathMin(symbolWidthSpace*=legendScale,availableWidth-=8))<=0&&(symbolPadding=symbolWidthSpace=0),legendObj.symbolWidth=symbolWidthSpace,legendObj.symbolPadding=symbolPadding,legendObj.textPadding=4,legendObj.legendHeight=legendHeight=symbolWidthSpace+2*symbolPadding,legendObj.rowHeight=mathMax(parseInt(legendObj.itemStyle.lineHeight,10)||12,legendHeight),isONRight?(legendObj.align=POSITION_RIGHT,legendObj.verticalAlign="middle",legendObj.layout="vertical"):legendObj.x=(hcJSONChart.marginLeft-hcJSONChart.spacingLeft-hcJSONChart.marginRight+hcJSONChart.spacingRight)/2,borderColor=pluck(fcJSONChartObj.legendbordercolor,colorM.getColor(palleteString.legendBorderColor)),borderAlpha=pluckNumber(fcJSONChartObj.legendborderalpha,100),backgroundAlpha=pluckNumber(fcJSONChartObj.legendbgalpha,100),legendObj.backgroundColor=convertColor(pluck(fcJSONChartObj.legendbgcolor,colorM.getColor(palleteString.legendBgColor)),backgroundAlpha),legendObj.borderColor=convertColor(borderColor,borderAlpha),legendObj.borderWidth=pluckNumber(fcJSONChartObj.legendborderthickness,!roundEdges||fcJSONChartObj.legendbordercolor?1:0),legendObj.shadow=Boolean(pluckNumber(fcJSONChartObj.legendshadow,1)),legendObj.symbol3DLighting=Boolean(pluckNumber(fcJSONChartObj.use3dlighting,fcJSONChartObj.useplotgradientcolor,1)),legendObj.shadow&&(legendObj.shadow={enabled:legendObj.shadow,opacity:mathMax(borderAlpha,backgroundAlpha)/100}),legendObj.reversed=Boolean(pluckNumber(fcJSONChartObj.reverselegend,0)-pluckNumber(this.reverseLegend,0)),legendObj.style={padding:4},(interactiveLegend=Boolean(pluckNumber(fcJSONChartObj.interactivelegend,1)))?legendObj.symbolStyle={_cursor:"hand",cursor:"pointer"}:(hcJSON.legend.interactiveLegend=!1,legendObj.itemStyle.cursor="default",legendObj.itemHoverStyle={cursor:"inherit"}),legendObj.borderRadius=pluckNumber(fcJSONChartObj.legendborderradius,roundEdges?3:0),legendObj.legendAllowDrag=Boolean(pluckNumber(fcJSONChartObj.legendallowdrag,0)),legendObj.title.text=parseUnsafeString(getFirstValue(fcJSONChartObj.legendcaption,BLANKSTRING)),legendObj.legendScrollBgColor=getFirstColor(pluck(fcJSONChartObj.legendscrollbgcolor,fcJSONChartObj.scrollcolor,colorM.getColor("altHGridColor"))),legendObj.legendScrollBarColor=pluck(fcJSONChartObj.legendscrollbarcolor,borderColor),legendObj.legendScrollBtnColor=pluck(fcJSONChartObj.legendscrollbtncolor,borderColor)},placeLegendBlockRight=lib.placeLegendBlockRight=function(hcJSON,fcJSON,availableWidth,availableHeight,isPointItem){this.configureLegendOptions(hcJSON,fcJSON.chart,!0,isPointItem,availableWidth);var iapi=this,snapLiterals=this.snapLiterals||(this.snapLiterals={}),i=0,legendData=hcJSON.series,len,item,conf=hcJSON[FC_CONFIG_STRING],SmartLabel=this.smartLabel||conf.smartLabel,chartObj,spacingRight=hcJSON.chart.spacingRight,legendObj=hcJSON.legend,smartText,textWidth,textPadding=legendObj.textPadding,captionPadding=legendObj.title.padding,captionWidth,symbolWidthSpace,symbolPadding,legendHeight=legendObj.symbolWidth+2*legendObj.symbolPadding,allowedMaxHeight=2*availableHeight,textWidthUsed=0,legendPadding=pluckNumber(fcJSON.chart.legendpadding,7),usedWidth=legendPadding+legendObj.borderWidth/2+pluckNumber(fcJSON.chart.canvasborderthickness,1),padding,padding2=2*legendObj.padding,blockDimensions={width:padding2,height:padding2},validLegendItem=!1,itemArr=[],lItem;if(availableWidth-=padding2+legendPadding,isPointItem&&(legendData=legendData&&legendData[0]&&legendData[0].data),typeof legendData===STRINGUNDEFINED||typeof legendData.length===STRINGUNDEFINED)return 0;for(len=legendData.length,i=0;i<len;i+=1)(lItem=legendData[i])&&!1!==lItem.showInLegend&&(lItem.__i=i,itemArr.push(lItem));for(itemArr.sort((function(a,b){return a.legendIndex-b.legendIndex||a.__i-b.__i})),len=itemArr.length,(textWidth=availableWidth-legendHeight-legendPadding-textPadding)<0&&(textWidth=0),SmartLabel.setStyle(legendObj.itemStyle),legendObj.reversed&&itemArr.reverse(),i=0;i<len;i+=1)validLegendItem=!0,(item=itemArr[i])._legendX=0,item._legendY=blockDimensions.height,0===textWidth?(blockDimensions.height+=item._legendH=legendHeight,item.name=BLANKSTRING):(smartText=SmartLabel.getSmartText(item.name,textWidth,allowedMaxHeight),item.name=smartText.text,smartText.tooltext&&(item.originalText=smartText.tooltext),smartText.height<legendHeight&&(item._legendTestY=(legendHeight-smartText.height)/2),blockDimensions.height+=item._legendH=mathMax(smartText.height,legendHeight),textWidthUsed=mathMax(smartText.width,textWidthUsed));return validLegendItem?(legendObj.itemWidth=textWidthUsed+legendHeight+legendPadding+textPadding,legendObj.width=legendObj.itemWidth+padding2,legendObj.title.text!==BLANKSTRING&&(SmartLabel.setStyle(legendObj.title.style),smartText=SmartLabel.getSmartText(legendObj.title.text,availableWidth,allowedMaxHeight),legendObj.title.text=smartText.text,smartText.tooltext&&(legendObj.title.originalText=smartText.tooltext),captionWidth=smartText.width+padding2,legendObj.width<captionWidth&&(legendObj.initialItemX=(captionWidth-legendObj.width)/2,legendObj.width=captionWidth),legendObj.initialItemY=smartText.height+captionPadding,blockDimensions.height+=legendObj.initialItemY),legendObj.height=legendObj.totalHeight=blockDimensions.height,legendObj.height>availableHeight&&(legendObj.height=availableHeight,legendObj.scroll.enabled=!0,legendObj.scroll.flatScrollBars=conf.flatScrollBars,legendObj.scroll.scrollBar3DLighting=conf.scrollBar3DLighting,legendObj.width+=(legendObj.scroll.scrollBarWidth=10)+(legendObj.scroll.scrollBarPadding=2)),snapLiterals.legendstartx=conf.width-spacingRight-legendObj.width,snapLiterals.legendwidth=legendObj.width,snapLiterals.legendendx=snapLiterals.legendstartx+snapLiterals.legendwidth,snapLiterals.legendheight=legendObj.height,usedWidth=mathMin(legendObj.width+usedWidth,availableWidth),hcJSON.chart.marginRight+=usedWidth+legendPadding,usedWidth):(legendObj.enabled=!1,0)},placeLegendBlockBottom=lib.placeLegendBlockBottom=function(hcJSON,fcJSON,availableWidth,availableHeight,isPointItem){this.configureLegendOptions(hcJSON,fcJSON.chart,!1,isPointItem,availableWidth);var iapi=this,snapLiterals=this.snapLiterals||(this.snapLiterals={}),i=0,legendData=hcJSON.series,len,item,conf=hcJSON[FC_CONFIG_STRING],SmartLabel=conf.smartLabel||this.smartLabel,chartObj=hcJSON.chart,spacingBottom=chartObj.spacingBottom,spacingLeft=chartObj.spacingLeft,spacingRight=chartObj.spacingRight,legendObj=hcJSON.legend,smartText,textWidth,textPadding=legendObj.textPadding,captionPadding=legendObj.title.padding,captionWidth,symbolPadding=legendObj.symbolPadding,legendHeight=legendObj.legendHeight,fcJSONChart=fcJSON.chart,legendCaptionHeight=0,allowedMaxHeight=2*availableHeight,rowHeight=legendObj.rowHeight,legendPadding=.05*rowHeight,tempTableStructure=[],minimiseWrappingInLegend=pluckNumber(fcJSONChart.minimisewrappinginlegend,0),legendNumColumns=pluckNumber(parseInt(fcJSONChart.legendnumcolumns,10),0),maxWidth=0,totalWidth=0,totalNumber=0,averageWidth=0,perItemWidth=0,padding,padding2=2*legendObj.padding,usedHeight=pluckNumber(fcJSON.chart.legendpadding,7)+legendObj.borderWidth/2+1,blockDimensions={width:padding2,height:padding2},validLegendItem=!1,lItem,itemArr=[],rowIndex,singleRowLegend=!1,current=0,legendX=0,colIndex,numRows,numberOfCell,j,tempCurrent,nonTextElemWidth,legendLineHeight;if(legendNumColumns<0&&(legendNumColumns=0),availableWidth-=padding2,SmartLabel.setStyle(legendObj.itemStyle),legendLineHeight=SmartLabel.getOriSize(TESTSTR).height,availableHeight-=usedHeight=mathMin(usedHeight,availableHeight-legendLineHeight-8),isPointItem&&(legendData=legendData&&legendData[0]&&legendData[0].data),typeof legendData===STRINGUNDEFINED||typeof legendData.length===STRINGUNDEFINED)return 0;for(len=legendData.length,i=0;i<len;i+=1)(lItem=legendData[i])&&!1!==lItem.showInLegend&&(lItem.__i=i,itemArr.push(lItem));for(itemArr.sort((function(a,b){return a.legendIndex-b.legendIndex||a.__i-b.__i})),len=itemArr.length,SmartLabel.setStyle(legendObj.itemStyle),i=0;i<len;i+=1)validLegendItem=!0,smartText=SmartLabel.getOriSize(itemArr[i].name),maxWidth=mathMax(maxWidth,smartText.width),totalWidth+=smartText.width,totalNumber+=1;if(averageWidth=totalWidth/totalNumber,totalWidth+=(nonTextElemWidth=legendHeight+legendPadding+textPadding+symbolPadding+padding2)*totalNumber,validLegendItem){for(averageWidth+=nonTextElemWidth,maxWidth+=nonTextElemWidth,legendNumColumns>0&&totalNumber<legendNumColumns&&(legendNumColumns=totalNumber),totalWidth<=availableWidth&&(legendNumColumns<=0||legendNumColumns===totalNumber)?(legendNumColumns=totalNumber,perItemWidth=averageWidth=totalWidth/totalNumber,singleRowLegend=!0):legendNumColumns>0&&(perItemWidth=availableWidth/legendNumColumns)>averageWidth?perItemWidth>maxWidth&&(perItemWidth=maxWidth):availableWidth>maxWidth&&(minimiseWrappingInLegend||1.5*averageWidth>maxWidth)?(totalNumber<(legendNumColumns=mathFloor(availableWidth/maxWidth))&&(legendNumColumns=totalNumber),perItemWidth=maxWidth):availableWidth>=2*averageWidth?(totalNumber<(legendNumColumns=mathFloor(availableWidth/averageWidth))&&(legendNumColumns=totalNumber),(perItemWidth=mathFloor(availableWidth/legendNumColumns))>maxWidth&&(perItemWidth=maxWidth)):(legendNumColumns=1,perItemWidth=availableWidth),legendObj.itemWidth=perItemWidth,(textWidth=perItemWidth-nonTextElemWidth)<0&&(symbolPadding=textWidth=textPadding=0),legendObj.symbolPadding=symbolPadding,legendObj.textPadding=textPadding,legendObj.width=perItemWidth*legendNumColumns-legendPadding,legendObj.title.text!==BLANKSTRING&&(SmartLabel.setStyle(legendObj.title.style),smartText=SmartLabel.getSmartText(legendObj.title.text,availableWidth,allowedMaxHeight),legendObj.title.text=smartText.text,smartText.tooltext&&(legendObj.title.originalText=smartText.tooltext),captionWidth=smartText.width+padding2,legendObj.width<captionWidth&&(legendObj.initialItemX=(captionWidth-legendObj.width)/2,legendObj.width=captionWidth),legendObj.initialItemY=legendCaptionHeight=smartText.height+captionPadding),SmartLabel.setStyle(legendObj.itemStyle),legendObj.reversed&&itemArr.reverse(),i=0;i<len;i+=1){if(item=itemArr[i],0===textWidth&&(tempTableStructure[current]=!0,item.name=BLANKSTRING,j=1,rowIndex=parseInt(current/legendNumColumns,10),colIndex=current%legendNumColumns,item._legendX=colIndex*perItemWidth,item._legendY=rowIndex*rowHeight+padding2,item._legendH=j*rowHeight),singleRowLegend)(smartText=SmartLabel.getOriSize(item.name)).height<rowHeight&&(item._legendTestY=(rowHeight-smartText.height)/2),item._legendX=legendX,item._legendY=padding2,item._legendH=rowHeight,legendX+=smartText.width+nonTextElemWidth;else{for(smartText=SmartLabel.getSmartText(item.name,textWidth,allowedMaxHeight),item.name=smartText.text,smartText.tooltext&&(item.originalText=smartText.tooltext);!0===tempTableStructure[current];)current+=1;for(numberOfCell=smartText.height/rowHeight,tempCurrent=current,j=0;j<numberOfCell;j+=1,tempCurrent+=legendNumColumns)tempTableStructure[tempCurrent]=!0;smartText.height<rowHeight&&(item._legendTestY=(rowHeight-smartText.height)/2),rowIndex=parseInt(current/legendNumColumns,10),colIndex=current%legendNumColumns,item._legendX=colIndex*perItemWidth,item._legendY=rowIndex*rowHeight+padding2,item._legendH=j*rowHeight}current+=1}return numRows=singleRowLegend?1:mathCeil(tempTableStructure.length/legendNumColumns),blockDimensions.height+=numRows*rowHeight+legendCaptionHeight,legendObj.height=legendObj.totalHeight=blockDimensions.height,legendObj.rowHeight=rowHeight,legendObj.legendNumColumns=legendNumColumns,legendObj.height>availableHeight&&(legendObj.height=availableHeight,legendObj.scroll.enabled=!0,legendObj.scroll.flatScrollBars=conf.flatScrollBars,legendObj.scroll.scrollBar3DLighting=conf.scrollBar3DLighting,legendObj.width+=(legendObj.scroll.scrollBarWidth=10)+(legendObj.scroll.scrollBarPadding=2)),snapLiterals.legendstartx=spacingLeft+.5*(conf.width-spacingLeft-spacingRight-legendObj.width)+(legendObj.x||0),snapLiterals.legendwidth=legendObj.width,snapLiterals.legendendx=snapLiterals.legendstartx+snapLiterals.legendwidth,snapLiterals.legendstarty=conf.height-spacingBottom-legendObj.height,snapLiterals.legendheight=legendObj.height,snapLiterals.legendendy=snapLiterals.legendstarty+snapLiterals.legendheight,usedHeight+=legendObj.height,hcJSON.chart.marginBottom+=usedHeight,usedHeight}return legendObj.enabled=!1,0},plotLineSortFN=function(a,b){return a.value-b.value},realignVerticalAxisTitle=function(hcJSON,titleObj,maxHeight){var titleText=titleObj._originalText,conf,SmartLabel=hcJSON[FC_CONFIG_STRING].smartLabel;titleObj.rotation?titleObj.text=SmartLabel.getSmartText(titleText,maxHeight,titleObj._actualWidth).text:titleObj.text=SmartLabel.getSmartText(titleText,titleObj._actualWidth,maxHeight).text,titleObj.centerYAxisName=!0},calculateCanvasOverflow=function(hcJSON,edgeOnly){for(var iapi=this,itemArr=this.canvasPaddingModifiers,chartOptions=hcJSON.chart,sl=this.smartLabel,left=0,right=0,leftxs=0,rightxs=0,padding=2,seriesTrav=!1,manageAnchors=!1,manageErrorBars=!1,series,data,i=itemArr&&itemArr.length||0,j,seriesItem,item,dataTrav,manageValues,firstData,lastData;i--;)switch(item=itemArr[i]){case"anchor":seriesTrav=!0,dataTrav=!0,manageAnchors=!0;break;case"anchorlabel":seriesTrav=!0,dataTrav=!0,manageValues=!0;break;case"errorbar":seriesTrav=!0,manageErrorBars=!0}if(seriesTrav&&(j=(series=hcJSON.series)&&series.length||0,edgeOnly))for(;j--;)seriesItem=series[j],dataTrav&&(data=seriesItem&&seriesItem.data||[]).length>1&&(firstData=data[0],lastData=data[data.length-1],manageAnchors&&(left=firstData&&firstData.marker&&firstData.marker.enabled&&(firstData.marker.radius||0)+(firstData.marker.lineWidth||0)||0,right=lastData&&lastData.marker&&lastData.marker.enabled&&(lastData.marker.radius||0)+(lastData.marker.lineWidth||0)||0,leftxs=mathMax(left+2,leftxs),rightxs=mathMax(right+2,rightxs)),manageValues&&(sl.setStyle(hcJSON.plotOptions.series.dataLabels.style),chartOptions.rotateValues?(left=(item=sl.getOriSize(firstData&&firstData.displayValue||BLANKSTRING)).height/2,right=(item=sl.getOriSize(lastData&&lastData.displayValue||BLANKSTRING)).height/2):(left=(item=sl.getOriSize(firstData&&firstData.displayValue||BLANKSTRING)).width/2,right=(item=sl.getOriSize(lastData&&lastData.displayValue||BLANKSTRING)).width/2),leftxs=mathMax(left+2,leftxs),rightxs=mathMax(right+2,rightxs))),manageErrorBars&&(right=left=seriesItem.errorBarWidth/2+seriesItem.errorBarThickness||0,leftxs=mathMax(left+2,leftxs),rightxs=mathMax(right+2,rightxs));return{left:leftxs,right:rightxs}},nonBarXYSpaceManager=function(hcJSON,fcJSON,width,height){var iapi=this,conf=hcJSON[FC_CONFIG_STRING],axisConf,toAddV,isOnRight=!0,titleHeight=0,difference=0,canvasWidth,fcJSONChart=fcJSON.chart,isDual=!1,yAxisNamePadding,yAxisValuesPadding,rotateYAxisName,showPlotBorder,setBorderWidth,canvasBorderThickness,cpObj,hcChartObj=hcJSON.chart,totalOverflow,maxPaddingAllowed,leftFactor,rightFactor,marginLeftExtraSpace=conf.marginLeftExtraSpace,marginTopExtraSpace=conf.marginTopExtraSpace,marginBottomExtraSpace=conf.marginBottomExtraSpace,marginRightExtraSpace=conf.marginRightExtraSpace,workingWidth=width-(marginLeftExtraSpace+marginRightExtraSpace+hcChartObj.marginRight+hcChartObj.marginLeft),workingHeight=height-(marginBottomExtraSpace+hcChartObj.marginBottom+hcChartObj.marginTop),minCanWidth=.3*workingWidth,minCanHeight=.3*workingHeight,avaiableWidth=workingWidth-minCanWidth,avaiableHeight=workingHeight-minCanHeight,drawFullAreaBorder=conf.drawFullAreaBorder=pluckNumber(fcJSONChart.drawfullareaborder,1),legendPos=pluck(fcJSONChart.legendposition,POSITION_BOTTOM).toLowerCase(),xAxixLineThickNess=hcJSON.xAxis.showLine?hcJSON.xAxis.lineThickness:0,yAxixLineThickNess=hcJSON.yAxis[0].showLine?hcJSON.yAxis[0].lineThickness:0,sYAxixLineThickNess=conf.isDual&&hcJSON.yAxis[1].showLine?hcJSON.yAxis[1].lineThickness:0,legendObj,extraWidth,maxHeight;yAxisNamePadding=pluckNumber(fcJSONChart.yaxisnamepadding,5),yAxisValuesPadding=pluckNumber(fcJSONChart.yaxisvaluespadding,fcJSONChart.labelypadding,4),showPlotBorder=pluck(fcJSONChart.showplotborder,conf.is3d?ZEROSTRING:ONESTRING)===ONESTRING,setBorderWidth=conf.plotBorderThickness=showPlotBorder?conf.is3d?1:pluckNumber(fcJSONChart.plotborderthickness,1):0,canvasBorderThickness=mathMax(pluckNumber(hcChartObj.plotBorderWidth,1),0),toAddV=mathMax(canvasBorderThickness,setBorderWidth/2),"area"!==this.defaultSeriesType||drawFullAreaBorder||(toAddV=canvasBorderThickness),yAxisValuesPadding<canvasBorderThickness&&(yAxisValuesPadding=canvasBorderThickness),!conf.isDual&&hcChartObj.marginRight<canvasBorderThickness&&void 0===fcJSONChart.chartrightmargin&&workingWidth>minCanWidth+(difference=canvasBorderThickness-hcJSON.chart.marginRight)&&(avaiableWidth=(workingWidth-=difference)-(minCanWidth=.3*workingWidth)),hcJSON.legend.enabled&&legendPos===POSITION_RIGHT&&(avaiableWidth-=this.placeLegendBlockRight(hcJSON,fcJSON,avaiableWidth/2,workingHeight)),conf.isDual&&(isDual=!0,axisConf=conf[1],isOnRight=hcJSON.yAxis[1].opposite,rotateYAxisName=(rotateYAxisName=pluck(fcJSONChart.rotateyaxisname,isOnRight?"cw":"ccw"))===ZEROSTRING?"none":rotateYAxisName,axisConf.verticalAxisNamePadding=yAxisNamePadding,axisConf.verticalAxisValuesPadding=yAxisValuesPadding+sYAxixLineThickNess,axisConf.rotateVerticalAxisName=rotateYAxisName,axisConf.verticalAxisNameWidth=pluckNumber(fcJSONChart.syaxisnamewidth),avaiableWidth-=placeVerticalAxis(hcJSON.yAxis[1],axisConf,hcJSON,fcJSON,workingHeight,avaiableWidth/2,isOnRight,isDual)),axisConf=conf[0],isOnRight=!isOnRight,rotateYAxisName=(rotateYAxisName=pluck(fcJSONChart.rotateyaxisname,isOnRight?"cw":"ccw"))===ZEROSTRING?"none":rotateYAxisName,axisConf.verticalAxisNamePadding=yAxisNamePadding,axisConf.verticalAxisValuesPadding=yAxisValuesPadding+yAxixLineThickNess,axisConf.rotateVerticalAxisName=rotateYAxisName,axisConf.verticalAxisNameWidth=pluckNumber(isDual?fcJSONChart.pyaxisnamewidth:fcJSONChart.yaxisnamewidth),avaiableWidth-=placeVerticalAxis(hcJSON.yAxis[0],axisConf,hcJSON,fcJSON,workingHeight,avaiableWidth,isOnRight,isDual),canvasWidth=(avaiableWidth-=adjustHorizontalCanvasMargin(hcJSON,fcJSON,avaiableWidth,hcJSON.yAxis[0],hcJSON.yAxis[1]))+minCanWidth,hcJSON.legend.enabled&&legendPos!==POSITION_RIGHT&&(avaiableHeight-=this.placeLegendBlockBottom(hcJSON,fcJSON,canvasWidth,avaiableHeight/2)),avaiableHeight-=titleHeight=this.titleSpaceManager(hcJSON,fcJSON,canvasWidth,avaiableHeight/2),(axisConf=conf.x).horizontalAxisNamePadding=pluckNumber(fcJSONChart.xaxisnamepadding,5),axisConf.horizontalLabelPadding=pluckNumber(fcJSONChart.labelpadding,fcJSONChart.labelxpadding,4)+xAxixLineThickNess,axisConf.labelDisplay=pluck(fcJSONChart.labeldisplay,"auto").toLowerCase(),axisConf.rotateLabels=pluckNumber(fcJSONChart.rotatelabels,fcJSONChart.rotatexaxislabels,0),axisConf.staggerLines=pluckNumber(fcJSONChart.staggerlines,2),axisConf.slantLabels=pluckNumber(fcJSONChart.slantlabels,fcJSONChart.slantlabel,0),hcJSON.yAxis[0].opposite?(hcJSON.xAxis.lineEndExtension=yAxixLineThickNess,hcJSON.xAxis.lineStartExtension=sYAxixLineThickNess):(hcJSON.xAxis.lineEndExtension=sYAxixLineThickNess,hcJSON.xAxis.lineStartExtension=yAxixLineThickNess),axisConf.horizontalLabelPadding<toAddV&&(axisConf.horizontalLabelPadding=toAddV),cpObj={left:0,right:0},(totalOverflow=(cpObj=hcChartObj.managePlotOverflow&&this.canvasPaddingModifiers&&this.calculateCanvasOverflow(hcJSON,!0)||cpObj).left+cpObj.right)>(maxPaddingAllowed=.6*canvasWidth)&&(rightFactor=1-(leftFactor=cpObj.left/totalOverflow),cpObj.left-=leftFactor*(totalOverflow-maxPaddingAllowed),cpObj.right-=rightFactor*(totalOverflow-maxPaddingAllowed)),this.xAxisMinMaxSetter(hcJSON,fcJSON,canvasWidth,cpObj.left,cpObj.right),avaiableHeight-=this.placeHorizontalAxis(hcJSON.xAxis,axisConf,hcJSON,fcJSON,canvasWidth,avaiableHeight,minCanWidth),avaiableHeight-=adjustVerticalCanvasMargin(hcJSON,fcJSON,avaiableHeight,hcJSON.xAxis),hcJSON.title.alignWithCanvas||("left"===hcJSON.title.align&&hcJSON.yAxis[0].title.text&&realignVerticalAxisTitle(hcJSON,hcJSON.yAxis[0].title,minCanHeight+avaiableHeight),"right"===hcJSON.title.align&&isDual&&hcJSON.yAxis[1].title.text&&realignVerticalAxisTitle(hcJSON,hcJSON.yAxis[1].title,minCanHeight+avaiableHeight)),isDual&&(stepYAxisNames(minCanHeight+avaiableHeight,hcJSON,fcJSONChart,hcJSON.yAxis[1],conf[1].lYLblIdx),adjustVerticalAxisTitle(hcJSON,hcJSON.yAxis[1].title,minCanHeight+avaiableHeight)),stepYAxisNames(minCanHeight+avaiableHeight,hcJSON,fcJSONChart,hcJSON.yAxis[0],conf[0].lYLblIdx),adjustVerticalAxisTitle(hcJSON,hcJSON.yAxis[0].title,minCanHeight+avaiableHeight),hcJSON.legend.enabled&&legendPos===POSITION_RIGHT&&(maxHeight=minCanHeight+avaiableHeight,(legendObj=hcJSON.legend).height>maxHeight&&"gradient"!==legendObj.type&&(legendObj.height=maxHeight,legendObj.scroll.enabled=!0,extraWidth=(legendObj.scroll.scrollBarWidth=10)+(legendObj.scroll.scrollBarPadding=2),legendObj.width+=extraWidth,hcChartObj.marginRight+=extraWidth)),hcChartObj.marginLeft+=marginLeftExtraSpace,hcChartObj.marginTop+=marginTopExtraSpace,hcChartObj.marginBottom+=marginBottomExtraSpace,hcChartObj.marginRight+=marginRightExtraSpace},barXYSpaceManager=function(hcJSON,fcJSON,width,height){var iapi=this,conf=hcJSON[FC_CONFIG_STRING],avaiableWidth,avaiableHeight,axisConf,axisObj,titleHeight=0,canvasWidth,fcJSONChart=fcJSON.chart,legendPos,showPlotBorder,setBorderWidth,canvasBorderThickness,toAddH,difference,isDual=!1,verticalAxisNamePadding,verticalAxisValuesPadding,rotateVerticalAxisName,hcChartObj=hcJSON.chart,marginLeftExtraSpace=conf.marginLeftExtraSpace,marginTopExtraSpace=conf.marginTopExtraSpace,marginBottomExtraSpace=conf.marginBottomExtraSpace,marginRightExtraSpace=conf.marginRightExtraSpace,workingWidth=width-(marginLeftExtraSpace+marginRightExtraSpace+hcChartObj.marginRight+hcChartObj.marginLeft),workingHeight=height-(marginBottomExtraSpace+hcChartObj.marginBottom+hcChartObj.marginTop),minCanWidth=.3*workingWidth,minCanHeight=.3*workingHeight,xAxixLineThickNess=hcJSON.xAxis.showLine?hcJSON.xAxis.lineThickness:0,yAxixLineThickNess=hcJSON.yAxis[0].showLine?hcJSON.yAxis[0].lineThickness:0,plotLines,unitHeight,canvasTopSpace,canvasBottomSpace,legendObj,extraWidth,maxHeight;avaiableWidth=workingWidth-minCanWidth,avaiableHeight=workingHeight-minCanHeight,legendPos=pluck(fcJSONChart.legendposition,POSITION_BOTTOM).toLowerCase(),hcJSON.legend.enabled&&legendPos===POSITION_RIGHT&&(avaiableWidth-=this.placeLegendBlockRight(hcJSON,fcJSON,avaiableWidth/2,workingHeight)),verticalAxisNamePadding=pluckNumber(fcJSONChart.xaxisnamepadding,5),verticalAxisValuesPadding=pluckNumber(fcJSONChart.labelpadding,4),rotateVerticalAxisName=(rotateVerticalAxisName=pluck(fcJSONChart.rotatexaxisname,"ccw"))===ZEROSTRING?"none":rotateVerticalAxisName,showPlotBorder=pluck(fcJSONChart.showplotborder,conf.is3d?ZEROSTRING:ONESTRING)===ONESTRING,setBorderWidth=conf.plotBorderThickness=showPlotBorder?conf.is3d?1:pluckNumber(fcJSONChart.plotborderthickness,1):0,canvasBorderThickness=mathMax(pluckNumber(hcChartObj.plotBorderWidth,1),0),!conf.isDual&&hcChartObj.marginRight<canvasBorderThickness&&void 0===fcJSONChart.chartrightmargin&&workingWidth>minCanWidth+(difference=canvasBorderThickness-hcChartObj.marginRight)&&(hcChartObj.marginRight=canvasBorderThickness,avaiableWidth=(workingWidth-=difference)-(minCanWidth=.3*workingWidth)),axisConf=conf.x,verticalAxisValuesPadding<(toAddH=mathMax(canvasBorderThickness,setBorderWidth/2))&&(verticalAxisValuesPadding=toAddH),axisConf.verticalAxisNamePadding=verticalAxisNamePadding,axisConf.verticalAxisValuesPadding=verticalAxisValuesPadding+xAxixLineThickNess,axisConf.rotateVerticalAxisName=rotateVerticalAxisName,axisConf.verticalAxisNameWidth=pluckNumber(fcJSONChart.xaxisnamewidth),avaiableWidth-=placeVerticalAxis(hcJSON.xAxis,axisConf,hcJSON,fcJSON,workingHeight,avaiableWidth,!1,!1,workingWidth),hcJSON.xAxis.lineEndExtension=yAxixLineThickNess,canvasWidth=(avaiableWidth-=adjustHorizontalCanvasMargin(hcJSON,fcJSON,avaiableWidth,hcJSON.xAxis))+minCanWidth,hcJSON.legend.enabled&&legendPos!==POSITION_RIGHT&&(avaiableHeight-=this.placeLegendBlockBottom(hcJSON,fcJSON,canvasWidth,avaiableHeight/2)),avaiableHeight-=titleHeight=this.titleSpaceManager(hcJSON,fcJSON,canvasWidth,avaiableHeight/2),(axisConf=conf[0]).horizontalAxisNamePadding=pluckNumber(fcJSONChart.yaxisnamepadding,5),axisConf.horizontalLabelPadding=mathMax(pluckNumber(fcJSONChart.yaxisvaluespadding,4))+yAxixLineThickNess,axisConf.labelDisplay="auto",axisConf.staggerLines=pluckNumber(fcJSONChart.staggerlines,2),axisConf.slantLabels=pluckNumber(fcJSONChart.slantlabels,0),axisConf.horizontalLabelPadding=axisConf.horizontalLabelPadding<canvasBorderThickness?canvasBorderThickness:axisConf.horizontalLabelPadding,this.xAxisMinMaxSetter(hcJSON,fcJSON,canvasWidth),plotLines=(axisObj=hcJSON.xAxis).plotLines,unitHeight=avaiableHeight/(axisObj.max-axisObj.min),plotLines&&plotLines.length&&(canvasTopSpace=(plotLines[0].value-axisObj.min)*unitHeight,canvasBottomSpace=(axisObj.max-plotLines[plotLines.length-1].value)*unitHeight,conf.isBar&&(setBorderWidth>canvasTopSpace&&(axisObj.min-=(setBorderWidth-canvasTopSpace)/(2*unitHeight)),setBorderWidth>canvasBottomSpace&&(axisObj.max+=(setBorderWidth-canvasBottomSpace)/(2*unitHeight)))),avaiableHeight-=this.placeHorizontalAxis(hcJSON.yAxis[0],axisConf,hcJSON,fcJSON,canvasWidth,avaiableHeight,minCanWidth),avaiableHeight-=adjustVerticalCanvasMargin(hcJSON,fcJSON,avaiableHeight,hcJSON.yAxis[0]),stepYAxisNames(minCanHeight+avaiableHeight,hcJSON,fcJSONChart,hcJSON.xAxis,conf.x.lYLblIdx,!0),adjustVerticalAxisTitle(hcJSON,hcJSON.xAxis.title,avaiableHeight),hcJSON.legend.enabled&&legendPos===POSITION_RIGHT&&(maxHeight=minCanHeight+avaiableHeight,(legendObj=hcJSON.legend).height>maxHeight&&(legendObj.height=maxHeight,legendObj.scroll.enabled=!0,extraWidth=(legendObj.scroll.scrollBarWidth=10)+(legendObj.scroll.scrollBarPadding=2),legendObj.width+=extraWidth,hcChartObj.marginRight+=extraWidth),legendObj.y=20),hcChartObj.marginLeft+=marginLeftExtraSpace,hcChartObj.marginTop+=marginTopExtraSpace,hcChartObj.marginBottom+=marginBottomExtraSpace,hcChartObj.marginRight+=marginRightExtraSpace},adjustVerticalAxisTitle=lib.adjustVerticalAxisTitle=function(hcJSON,titleObj,availableHeight){if(titleObj&&titleObj.text){var titleText=titleObj.text,conf,SmartLabel=hcJSON[FC_CONFIG_STRING].smartLabel,smartTitle,heightMax=2*mathMin(hcJSON.chart.marginTop,hcJSON.chart.marginBottom)+availableHeight,totalHeight=availableHeight+hcJSON.chart.marginTop+hcJSON.chart.marginBottom;titleObj.style&&SmartLabel.setStyle(titleObj.style),smartTitle=SmartLabel.getOriSize(titleText),void 0===titleObj.centerYAxisName&&(titleObj.centerYAxisName=!0),titleObj.rotation?smartTitle.width>heightMax&&(titleObj.y=totalHeight/2-(availableHeight/2+hcJSON.chart.marginTop),titleObj.centerYAxisName=!1):smartTitle.height>heightMax&&(titleObj.y=(totalHeight/2-(availableHeight/2+hcJSON.chart.marginTop))/2,titleObj.centerYAxisName=!1)}},adjustVerticalCanvasMargin=lib.adjustVerticalCanvasMargin=function(hcJSON,fcJSON,avaiableHeight,xAxis){var fcJSONChart=fcJSON.chart,extraMargin=0,topChange=0,bottomChange=0,canvasTopMargin=pluckNumber(fcJSONChart.canvastopmargin,0),canvasBottomMargin=pluckNumber(fcJSONChart.canvasbottommargin,0),totalVerticalMargin,topMarginPercent=canvasTopMargin/(canvasTopMargin+canvasBottomMargin),bottomMarginPercent=1-topMarginPercent,actualTopMargin=hcJSON.chart.marginTop,actualBottomMargin=hcJSON.chart.marginBottom;return canvasBottomMargin>actualBottomMargin&&(extraMargin+=canvasBottomMargin-actualBottomMargin),canvasTopMargin>actualTopMargin&&(extraMargin+=canvasTopMargin-actualTopMargin),extraMargin>avaiableHeight?canvasTopMargin>actualTopMargin&&canvasBottomMargin>actualBottomMargin?(topChange=avaiableHeight*topMarginPercent,bottomChange=avaiableHeight*bottomMarginPercent):canvasTopMargin>actualTopMargin?topChange=avaiableHeight:bottomChange=avaiableHeight:extraMargin>0&&(canvasBottomMargin>actualBottomMargin&&(bottomChange=canvasBottomMargin-actualBottomMargin),canvasTopMargin>actualTopMargin&&(topChange=canvasTopMargin-actualTopMargin)),topChange&&(hcJSON.chart.marginTop+=topChange),bottomChange&&(hcJSON.chart.marginBottom+=bottomChange,xAxis&&xAxis.title&&(xAxis.title.margin+=bottomChange)),topChange+bottomChange},adjustHorizontalCanvasMargin=lib.adjustHorizontalCanvasMargin=function(hcJSON,fcJSON,avaiableWidth,leftYAxis,rightYAxis){var fcJSONChart=fcJSON.chart,canvasLeftMargin=pluckNumber(fcJSONChart.canvasleftmargin,0),canvasRightMargin=pluckNumber(fcJSONChart.canvasrightmargin,0),totalHorizontalMargin,leftMarginPercent=canvasLeftMargin/(canvasLeftMargin+canvasRightMargin),rightMarginPercent=1-leftMarginPercent,extraMargin=0,actualLeftMargin=hcJSON.chart.marginLeft,actualRightMargin=hcJSON.chart.marginRight,leftChange=0,rightChange=0;return canvasLeftMargin>actualLeftMargin&&(extraMargin+=canvasLeftMargin-actualLeftMargin),canvasRightMargin>actualRightMargin&&(extraMargin+=canvasRightMargin-actualRightMargin),extraMargin>avaiableWidth?canvasLeftMargin>actualLeftMargin&&canvasRightMargin>actualRightMargin?(leftChange=avaiableWidth*leftMarginPercent,rightChange=avaiableWidth*rightMarginPercent):canvasRightMargin>actualRightMargin?rightChange=avaiableWidth:leftChange=avaiableWidth:extraMargin>0&&(canvasLeftMargin>actualLeftMargin&&(leftChange=canvasLeftMargin-actualLeftMargin),canvasRightMargin>actualRightMargin&&(rightChange=canvasRightMargin-actualRightMargin)),leftChange&&(hcJSON.chart.marginLeft+=leftChange,leftYAxis&&leftYAxis.title&&(leftYAxis.title.margin+=leftChange)),rightChange&&(hcJSON.chart.marginRight+=rightChange,rightYAxis&&rightYAxis.title&&(rightYAxis.title.margin+=rightChange)),rightChange+leftChange},postSeriesAddition=function(hcObj){var conf=hcObj[FC_CONFIG_STRING],isBar=conf.isBar,is3d=conf.is3d,rotateValues=hcObj.chart.rotateValues&&!isBar?270:0,axisStack=conf[0],stacking100Percent=axisStack&&axisStack.stacking100Percent,plotSpacePercent,defaultSeriesType,seriesType,totalStacks,axisConfStack,groupWidthPercent,perStackWidth,stackIndex,startStackIndex,position,length,catPosition,stackArr,stack,value,seriesArr,stackedDataArr,series,numberFormatter,percentDataValue,seri,i,ln,point,pointValue,labelPosition,style,labelFontSize,labeloffsetScale,labelInsidePlot;if(this.isStacked)for(seriesType in plotSpacePercent=conf.plotSpacePercent,defaultSeriesType=hcObj.chart.defaultSeriesType,groupWidthPercent=1-2*plotSpacePercent,series=hcObj.series,numberFormatter=this.numberFormatter,style=extend2({},hcObj.plotOptions.series.dataLabels.style),labelFontSize=parseFloat(style.fontSize),labelInsidePlot=!axisStack.stacking100Percent,style.color=hcObj.plotOptions.series.dataLabels.color,axisConfStack=axisStack.stack){for(startStackIndex=-(groupWidthPercent-(perStackWidth=groupWidthPercent/(totalStacks=axisConfStack[seriesType].length)))/2,seriesArr=[],i=0,ln=series.length;i<ln;i+=1)(seri=series[i]).yAxis||pluck(seri.type,defaultSeriesType)!==seriesType||seriesArr.push(seri);for(stackIndex=0;stackIndex<totalStacks;stackIndex+=1,startStackIndex+=perStackWidth){for(stackArr=axisConfStack[seriesType][stackIndex],stackedDataArr=[],i=0,ln=seriesArr.length;i<ln;i+=1)seri=seriesArr[i],pluckNumber(seri.columnPosition,0)===stackIndex&&stackedDataArr.push(seri.data);if(stackArr&&stackArr.length)for(catPosition=0,length=stackArr.length;catPosition<length;catPosition+=1)if(stack=stackArr[catPosition])for(value=(stack.n||0)+(stack.p||0),conf.showStackTotal&&(labelPosition=(position=catPosition)+startStackIndex,labeloffsetScale=value<0?stack.n:stack.p,hcObj.xAxis.plotLines.push({value:labelPosition,width:0,isVline:labelInsidePlot,isTrend:!labelInsidePlot,zIndex:4,_isStackSum:1,_catPosition:catPosition,_stackIndex:stackIndex,label:{align:POSITION_CENTER,textAlign:is3d||270!==rotateValues?isBar?value<0?POSITION_RIGHT:POSITION_LEFT:POSITION_CENTER:value<0?POSITION_RIGHT:POSITION_LEFT,offsetScale:labelInsidePlot?labeloffsetScale:void 0,offsetScaleIndex:0,rotation:rotateValues,style:style,verticalAlign:POSITION_TOP,y:isBar?0:value<0?270===rotateValues?4:labelFontSize:-4,x:0,text:conf.numberFormatter.yAxis(value)}})),i=0,ln=stackedDataArr.length;i<ln;i+=1)(point=stackedDataArr[i][catPosition])&&(pointValue=value&&(point.y||0)/value*100,percentDataValue=numberFormatter.percentValue(pointValue),point.toolText=parseTooltext(point.toolText,[14,24,25,112],{percentValue:percentDataValue,sum:numberFormatter.dataLabels(value),unformattedSum:value}),(point.y||0===point.y)&&(stacking100Percent&&(point.y=pointValue,(point.previousY||0===point.previousY)&&(point.previousY=point.previousY/value*100)),point.showPercentValues&&(point.displayValue=percentDataValue)))}}},sortFN=function(a,b){return a-b},getDataParser=lib.getDataParser={column:function(HCObj,seriesConf,chartAPI){var conf=HCObj[FC_CONFIG_STRING],borderWidth=seriesConf.borderWidth;return function(dataObj,index,itemValue){var hoverEffects,seriesGradientColor=seriesConf.plotgradientcolor,is3d=seriesConf.is3d,isRoundEdges=seriesConf.isRoundEdges,setPlotBorderColor=seriesConf.plotBorderColor,setBorderWidth=borderWidth,setColor=pluck(dataObj.color,seriesConf.color),setRatio=pluck(dataObj.ratio,seriesConf.ratio),setPlotBorderAlpha=getFirstAlpha(seriesConf.plotBorderAlpha),setBorderDashed=pluckNumber(dataObj.dashed,seriesConf.dashed),setDashLen=pluck(dataObj.dashlen,seriesConf.dashLen),setDashGap=pluck(dataObj.dashgap,seriesConf.dashGap),use3DLighting=seriesConf.use3DLighting,setAlpha=getFirstAlpha(pluck(dataObj.alpha,seriesConf.alpha)).toString(),pointShadow={opacity:setAlpha/100},isBar=seriesConf.isBar,fillAangle=seriesConf.fillAangle,angle=itemValue<0?isBar?180-fillAangle:360-fillAangle:fillAangle,colorArr=getColumnColor(setColor+COMMASTRING+seriesGradientColor,setAlpha,setRatio,angle,isRoundEdges,setPlotBorderColor,mathMin(setAlpha,setPlotBorderAlpha).toString(),isBar,is3d),pointDashStyle=setBorderDashed?getDashStyle(setDashLen,setDashGap,setBorderWidth):"none",point=chartAPI.getPointStub(dataObj,itemValue,conf.oriCatTmp[index],HCObj,seriesConf,seriesConf.showValues,seriesConf.yAxis);return hoverEffects=chartAPI.pointHoverOptions(dataObj,seriesConf,{plotType:"column",is3d:is3d,isBar:isBar,use3DLighting:use3DLighting,isRoundEdged:isRoundEdges,color:setColor,gradientColor:seriesGradientColor,alpha:setAlpha,ratio:setRatio,angle:angle,borderWidth:setBorderWidth,borderColor:setPlotBorderColor,borderAlpha:setPlotBorderAlpha,borderDashed:setBorderDashed,borderDashGap:setDashGap,borderDashLen:setDashLen,shadow:pointShadow}),point.y=itemValue,point.shadow=pointShadow,point.color=colorArr[0],point.borderColor=colorArr[1],point.borderWidth=setBorderWidth,point.use3DLighting=use3DLighting,point.dashStyle=pointDashStyle,point.tooltipConstraint=chartAPI.tooltipConstraint,point.hoverEffects=hoverEffects.enabled&&hoverEffects.options,point.rolloverProperties=hoverEffects.enabled&&hoverEffects.rolloverOptions,point}},line:function(HCObj,seriesConf,chartAPI){var conf=HCObj[FC_CONFIG_STRING];return function(dataObj,index,itemValue){var lineAlpha=pluckNumber(dataObj.alpha,seriesConf.lineAlpha),pointShadow={opacity:lineAlpha/100},setAnchorSides=pluckNumber(dataObj.anchorsides,seriesConf.anchorSides,0),setAnchorBorderThickness=pluckNumber(dataObj.anchorborderthickness,seriesConf.anchorBorderThickness,1),setAnchorBorderColor=getFirstColor(pluck(dataObj.anchorbordercolor,seriesConf.anchorBorderColor)),setAnchorBgColor=getFirstColor(pluck(dataObj.anchorbgcolor,seriesConf.anchorBgColor)),setAnchorAngle=pluckNumber(dataObj.anchorstartangle,seriesConf.anchorStartAngle,90),setAnchorAlpha=pluck(dataObj.anchoralpha,seriesConf.anchorAlpha),setAnchorBgAlpha=pluck(dataObj.anchorbgalpha,setAnchorAlpha),setAnchorRadius=pluckNumber(dataObj.anchorradius,seriesConf.anchorRadius),setAnchorShadow=Boolean(pluckNumber(dataObj.anchorshadow,seriesConf.anchorShadow,0)),point=chartAPI.getPointStub(dataObj,itemValue,conf.oriCatTmp[index],HCObj,seriesConf,seriesConf.showValues,seriesConf.yAxis),imageUrl=pluck(dataObj.anchorimageurl,seriesConf.imageUrl),imageScale=pluck(dataObj.anchorimagescale,seriesConf.imageScale),imageAlpha=pluck(dataObj.anchorimagealpha,seriesConf.imageAlpha),hoverEffects;return point.y=itemValue,point.shadow=pointShadow,point.anchorShadow=seriesConf.anchorShadow,point.dashStyle=pluckNumber(dataObj.dashed,seriesConf.lineDashed)?getDashStyle(seriesConf.lineDashLen,seriesConf.lineDashGap,seriesConf.lineThickness):null,point.color={FCcolor:{color:getFirstColor(pluck(dataObj.color,seriesConf.lineColor)),alpha:lineAlpha}},point.valuePosition=pluck(dataObj.valueposition,seriesConf.valuePosition),hoverEffects=chartAPI.pointHoverOptions(dataObj,seriesConf,{plotType:"anchor",anchorBgColor:setAnchorBgColor,anchorAlpha:setAnchorAlpha,anchorBgAlpha:setAnchorBgAlpha,anchorAngle:setAnchorAngle,anchorBorderThickness:setAnchorBorderThickness,anchorBorderColor:setAnchorBorderColor,anchorBorderAlpha:setAnchorAlpha,anchorSides:setAnchorSides,anchorRadius:setAnchorRadius,imageUrl:imageUrl,imageScale:imageScale,imageAlpha:imageAlpha,shadow:pointShadow}),point.marker={enabled:void 0===seriesConf.drawAnchors?0!==lineAlpha:!!seriesConf.drawAnchors,shadow:setAnchorShadow&&{opacity:setAnchorAlpha/100},fillColor:{FCcolor:{color:getFirstColor(pluck(dataObj.anchorbgcolor,seriesConf.anchorBgColor)),alpha:(pluck(dataObj.anchorbgalpha,seriesConf.anchorBgAlpha)*setAnchorAlpha/100).toString()}},lineColor:{FCcolor:{color:getFirstColor(pluck(dataObj.anchorbordercolor,seriesConf.anchorBorderColor)),alpha:setAnchorAlpha}},imageUrl:imageUrl,imageScale:imageScale,imageAlpha:imageAlpha,lineWidth:pluckNumber(dataObj.anchorborderthickness,seriesConf.anchorBorderThickness),radius:pluckNumber(dataObj.anchorradius,seriesConf.anchorRadius),symbol:mapSymbolName(pluckNumber(dataObj.anchorsides,seriesConf.anchorSides)),startAngle:pluck(dataObj.anchorstartangle,seriesConf.anchorAngle)},point.hoverEffects=hoverEffects.enabled&&hoverEffects.options,point.rolloverProperties=hoverEffects.enabled&&hoverEffects.rolloverOptions,point}},area:function(HCObj,seriesConf,chartAPI){var conf=HCObj[FC_CONFIG_STRING];return function(dataObj,index,itemValue){var setAlpha=pluck(dataObj.alpha,seriesConf.fillAlpha),pointShadow={opacity:mathMax(setAlpha,seriesConf.lineAlpha)/100,inverted:!0},setAnchorSides=pluckNumber(dataObj.anchorsides,seriesConf.anchorSides,0),setAnchorBorderThickness=pluckNumber(dataObj.anchorborderthickness,seriesConf.anchorBorderThickness,1),setAnchorBorderColor=getFirstColor(pluck(dataObj.anchorbordercolor,seriesConf.anchorBorderColor)),setAnchorBgColor=getFirstColor(pluck(dataObj.anchorbgcolor,seriesConf.anchorBgColor)),setAnchorAngle=pluckNumber(dataObj.anchorstartangle,seriesConf.anchorStartAngle,90),setAnchorAlpha=pluck(dataObj.anchoralpha,seriesConf.anchorAlpha),setAnchorBgAlpha=pluck(dataObj.anchorbgalpha,setAnchorAlpha),setAnchorRadius=pluckNumber(dataObj.anchorradius,seriesConf.anchorRadius),setAnchorShadow=Boolean(pluckNumber(dataObj.anchorshadow,seriesConf.anchorShadow,0)),point=chartAPI.getPointStub(dataObj,itemValue,conf.oriCatTmp[index],HCObj,seriesConf,seriesConf.showValues,seriesConf.yAxis),imageUrl=pluck(dataObj.anchorimageurl,seriesConf.imageUrl),imageScale=pluck(dataObj.anchorimagescale,seriesConf.imageScale),imageAlpha=pluck(dataObj.anchorimagealpha,seriesConf.imageAlpha),hoverEffects;return point.y=itemValue,point.shadow=pointShadow,point.anchorShadow=seriesConf.anchorShadow,point.color={FCcolor:{color:getFirstColor(pluck(dataObj.color,seriesConf.fillColor)),alpha:setAlpha}},point.valuePosition=pluck(dataObj.valueposition,seriesConf.valuePosition),hoverEffects=chartAPI.pointHoverOptions(dataObj,seriesConf,{plotType:"anchor",anchorBgColor:setAnchorBgColor,anchorAlpha:setAnchorAlpha,anchorBgAlpha:setAnchorBgAlpha,anchorAngle:setAnchorAngle,anchorBorderThickness:setAnchorBorderThickness,anchorBorderColor:setAnchorBorderColor,anchorBorderAlpha:setAnchorAlpha,anchorSides:setAnchorSides,anchorRadius:setAnchorRadius,imageUrl:imageUrl,imageScale:imageScale,imageAlpha:imageAlpha,shadow:pointShadow}),point.marker={enabled:seriesConf.drawAnchors,shadow:setAnchorShadow&&{opacity:setAnchorAlpha/100},fillColor:{FCcolor:{color:getFirstColor(pluck(dataObj.anchorbgcolor,seriesConf.anchorBgColor)),alpha:(pluck(dataObj.anchorbgalpha,seriesConf.anchorBgAlpha)*setAnchorAlpha/100).toString()}},lineColor:{FCcolor:{color:getFirstColor(pluck(dataObj.anchorbordercolor,seriesConf.anchorBorderColor)),alpha:setAnchorAlpha}},imageUrl:imageUrl,imageScale:imageScale,imageAlpha:imageAlpha,lineWidth:pluckNumber(dataObj.anchorborderthickness,seriesConf.anchorBorderThickness),radius:setAnchorRadius,symbol:mapSymbolName(pluckNumber(dataObj.anchorsides,seriesConf.anchorSides)),startAngle:pluck(dataObj.anchorstartangle,seriesConf.anchorAngle)},point.hoverEffects=hoverEffects.enabled&&hoverEffects.options,point.rolloverProperties=hoverEffects.enabled&&hoverEffects.rolloverOptions,point.events={click:seriesConf.getLink},point}}},store,intervalId,trackResize;global.core.options.resizeTrackingInterval=300,global.core.options.preventTrackResize=!1,lib.createChart=function(chartObj,container,type,notify,hcJSON,animate,suppressDataEvents){var vars=chartObj.jsVars,msgStore=vars.msgStore,dataComp,dataObj,api=chartAPI[type||(type=chartObj.chartType())],instanceAPI,hasNativeMessage=vars.hasNativeMessage,callback;return callback=function(obj){var eventArgs={renderer:"javascript"},fcObj=vars.fcObj,w=fcObj.width,h=fcObj.height,eiMethods=api&&api.eiMethods,backEle=vars.overlayButton,method;if(container.jsVars=chartObj.jsVars,vars.container=container,vars.hcObj=obj,vars.type=type,vars.width=container.offsetWidth,vars.height=container.offsetHeight,vars.instanceAPI=instanceAPI,obj.hasRendered){if(global.extend(container,privateAPIMethods),eiMethods&&"string"!=typeof eiMethods)for(method in eiMethods)container[method]=eiMethods[method];vars.overlayButtonActive&&backEle&&(backEle.innerHTML="",backEle.appendChild(doc.createTextNode(vars.overlayButtonMessage)),obj.container.appendChild(backEle))}(/\%/g.test(w)||/\%/g.test(h))&&container&&container.parentNode&&!global.core.options.preventTrackResize&&handleContainerResize(fcObj,container),notify&&(notify({success:obj.hasRendered,ref:container,id:chartObj.id}),obj.hasRendered&&(lib.raiseEvent("loaded",{type:type,renderer:"javascript"},chartObj,[chartObj.id]),hasNativeMessage||(fcObj.__state.firstRenderNotified=!0,setTimeout((function(){lib.raiseEvent("rendered",{renderer:"javascript"},fcObj,[fcObj.id])}),0)))),obj.hasRendered&&vars.previousDrawCount<vars.drawCount&&(eventArgs.width=vars.width,eventArgs.height=vars.height,eventArgs.drawCount=vars.drawCount,eventArgs.displayingMessage=hasNativeMessage,eventArgs.renderer=fcObj.options.renderer,lib.raiseEvent("drawcomplete",eventArgs,fcObj,[fcObj.id]),hasNativeMessage||suppressDataEvents||setTimeout((function(){fcObj.__state.firstRenderNotified||lib.raiseEvent("rendered",{renderer:"javascript"},fcObj,[fcObj.id]),global.raiseEvent("renderComplete",eventArgs,fcObj)}),0))},vars.instanceAPI&&vars.instanceAPI.dispose&&vars.instanceAPI.dispose(),(instanceAPI=new ChartAPI(api?type:"stub")).chartInstance=chartObj,instanceAPI.origRenderWidth=chartObj.__state.renderedWidth,instanceAPI.origRenderHeight=chartObj.__state.renderedHeight,void 0!==hcJSON?"string"==typeof hcJSON&&(hcJSON=new CreateDialog(container,hcJSON,chartObj),hasNativeMessage=vars.hasNativeMessage=!0):!api||!api.init||api&&"stub"===api.name?(hcJSON=new CreateDialog(container,msgStore.ChartNotSupported,chartObj),hasNativeMessage=vars.hasNativeMessage=!0):vars.message?(hcJSON=new CreateDialog(container,vars.message,chartObj),hasNativeMessage=vars.hasNativeMessage=!0):vars.loadError?(hcJSON=new CreateDialog(container,msgStore.LoadDataErrorText,chartObj),hasNativeMessage=vars.hasNativeMessage=!0):vars.stallLoad?(hcJSON=new CreateDialog(container,msgStore.XMLLoadingText,chartObj),hasNativeMessage=vars.hasNativeMessage=!0):(global.raiseEvent("internal.drawStart",{chartType:type,logicName:instanceAPI.name,logicBase:instanceAPI.base&&instanceAPI.base.name,defaultSeriesType:instanceAPI.defaultSeriesType},chartObj),dataObj=(dataComp=chartObj.jsVars&&chartObj.jsVars.themeObject&&chartObj.jsVars.themeObject.getThemedJSONData()||chartObj.getChartData(global.dataFormats.JSON,!0)).data,dataComp.error instanceof Error?(hcJSON=new CreateDialog(container,msgStore.InvalidXMLText,chartObj),hasNativeMessage=vars.hasNativeMessage=!0,chartObj.__state.dataReady=!1,suppressDataEvents||global.raiseEvent("dataInvalid",{error:dataComp.error},vars.fcObj,void 0,(function(){lib.raiseEvent("dataxmlinvalid",{},chartObj,[chartObj.id])}))):(suppressDataEvents||lib.raiseEvent("dataloaded",{},chartObj,[chartObj.id]),hcJSON=instanceAPI.init(container,dataObj,chartObj,callback),instanceAPI.inited=!0,vars.previousDrawCount=vars.drawCount,vars.drawCount+=1,0===hcJSON.series.length?(hcJSON=new CreateDialog(container,msgStore.ChartNoDataText,chartObj),hasNativeMessage=vars.hasNativeMessage=!0,chartObj.__state.dataReady=!1,suppressDataEvents||lib.raiseEvent("nodatatodisplay",{},chartObj,[chartObj.id])):(chartObj.__state.dataReady=!0,hasNativeMessage=vars.hasNativeMessage=!1,delete vars.message))),hcJSON||(hcJSON=new CreateDialog(container,"Error rendering chart {0x01}",chartObj),hasNativeMessage=vars.hasNativeMessage=!0),hasNativeMessage&&!instanceAPI.inited&&instanceAPI.init(container,dataObj,chartObj,callback),hcJSON.chart=hcJSON.chart||{},hcJSON.chart.renderTo=container,hcJSON.credits=hcJSON.credits||{},hcJSON.credits.enabled=!(!api||!0!==api.creditLabel),!1===animate&&(hcJSON.chart.animation=!1,(hcJSON.plotOptions||(hcJSON.plotOptions={}))&&(hcJSON.plotOptions.series||(hcJSON.plotOptions.series={})),hcJSON.plotOptions.series.animation=!1),container.style&&(hcJSON.chart.containerBackgroundColor=lib.getContainerBackgroundColor(chartObj)),instanceAPI.draw(hcJSON,callback)},chartAPI("base",{useScaleRecursively:!0,tooltipConstraint:"chart",rendererId:"root",canvasPaddingModifiers:["anchor","anchorlabel"],drawAnnotations:!0,draw:function(options,callback){var logic=this,renderer=this.renderer;return renderer||(renderer=this.renderer=new ChartAPI("renderer."+this.rendererId)),this.updateDefaultAnnotations(),renderer.init(this,options,callback)},init:function(container,dataObj){var iapi=this,chartObj=iapi.chartInstance||arguments[2],vars=chartObj.jsVars,reflowData=vars._reflowData||(vars._reflowData={}),reflowClean=vars._reflowClean,reflowJSON,chartAttrs,hcJSON;return iapi.dataObj=dataObj=extend2({},dataObj),chartAttrs=dataObj.chart=dataObj.chart||dataObj.graph||dataObj.map||{},delete dataObj.graph,delete dataObj.map,reflowData&&!iapi.stateless&&(reflowJSON=reflowData.hcJSON,delete reflowData.hcJSON,extend2(iapi,reflowData,!0),iapi.preReflowAdjustments&&iapi.preReflowAdjustments.call(this),reflowData.hcJSON=reflowJSON,reflowJSON=null),iapi.containerElement=container,iapi.config={},iapi.smartLabel=vars.smartLabel,iapi.smartLabel.useEllipsesOnOverflow(pluckNumber(chartAttrs.useellipseswhenoverflow,chartAttrs.useellipsewhenoverflow,1)),iapi.colorManager=new lib.colorManager(dataObj,iapi),iapi.linkClickFN=getLinkAction(dataObj,chartObj),iapi.numberFormatter=new NumberFormatter(dataObj.chart,iapi),iapi.standaloneInit?(hcJSON=iapi.chart(container.offsetWidth||parseFloat(container.style.width),container.offsetHeight||parseFloat(container.style.height),chartObj),reflowData&&!iapi.stateless&&(reflowData.hcJSON&&extend2(hcJSON,reflowData.hcJSON,!0),iapi.postReflowAdjustments&&iapi.postReflowAdjustments.call(this),reflowClean&&iapi.cleanedData&&(iapi.cleanedData(iapi,reflowClean),iapi.cleanedData(reflowData,reflowClean))),hcJSON):new lib.createDialog(container,vars.msgStore.ChartNotSupported,chartObj)},postSpaceManager:function(){var logic=this,hcJSON=this.hcJSON,conf=hcJSON._FCconf,optionsChart=hcJSON.chart,marginLeft=optionsChart.marginLeft,marginRight=optionsChart.marginRight,mLeft=optionsChart.spacingLeft,mRight=optionsChart.spacingRight,canvasWidth=conf.width-marginLeft-marginRight,optionsCap=hcJSON.title,optionsSubCap=hcJSON.subtitle,width=conf.width,capAlign=optionsCap.align,captionX=optionsCap.x,hPadding=optionsCap.horizontalPadding,alignWtCanvas=optionsCap.alignWithCanvas,canvasCentre=(mathRound(marginLeft)||0)+pluckNumber(canvasWidth,width)/2,snapLiterals=this.snapLiterals||(this.snapLiterals={}),canvasCaptionGap,canvasSubCaptionGap,captionWidth=optionsCap._captionWidth,subCaptionWidth=optionsSubCap._subCaptionWidth,captionLineHeight=optionsCap._lineHeight,subCaptionLineHeight=optionsSubCap._lineHeight,interCaptionGap=2,hasCaption=optionsCap.text;if(void 0===captionX){switch(capAlign){case POSITION_RIGHT:captionX=alignWtCanvas?width-optionsChart.marginRight-hPadding:width-hPadding;break;case POSITION_LEFT:captionX=alignWtCanvas?optionsChart.marginLeft+hPadding:hPadding;break;default:captionX=alignWtCanvas?canvasCentre:mLeft+.5*(width-mLeft-mRight)||width/2}optionsCap.align===POSITION_LEFT?(canvasCaptionGap=0,canvasSubCaptionGap=0,optionsCap.align="start"):optionsCap.align===POSITION_RIGHT?(canvasCaptionGap=captionWidth,canvasSubCaptionGap=subCaptionWidth,optionsCap.align="end"):(canvasCaptionGap=captionWidth/2,canvasSubCaptionGap=subCaptionWidth/2,optionsCap.align="middle"),optionsCap.x=captionX,optionsCap.y=optionsCap.y||optionsChart.spacingTop||0,optionsSubCap.y=hasCaption?optionsCap.y+captionLineHeight+2:optionsCap.y||optionsChart.spacingTop||0,snapLiterals.captionstartx=captionX-canvasCaptionGap-2,snapLiterals.captionwidth=captionWidth+4,snapLiterals.captionendx=snapLiterals.captionstartx+snapLiterals.captionwidth,snapLiterals.captionstarty=optionsCap.y||0,snapLiterals.captionheight=captionLineHeight+2,snapLiterals.captionendy=snapLiterals.captionstarty+snapLiterals.captionheight,snapLiterals.subcaptionstartx=captionX-canvasSubCaptionGap-2,snapLiterals.subcaptionwidth=subCaptionWidth+4,snapLiterals.subcaptionendx=snapLiterals.subcaptionstartx+snapLiterals.subcaptionwidth,snapLiterals.subcaptionstarty=optionsSubCap.y||0,snapLiterals.subcaptionheight=subCaptionLineHeight+2,snapLiterals.subcaptionendy=snapLiterals.subcaptionstarty+snapLiterals.subcaptionheight}},chart:function(width,height){var iapi=this,chartName=this.name,obj=this.dataObj,FCChartObj=obj.chart,colorM=this.colorManager,hc,is3d,zeroPlaneColor,zeroPlaneAlpha,stack100percent,smartLabel,isPie,defaultSeries=this.defaultSeriesType,conf,isBar,plotOptions,showBorder,showCanvasBorder,palleteString,isRoundEdges,xAxis,HCChartObj,fontBdrColor,snapLiterals,marginTop,marginBottom,marginLeft,marginRight,paletteIndex,inCanfontFamily,inCanfontSize,inCancolor,outCanfontFamily,fontSize,outCanfontSize,outCancolor,outCanLineHeight,inCanLineHeight,axisTitleLineHeight,baseFontSize,legendCaptionFontSize,legendItemFont,legendFontSize,legendFontColor,legendItenFontWeight,bgImageDisplayMode,bgImageVAlign,bgImageHAlign,TILE,FILL,FIT,toolbar,button,bSymbolPadding,bPosition,bHAlign,bVAlign,vDirection,hDirection,divLineColor,divLineAlpha,divLineThickness,divLineIsDashed,divLineDashLen,divLineDashGap,showPercentValues,canBGColor,showPercentInToolTip,canBGAlpha,showCanvasBG,tooltipStyle,plotSpacePercent,drawQuadrant,xMin,xMax,yMin,yMax,quadrantXVal,quadrantYVal,vDivLineThickness,vDivLineIsDashed,vDivLineDashLen,vDivLineDashGap,quadrantLineColor,quadrantLineThickness,quadrantLineIsDashed,quadrantLineDashLen,quadrantLineDashGap,quadrantLabelTL,quadrantLabelTR,quadrantLabelBL,quadrantLabelBR,quadrantLabelPadding,dashStyle,canvasWidth,canvasHeight,labelWidthPart1,labelWidthPart2,labelHeightPart1,labelHeightPart2,smartText,inCanvasStyle,top1,top2,left1,left2,showVerticalDivLines,numVDivLines,vDivLineColor,vDivLineAlpha,min,catLength,max,value,gridInterval,drawAltGrid,lastValue,alternateVGridColor,showAlternateVGridColor;switch(hc=hcStub(obj,width,height,this),HCChartObj=hc.chart,xAxis=hc.xAxis,conf=hc[FC_CONFIG_STRING],this.snapLiterals||(this.snapLiterals={}),(snapLiterals=this.snapLiterals).chartstartx=0,snapLiterals.chartstarty=0,snapLiterals.chartwidth=width,snapLiterals.chartheight=height,snapLiterals.chartendx=width,snapLiterals.chartendy=height,snapLiterals.chartcenterx=width/2,snapLiterals.chartcentery=height/2,snapLiterals.chartbottommargin=HCChartObj.spacingBottom,snapLiterals.chartleftmargin=HCChartObj.spacingLeft,snapLiterals.chartrightmargin=HCChartObj.spacingRight,snapLiterals.charttopmargin=HCChartObj.spacingTop,this.updateSnapPoints&&this.updateSnapPoints(),this.postHCJSONCreation&&this.postHCJSONCreation.call(this,hc),global.raiseEvent("internal.postlogic",this,this.chartInstance),hc.labels.smartLabel=smartLabel=conf.smartLabel=this.smartLabel,conf.width=width,conf.height=height,plotOptions=hc.plotOptions,conf.isDual=this.isDual,conf.numberFormatter=this.numberFormatter,conf.axisGridManager=new AxisLabelAdder(defaultSeries,FCChartObj),conf.tooltext=FCChartObj.plottooltext,conf.trendLineToolText=FCChartObj.trendlinetooltext,HCChartObj.is3D=is3d=conf.is3d=/3d$/.test(defaultSeries),HCChartObj.isBar=isBar=conf.isBar=this.isBar,isPie=/^pie/.test(defaultSeries),isRoundEdges=1==FCChartObj.useroundedges,palleteString=is3d?chartPaletteStr.chart3D:chartPaletteStr.chart2D,HCChartObj.events.click=hc.plotOptions.series.point.events.click=this.linkClickFN,HCChartObj.defaultSeriesType=defaultSeries,paletteIndex=FCChartObj.palette>0&&FCChartObj.palette<6?FCChartObj.palette:pluckNumber(this.paletteIndex,1),paletteIndex-=1,HCChartObj.paletteIndex=paletteIndex,HCChartObj.usePerPointLabelColor=FCChartObj.colorlabelsfromplot==ONESTRING,HCChartObj.syncLabelWithAnchor=pluckNumber(FCChartObj.synclabelwithanchoronhover,1),HCChartObj.useRoundEdges=isRoundEdges&&!is3d&&!this.distributedColumns&&"pie"!==this.defaultSeriesType,void 0!==pluck(FCChartObj.clickurl)&&(HCChartObj.link=FCChartObj.clickurl,HCChartObj.style.cursor="pointer",hc.plotOptions.series.point.events.click=function(){HCChartObj.events.click.call({link:FCChartObj.clickurl})}),inCanfontFamily=pluck(FCChartObj.basefont,"Verdana,sans"),inCanfontSize=pluckFontSize(FCChartObj.basefontsize,10),inCancolor=pluck(FCChartObj.basefontcolor,colorM.getColor(palleteString.baseFontColor)),outCanfontFamily=pluck(FCChartObj.outcnvbasefont,inCanfontFamily),outCanfontSize=(fontSize=pluckFontSize(FCChartObj.outcnvbasefontsize,inCanfontSize))+PXSTRING,outCancolor=pluck(FCChartObj.outcnvbasefontcolor,inCancolor).replace(/^#?([a-f0-9]+)/gi,"#$1"),baseFontSize=inCanfontSize,inCanfontSize+=PXSTRING,inCancolor=inCancolor.replace(/^#?([a-f0-9]+)/gi,"#$1"),conf.trendStyle=conf.outCanvasStyle={fontFamily:outCanfontFamily,color:outCancolor,fontSize:outCanfontSize},outCanLineHeight=setLineHeight(conf.trendStyle),conf.inCanvasStyle={fontFamily:inCanfontFamily,fontSize:inCanfontSize,color:inCancolor},inCanLineHeight=setLineHeight(conf.inCanvasStyle),conf.divlineStyle={fontFamily:inCanfontFamily,fontSize:inCanfontSize,color:inCancolor,lineHeight:inCanLineHeight},xAxis.labels.style={fontFamily:outCanfontFamily,fontSize:outCanfontSize,lineHeight:outCanLineHeight,color:outCancolor},xAxis.steppedLabels.style={fontFamily:outCanfontFamily,fontSize:outCanfontSize,lineHeight:outCanLineHeight,color:outCancolor,visibility:"hidden"},hc.yAxis[0].labels.style={fontFamily:outCanfontFamily,fontSize:outCanfontSize,lineHeight:outCanLineHeight,color:outCancolor},hc.yAxis[1].labels.style={fontFamily:outCanfontFamily,fontSize:outCanfontSize,lineHeight:outCanLineHeight,color:outCancolor},legendItemFont=pluck(FCChartObj.legenditemfont,outCanfontFamily),legendFontSize=pluckFontSize(FCChartObj.legenditemfontsize,fontSize),legendFontColor=pluck(FCChartObj.legenditemfontcolor,outCancolor).replace(/^#?([a-f0-9]+)/gi,"#$1"),legendItenFontWeight=styleValueMap.fontWeight[pluckNumber(FCChartObj.legenditemfontbold,0)]||"",legendCaptionFontSize=pluckFontSize(FCChartObj.legendcaptionfontsize,fontSize)+PXSTRING,legendFontSize+=PXSTRING,hc.legend.itemStyle={fontFamily:legendItemFont,fontSize:legendFontSize,color:legendFontColor,fontWeight:legendItenFontWeight},setLineHeight(hc.legend.itemStyle),hc.legend.itemHiddenStyle={fontFamily:legendItemFont,fontSize:legendFontSize,color:pluck(FCChartObj.legenditemhiddencolor,"cccccc").replace(/^#?([a-f0-9]+)/gi,"#$1"),fontWeight:legendItenFontWeight},setLineHeight(hc.legend.itemHiddenStyle),hc.legend.itemHoverStyle={color:pluck(FCChartObj.legenditemhoverfontcolor,legendFontColor).replace(/^#?([a-f0-9]+)/gi,"#$1")},hc.legend.title.style={fontFamily:pluck(FCChartObj.legendcaptionfont,legendItemFont),fontSize:legendCaptionFontSize,color:pluck(FCChartObj.legendcaptionfontcolor,outCancolor).replace(/^#?([a-f0-9]+)/gi,"#$1"),fontWeight:styleValueMap.fontWeight[pluckNumber(FCChartObj.legendcaptionfontbold,1)]||""},setLineHeight(hc.legend.title.style),hc.legend.title.align=TEXT_ANCHOR_MAP[FCChartObj.legendcaptionalignment&&FCChartObj.legendcaptionalignment.toLowerCase()||POSITION_CENTER]||TEXT_ANCHOR_MAP.center,fontBdrColor=(fontBdrColor=getFirstValue(FCChartObj.valuebordercolor,BLANKSTRING))?convertColor(fontBdrColor,pluckNumber(FCChartObj.valueborderalpha,FCChartObj.valuealpha,100)):BLANKSTRING,hc.plotOptions.series.dataLabels.style={fontFamily:pluck(FCChartObj.valuefont,inCanfontFamily),fontSize:pluck(FCChartObj.valuefontsize,pInt(inCanfontSize,10))+PXSTRING,lineHeight:inCanLineHeight,color:convertColor(pluck(FCChartObj.valuefontcolor,inCancolor),pluckNumber(FCChartObj.valuefontalpha,FCChartObj.valuealpha,100)),fontWeight:pluckNumber(FCChartObj.valuefontbold)?"bold":"normal",fontStyle:pluckNumber(FCChartObj.valuefontitalic)?"italic":"normal",border:fontBdrColor||FCChartObj.valuebgcolor?pluckNumber(FCChartObj.valueborderthickness,1)+"px solid":"",borderColor:fontBdrColor,borderThickness:pluckNumber(FCChartObj.valueborderthickness,1),borderPadding:pluckNumber(FCChartObj.valueborderpadding,2),borderRadius:pluckNumber(FCChartObj.valueborderradius,0),backgroundColor:FCChartObj.valuebgcolor?convertColor(FCChartObj.valuebgcolor,pluckNumber(FCChartObj.valuebgalpha,FCChartObj.valuealpha,100)):BLANKSTRING,borderDash:pluckNumber(FCChartObj.valueborderdashed,0)?getDashStyle(pluckNumber(FCChartObj.valueborderdashlen,4),pluckNumber(FCChartObj.valueborderdashgap,2),pluckNumber(FCChartObj.valueborderthickness,1)):"none"},setLineHeight(hc.plotOptions.series.dataLabels.style),hc.plotOptions.series.dataLabels.color=hc.plotOptions.series.dataLabels.style.color,hc.tooltip.style={fontFamily:inCanfontFamily,fontSize:inCanfontSize,lineHeight:inCanLineHeight,color:inCancolor},hc.title.style={fontFamily:pluck(FCChartObj.captionfont,outCanfontFamily),color:pluck(FCChartObj.captionfontcolor,outCancolor).replace(/^#?([a-f0-9]+)/gi,"#$1"),fontSize:pluckNumber(FCChartObj.captionfontsize,fontSize+3)+PXSTRING,fontWeight:0===pluckNumber(FCChartObj.captionfontbold)?"normal":"bold"},hc.title.align=pluck(FCChartObj.captionalignment,POSITION_CENTER),hc.title.isOnTop=pluckNumber(FCChartObj.captionontop,1),hc.title.alignWithCanvas=pluckNumber(FCChartObj.aligncaptionwithcanvas,this.alignCaptionWithCanvas,1),hc.title.horizontalPadding=pluckNumber(FCChartObj.captionhorizontalpadding,hc.title.alignWithCanvas?0:15),setLineHeight(hc.title.style),hc.subtitle.style={fontFamily:pluck(FCChartObj.subcaptionfont,FCChartObj.captionfont,outCanfontFamily),color:pluck(FCChartObj.subcaptionfontcolor,FCChartObj.captionfontcolor,outCancolor).replace(/^#?([a-f0-9]+)/gi,"#$1"),fontSize:pluckNumber(FCChartObj.subcaptionfontsize,pluckNumber(mathMax(pluckNumber(FCChartObj.captionfontsize)-3,-1),fontSize)+pluckNumber(this.subTitleFontSizeExtender,1))+PXSTRING,fontWeight:0===pluckNumber(FCChartObj.subcaptionfontbold,this.subTitleFontWeight,FCChartObj.captionfontbold)?"normal":"bold"},hc.subtitle.align=hc.title.align,hc.subtitle.isOnTop=hc.title.isOnTop,hc.subtitle.alignWithCanvas=hc.title.alignWithCanvas,hc.subtitle.horizontalPadding=hc.title.horizontalPadding,setLineHeight(hc.subtitle.style),fontBdrColor=(fontBdrColor=getFirstValue(FCChartObj.xaxisnamebordercolor,BLANKSTRING))?convertColor(fontBdrColor,pluckNumber(FCChartObj.xaxisnameborderalpha,FCChartObj.xaxisnamealpha,100)):BLANKSTRING,xAxis.title.style={fontFamily:pluck(FCChartObj.xaxisnamefont,outCanfontFamily),fontSize:pluck(FCChartObj.xaxisnamefontsize,pInt(outCanfontSize))+PXSTRING,color:convertColor(pluck(FCChartObj.xaxisnamefontcolor,outCancolor),pluckNumber(FCChartObj.xaxisnamefontalpha,FCChartObj.xaxisnamealpha,100)),fontWeight:pluckNumber(FCChartObj.xaxisnamefontbold,1)?"bold":"normal",fontStyle:pluckNumber(FCChartObj.xaxisnamefontitalic)?"italic":"normal",border:fontBdrColor||FCChartObj.xaxisnamebgcolor?pluckNumber(FCChartObj.xaxisnameborderthickness,1)+"px solid":void 0,borderColor:fontBdrColor,borderThickness:pluckNumber(FCChartObj.xaxisnameborderthickness,1),borderPadding:pluckNumber(FCChartObj.xaxisnameborderpadding,2),borderRadius:pluckNumber(FCChartObj.xaxisnameborderradius,0),backgroundColor:FCChartObj.xaxisnamebgcolor?convertColor(FCChartObj.xaxisnamebgcolor,pluckNumber(FCChartObj.xaxisnamebgalpha,FCChartObj.xaxisnamealpha,100)):BLANKSTRING,borderDash:pluckNumber(FCChartObj.xaxisnameborderdashed,0)?getDashStyle(pluckNumber(FCChartObj.xaxisnameborderdashlen,4),pluckNumber(FCChartObj.xaxisnameborderdashgap,2),pluckNumber(FCChartObj.xaxisnameborderthickness,1)):"none"},setLineHeight(xAxis.title.style),fontBdrColor=(fontBdrColor=pluck(FCChartObj.pyaxisnamebordercolor,FCChartObj.yaxisnamebordercolor,BLANKSTRING))?convertColor(fontBdrColor,pluckNumber(FCChartObj.pyaxisnameborderalpha,FCChartObj.yaxisnameborderalpha,FCChartObj.pyaxisnamealpha,FCChartObj.yaxisnamealpha,100)):BLANKSTRING,hc.yAxis[0].title.style={fontFamily:pluck(FCChartObj.pyaxisnamefont,FCChartObj.yaxisnamefont,outCanfontFamily),fontSize:pluck(FCChartObj.pyaxisnamefontsize,FCChartObj.yaxisnamefontsize,pInt(outCanfontSize,10))+PXSTRING,color:convertColor(pluck(FCChartObj.pyaxisnamefontcolor,FCChartObj.yaxisnamefontcolor,outCancolor),pluckNumber(FCChartObj.pyaxisnamefontalpha,FCChartObj.yaxisnamefontalpha,FCChartObj.pyaxisnamealpha,FCChartObj.yaxisnamealpha,100)),fontWeight:pluckNumber(FCChartObj.pyaxisnamefontbold,FCChartObj.yaxisnamefontbold,1)?"bold":"normal",fontStyle:pluckNumber(FCChartObj.pyaxisnamefontitalic,FCChartObj.yaxisnamefontitalic)?"italic":"normal",border:fontBdrColor||FCChartObj.pyaxisnamebgcolor||FCChartObj.yaxisnamebgcolor?pluckNumber(FCChartObj.pyaxisnameborderthickness,FCChartObj.yaxisnameborderthickness,1)+"px solid":void 0,borderColor:fontBdrColor,borderThickness:pluckNumber(FCChartObj.pyaxisnameborderthickness,FCChartObj.yaxisnameborderthickness,1),borderPadding:pluckNumber(FCChartObj.pyaxisnameborderpadding,FCChartObj.yaxisnameborderpadding,2),borderRadius:pluckNumber(FCChartObj.pyaxisnameborderradius,FCChartObj.yaxisnameborderradius,0),backgroundColor:FCChartObj.pyaxisnamebgcolor||FCChartObj.yaxisnamebgcolor?convertColor(pluck(FCChartObj.pyaxisnamebgcolor,FCChartObj.yaxisnamebgcolor),pluckNumber(FCChartObj.pyaxisnamebgalpha,FCChartObj.yaxisnamebgalpha,FCChartObj.pyaxisnamealpha,FCChartObj.yaxisnamealpha,100)):BLANKSTRING,borderDash:pluckNumber(FCChartObj.pyaxisnameborderdashed,FCChartObj.yaxisnameborderdashed,0)?getDashStyle(pluckNumber(FCChartObj.pyaxisnameborderdashlen,FCChartObj.yaxisnameborderdashlen,4),pluckNumber(FCChartObj.pyaxisnameborderdashgap,FCChartObj.yaxisnameborderdashgap,2),pluckNumber(FCChartObj.pyaxisnameborderthickness,FCChartObj.yaxisnameborderthickness,1)):"none"},setLineHeight(hc.yAxis[0].title.style),hc.yAxis[1].title.style={fontFamily:outCanfontFamily,color:outCancolor,fontSize:outCanfontSize,lineHeight:void 0,fontWeight:"bold"},fontBdrColor=(fontBdrColor=pluck(FCChartObj.syaxisnamebordercolor,FCChartObj.yaxisnamebordercolor,BLANKSTRING))?convertColor(fontBdrColor,pluckNumber(FCChartObj.syaxisnameborderalpha,FCChartObj.yaxisnameborderalpha,FCChartObj.syaxisnamealpha,FCChartObj.yaxisnamealpha,100)):BLANKSTRING,hc.yAxis[1].title.style={fontFamily:pluck(FCChartObj.syaxisnamefont,FCChartObj.yaxisnamefont,outCanfontFamily),fontSize:pluck(FCChartObj.syaxisnamefontsize,FCChartObj.yaxisnamefontsize,pInt(outCanfontSize,10))+PXSTRING,color:convertColor(pluck(FCChartObj.syaxisnamefontcolor,FCChartObj.yaxisnamefontcolor,outCancolor),pluckNumber(FCChartObj.syaxisnamefontalpha,FCChartObj.yaxisnamefontalpha,FCChartObj.syaxisnamealpha,FCChartObj.yaxisnamealpha,100)),fontWeight:pluckNumber(FCChartObj.syaxisnamefontbold,FCChartObj.yaxisnamefontbold,1)?"bold":"normal",fontStyle:pluckNumber(FCChartObj.syaxisnamefontitalic,FCChartObj.yaxisnamefontitalic)?"italic":"normal",border:fontBdrColor||FCChartObj.syaxisnamebgcolor||FCChartObj.yaxisnamebgcolor?pluckNumber(FCChartObj.syaxisnameborderthickness,FCChartObj.yaxisnameborderthickness,1)+"px solid":void 0,borderColor:fontBdrColor,borderThickness:pluckNumber(FCChartObj.syaxisnameborderthickness,FCChartObj.yaxisnameborderthickness,1),borderPadding:pluckNumber(FCChartObj.syaxisnameborderpadding,FCChartObj.yaxisnameborderpadding,2),borderRadius:pluckNumber(FCChartObj.syaxisnameborderradius,FCChartObj.yaxisnameborderradius,0),backgroundColor:FCChartObj.syaxisnamebgcolor||FCChartObj.yaxisnamebgcolor?convertColor(pluck(FCChartObj.syaxisnamebgcolor,FCChartObj.yaxisnamebgcolor),pluckNumber(FCChartObj.syaxisnamebgalpha,FCChartObj.yaxisnamebgalpha,FCChartObj.syaxisnamealpha,FCChartObj.yaxisnamealpha,100)):BLANKSTRING,borderDash:pluckNumber(FCChartObj.syaxisnameborderdashed,FCChartObj.yaxisnameborderdashed,0)?getDashStyle(pluckNumber(FCChartObj.syaxisnameborderdashlen,FCChartObj.yaxisnameborderdashlen,4),pluckNumber(FCChartObj.syaxisnameborderdashgap,FCChartObj.yaxisnameborderdashgap,2),pluckNumber(FCChartObj.syaxisnameborderthickness,FCChartObj.yaxisnameborderthickness,1)):"none"},setLineHeight(hc.yAxis[1].title.style),HCChartObj.overlapColumns=pluckNumber(FCChartObj[isBar?"overlapbars":"overlapcolumns"],is3d?0:1),hc.orphanStyles={defaultStyle:{style:extend2({},conf.inCanvasStyle)},connectorlabels:{style:extend2({},hc.plotOptions.series.dataLabels)},vyaxisname:{style:extend2({},hc.yAxis[0].title.style)}},hc.plotOptions.series.dataLabels.tlLabelStyle={fontFamily:getValidValue(FCChartObj.tlfont,inCanfontFamily),color:getFirstColor(getValidValue(FCChartObj.tlfontcolor,inCancolor)),fontSize:pluckFontSize(FCChartObj.tlfontsize,baseFontSize)+PX},setLineHeight(hc.plotOptions.series.dataLabels.tlLabelStyle),hc.plotOptions.series.dataLabels.trLabelStyle={fontFamily:getValidValue(FCChartObj.trfont,inCanfontFamily),color:getFirstColor(getValidValue(FCChartObj.trfontcolor,inCancolor)),fontSize:pluckFontSize(FCChartObj.trfontsize,baseFontSize)+PX},setLineHeight(hc.plotOptions.series.dataLabels.trLabelStyle),hc.plotOptions.series.dataLabels.blLabelStyle={fontFamily:getValidValue(FCChartObj.blfont,inCanfontFamily),color:getFirstColor(getValidValue(FCChartObj.blfontcolor,inCancolor)),fontSize:pluckFontSize(FCChartObj.blfontsize,baseFontSize)+PX},setLineHeight(hc.plotOptions.series.dataLabels.blLabelStyle),hc.plotOptions.series.dataLabels.brLabelStyle={fontFamily:getValidValue(FCChartObj.brfont,inCanfontFamily),color:getFirstColor(getValidValue(FCChartObj.brfontcolor,inCancolor)),fontSize:pluckFontSize(FCChartObj.brfontsize,baseFontSize)+PX},setLineHeight(hc.plotOptions.series.dataLabels.brLabelStyle),this.parseStyles(hc),delete hc.xAxis.labels.style.backgroundColor,delete hc.xAxis.labels.style.borderColor,delete hc.yAxis[0].labels.style.backgroundColor,delete hc.yAxis[0].labels.style.borderColor,delete hc.yAxis[1].labels.style.backgroundColor,delete hc.yAxis[1].labels.style.borderColor,conf.showTooltip=pluckNumber(FCChartObj.showtooltip,this.showtooltip,1),conf.tooltipSepChar=pluck(FCChartObj.tooltipsepchar,this.tooltipsepchar,COMMASPACE),conf.showValues=pluckNumber(FCChartObj.showvalues,this.showValues,1),conf.seriesNameInToolTip=pluckNumber(FCChartObj.seriesnameintooltip,1),conf.showVLines=pluckNumber(FCChartObj.showvlines,1),conf.showVLinesOnTop=pluckNumber(FCChartObj.showvlinesontop,0),conf.showVLineLabels=pluckNumber(FCChartObj.showvlinelabels,this.showVLineLabels,1),conf.showVLineLabelBorder=pluckNumber(FCChartObj.showvlinelabelborder,1),conf.rotateVLineLabels=pluckNumber(FCChartObj.rotatevlinelabels,0),conf.vLineColor=pluck(FCChartObj.vlinecolor,"333333"),conf.vLineLabelColor=pluck(FCChartObj.vlinelabelcolor),conf.vLineThickness=pluck(FCChartObj.vlinethickness,1),conf.vLineAlpha=pluckNumber(FCChartObj.vlinealpha,80),conf.vLineLabelBgColor=pluck(FCChartObj.vlinelabelbgcolor,"ffffff"),conf.vLineLabelBgAlpha=pluckNumber(FCChartObj.vlinelabelbgalpha,is3d?50:100),conf.trendlineColor=pluck(FCChartObj.trendlinecolor,"333333"),conf.trendlineThickness=pluck(FCChartObj.trendlinethickness,1),conf.trendlineAlpha=pluckNumber(FCChartObj.trendlinealpha),conf.showTrendlinesOnTop=pluck(FCChartObj.showtrendlinesontop,0),conf.trendlineValuesOnOpp=pluck(FCChartObj.trendlinevaluesonopp,FCChartObj.trendlinevaluesonright,0),conf.trendlinesAreDashed=pluckNumber(FCChartObj.trendlinesaredashed,0),conf.trendlinesDashLen=pluckNumber(FCChartObj.trendlinedashlen,5),conf.trendlinesDashGap=pluckNumber(FCChartObj.trendlinedashgap,2),conf.showTrendlines=pluckNumber(FCChartObj.showtrendlines,1),conf.showTrendlineLabels=pluckNumber(FCChartObj.showtrendlinelabels,this.showTrendlineLabels,1),conf.flatScrollBars=pluckNumber(FCChartObj.flatscrollbars,0),conf.scrollBar3DLighting=pluckNumber(FCChartObj.scrollbar3dlighting,1),HCChartObj.anchorTrackingRadius=pluckNumber(FCChartObj.anchortrackingradius,hasTouch?TOUCH_THRESHOLD_PIXELS:CLICK_THRESHOLD_PIXELS),hc.plotOptions.series.connectNullData=pluckNumber(FCChartObj.connectnulldata,0),HCChartObj.backgroundColor={FCcolor:{color:pluck(FCChartObj.bgcolor,colorM.getColor(palleteString.bgColor)),alpha:pluck(FCChartObj.bgalpha,colorM.getColor(palleteString.bgAlpha)),angle:pluck(FCChartObj.bgangle,colorM.getColor(palleteString.bgAngle)),ratio:pluck(FCChartObj.bgratio,colorM.getColor(palleteString.bgRatio))}},HCChartObj.rotateValues=pluckNumber(FCChartObj.rotatevalues,0),HCChartObj.placeValuesInside=pluckNumber(FCChartObj.placevaluesinside,0),HCChartObj.valuePosition=pluck(FCChartObj.valueposition,"auto"),HCChartObj.valuePadding=pluckNumber(FCChartObj.valuepadding,2),HCChartObj.managePlotOverflow=pluckNumber(FCChartObj.manageplotoverflow,1),HCChartObj.borderColor=convertColor(pluck(FCChartObj.bordercolor,is3d?"#666666":colorM.getColor("borderColor")),pluck(FCChartObj.borderalpha,is3d?"100":colorM.getColor("borderAlpha"))),showBorder=pluckNumber(FCChartObj.showborder,is3d?0:1),HCChartObj.borderWidth=showBorder?pluckNumber(FCChartObj.borderthickness,1):0,HCChartObj.borderRadius=pluckNumber(FCChartObj.borderradius,0),HCChartObj.borderDashStyle=pluckNumber(FCChartObj.borderdashed,0)?getDashStyle(pluckNumber(FCChartObj.borderdashlen,4),pluckNumber(FCChartObj.borderdashgap,2),HCChartObj.borderWidth):void 0,HCChartObj.plotBorderColor=convertColor(pluck(FCChartObj.canvasbordercolor,colorM.getColor("canvasBorderColor")),pluck(FCChartObj.canvasborderalpha,colorM.getColor("canvasBorderAlpha"))),"0"!==FCChartObj.showcanvasborder&&(showCanvasBorder=Boolean(pluck(FCChartObj.canvasborderthickness,isRoundEdges?0:1)),"1"!==FCChartObj.showaxislines&&"1"!==FCChartObj.showxaxisline&&"1"!==FCChartObj.showyaxisline&&"1"!==FCChartObj.showsyaxisline||"1"!==FCChartObj.showcanvasborder&&(showCanvasBorder=0)),HCChartObj.plotBorderWidth=is3d||!showCanvasBorder?0:pluckNumber(FCChartObj.canvasborderthickness,this.canvasborderthickness,HCChartObj.useRoundEdges?1:2),TILE="tile",FILL="fill",FIT="fit",HCChartObj.bgSWF=pluck(FCChartObj.bgimage,FCChartObj.bgswf),HCChartObj.bgSWFAlpha=pluckNumber(FCChartObj.bgimagealpha,FCChartObj.bgswfalpha,100),bgImageDisplayMode=pluck(FCChartObj.bgimagedisplaymode,"none").toLowerCase(),bgImageVAlign=getValidValue(FCChartObj.bgimagevalign,BLANKSTRING).toLowerCase(),bgImageHAlign=getValidValue(FCChartObj.bgimagehalign,BLANKSTRING).toLowerCase(),bgImageDisplayMode==TILE||bgImageDisplayMode==FILL||bgImageDisplayMode==FIT?(bgImageVAlign!=POSITION_TOP&&"middle"!=bgImageVAlign&&bgImageVAlign!=POSITION_BOTTOM&&(bgImageVAlign="middle"),bgImageHAlign!=POSITION_LEFT&&"middle"!=bgImageHAlign&&bgImageHAlign!=POSITION_RIGHT&&(bgImageHAlign="middle")):(bgImageVAlign!=POSITION_TOP&&"middle"!=bgImageVAlign&&bgImageVAlign!=POSITION_BOTTOM&&(bgImageVAlign=POSITION_TOP),bgImageHAlign!=POSITION_LEFT&&"middle"!=bgImageHAlign&&bgImageHAlign!=POSITION_RIGHT&&(bgImageHAlign=POSITION_LEFT)),HCChartObj.bgImageDisplayMode=bgImageDisplayMode,HCChartObj.bgImageVAlign=bgImageVAlign,HCChartObj.bgImageHAlign=bgImageHAlign,HCChartObj.bgImageScale=pluckNumber(FCChartObj.bgimagescale,100),HCChartObj.logoURL=getValidValue(FCChartObj.logourl),HCChartObj.logoPosition=pluck(FCChartObj.logoposition,"tl").toLowerCase(),HCChartObj.logoAlpha=pluckNumber(FCChartObj.logoalpha,100),HCChartObj.logoLink=getValidValue(FCChartObj.logolink),HCChartObj.logoScale=pluckNumber(FCChartObj.logoscale,100),HCChartObj.logoLeftMargin=pluckNumber(FCChartObj.logoleftmargin,0),HCChartObj.logoTopMargin=pluckNumber(FCChartObj.logotopmargin,0),(button=(toolbar=HCChartObj.toolbar={button:{}}).button).scale=pluckNumber(FCChartObj.toolbarbuttonscale,1.15),button.width=pluckNumber(FCChartObj.toolbarbuttonwidth,15),button.height=pluckNumber(FCChartObj.toolbarbuttonheight,15),button.radius=pluckNumber(FCChartObj.toolbarbuttonradius,2),button.spacing=pluckNumber(FCChartObj.toolbarbuttonspacing,5),button.fill=convertColor(pluck(FCChartObj.toolbarbuttoncolor,"ffffff")),button.labelFill=convertColor(pluck(FCChartObj.toolbarlabelcolor,"cccccc")),button.symbolFill=convertColor(pluck(FCChartObj.toolbarsymbolcolor,"ffffff")),button.hoverFill=convertColor(pluck(FCChartObj.toolbarbuttonhovercolor,"ffffff")),button.stroke=convertColor(pluck(FCChartObj.toolbarbuttonbordercolor,"bbbbbb")),button.symbolStroke=convertColor(pluck(FCChartObj.toolbarsymbolbordercolor,"9a9a9a")),button.strokeWidth=pluckNumber(FCChartObj.toolbarbuttonborderthickness,1),button.symbolStrokeWidth=pluckNumber(FCChartObj.toolbarsymbolborderthickness,1),bSymbolPadding=button.symbolPadding=pluckNumber(FCChartObj.toolbarsymbolpadding,5),button.symbolHPadding=pluckNumber(FCChartObj.toolbarsymbolhpadding,bSymbolPadding),button.symbolVPadding=pluckNumber(FCChartObj.toolbarsymbolvpadding,bSymbolPadding),bPosition=toolbar.position=pluck(FCChartObj.toolbarposition,"tr").toLowerCase()){case"tr":case"rt":case"top right":case"right top":bPosition="tr";break;case"br":case"rb":case"bottom right":case"right bottom":bPosition="br";break;case"tl":case"lt":case"top left":case"left top":bPosition="tl";break;case"bl":case"lb":case"bottom left":case"left bottom":bPosition="bl";break;default:bPosition="tr"}if(bHAlign=toolbar.hAlign="left"===(BLANKSTRING+FCChartObj.toolbarhalign).toLowerCase()?"l":bPosition.charAt(1),bVAlign=toolbar.vAlign="bottom"===(BLANKSTRING+FCChartObj.toolbarvalign).toLowerCase()?"b":bPosition.charAt(0),hDirection=toolbar.hDirection=pluckNumber(FCChartObj.toolbarhdirection,"r"===bHAlign?-1:1),vDirection=toolbar.vDirection=pluckNumber(FCChartObj.toolbarvdirection,"b"===bVAlign?-1:1),toolbar.vMargin=pluckNumber(FCChartObj.toolbarvmargin,6),toolbar.hMargin=pluckNumber(FCChartObj.toolbarhmargin,10),toolbar.x=pluckNumber(FCChartObj.toolbarx,"l"===bHAlign?0:width),toolbar.y=pluckNumber(FCChartObj.toolbary,"t"===bVAlign?0:height),divLineColor=pluck(FCChartObj.divlinecolor,colorM.getColor(palleteString.divLineColor)),divLineAlpha=pluck(FCChartObj.divlinealpha,is3d?colorM.getColor("divLineAlpha3D"):colorM.getColor("divLineAlpha")),divLineThickness=pluckNumber(FCChartObj.divlinethickness,1),divLineIsDashed=Boolean(pluckNumber(FCChartObj.divlinedashed,FCChartObj.divlineisdashed,this.divLineIsDashed,0)),divLineDashLen=pluckNumber(FCChartObj.divlinedashlen,4),divLineDashGap=pluckNumber(FCChartObj.divlinedashgap,2),hc.yAxis[0].gridLineColor=convertColor(divLineColor,divLineAlpha),hc.yAxis[0].gridLineWidth=divLineThickness,hc.yAxis[0].gridLineDashStyle=divLineIsDashed?getDashStyle(divLineDashLen,divLineDashGap,divLineThickness):"none",hc.yAxis[0].alternateGridColor=isBar?convertColor(pluck(FCChartObj.alternatevgridcolor,colorM.getColor("altVGridColor")),1===pluckNumber(FCChartObj.showalternatevgridcolor,1)?pluck(FCChartObj.alternatevgridalpha,colorM.getColor("altVGridAlpha")):ZEROSTRING):convertColor(pluck(FCChartObj.alternatehgridcolor,colorM.getColor("altHGridColor")),"0"===FCChartObj.showalternatehgridcolor?0:pluck(FCChartObj.alternatehgridalpha,colorM.getColor("altHGridAlpha"))),vDivLineThickness=pluckNumber(FCChartObj.vdivlinethickness,1),vDivLineIsDashed=Boolean(pluckNumber(FCChartObj.vdivlinedashed,FCChartObj.vdivlineisdashed,0)),vDivLineDashLen=pluckNumber(FCChartObj.vdivlinedashlen,4),vDivLineDashGap=pluckNumber(FCChartObj.vdivlinedashgap,2),xAxis.gridLineColor=convertColor(pluck(FCChartObj.vdivlinecolor,colorM.getColor(palleteString.divLineColor)),pluck(FCChartObj.vdivlinealpha,colorM.getColor("divLineAlpha"))),xAxis.gridLineWidth=vDivLineThickness,xAxis.gridLineDashStyle=vDivLineIsDashed?getDashStyle(vDivLineDashLen,vDivLineDashGap,vDivLineThickness):"none",xAxis.alternateGridColor=convertColor(pluck(FCChartObj.alternatevgridcolor,colorM.getColor("altVGridColor")),"1"===FCChartObj.showalternatehgridcolor?pluck(FCChartObj.alternatevgridalpha,colorM.getColor("altVGridAlpha")):0),canBGColor=pluck(FCChartObj.canvasbgcolor,colorM.getColor(palleteString.canvasBgColor)),canBGAlpha=pluck(FCChartObj.canvasbgalpha,colorM.getColor("canvasBgAlpha")),(showCanvasBG=pluck(FCChartObj.showcanvasbg,ONESTRING))==ZEROSTRING&&(canBGAlpha="0"),hc.plotOptions.series.shadow=pluckNumber(FCChartObj.showshadow,FCChartObj.showcolumnshadow,this.defaultPlotShadow,colorM.getColor("showShadow")),this.inversed&&(hc.yAxis[0].reversed=!0,hc.yAxis[1].reversed=!0),this.isStacked&&(this.distributedColumns?(conf.showStackTotal=Boolean(pluckNumber(FCChartObj.showsum,1)),stack100percent=pluckNumber(FCChartObj.usepercentdistribution,1),showPercentValues=pluckNumber(FCChartObj.showpercentvalues,0),showPercentInToolTip=pluckNumber(FCChartObj.showpercentintooltip,stack100percent,0),conf.showXAxisPercentValues=pluckNumber(FCChartObj.showxaxispercentvalues,1)):(conf.showStackTotal=Boolean(pluckNumber(this.showSum,FCChartObj.showsum,0)),stack100percent=pluckNumber(this.stack100percent,FCChartObj.stack100percent,0),showPercentValues=pluckNumber(FCChartObj.showpercentvalues,stack100percent,0),showPercentInToolTip=pluckNumber(FCChartObj.showpercentintooltip,showPercentValues)),conf.showPercentValues=showPercentValues,conf.showPercentInToolTip=showPercentInToolTip,stack100percent?(conf.isValueAbs=!0,plotOptions[defaultSeries].stacking="percent",conf[0].stacking100Percent=!0):plotOptions[defaultSeries].stacking="normal"),this.isDual&&("0"===FCChartObj.primaryaxisonleft&&(hc.yAxis[0].opposite=!0,hc.yAxis[1].opposite=!1),hc.yAxis[0].showAlways=!0,hc.yAxis[1].showAlways=!0),HCChartObj.useRoundEdges&&(hc.plotOptions.series.shadow=pluckNumber(FCChartObj.showshadow,FCChartObj.showcolumnshadow,1),hc.plotOptions.series.borderRadius=1,hc.tooltip.style.borderRadius="2px",HCChartObj.plotBorderRadius=3,showCanvasBorder||(HCChartObj.plotBorderWidth=0),HCChartObj.plotShadow=hc.plotOptions.series.shadow?{enabled:!0,opacity:canBGAlpha/100}:0),1===pluckNumber(FCChartObj.use3dlighting,1)&&(hc.legend.lighting3d=!0),hc.plotOptions.series.userMaxColWidth=isBar?FCChartObj.maxbarheight:pluckNumber(FCChartObj.maxcolwidth,this.maxColWidth),hc.plotOptions.series.maxColWidth=mathAbs(pluckNumber(hc.plotOptions.series.userMaxColWidth,50))||1,hc.title.text=parseUnsafeString(FCChartObj.caption),hc.subtitle.text=parseUnsafeString(FCChartObj.subcaption),0===pluckNumber(FCChartObj.showtooltip,this.showtooltip)&&(hc.tooltip.enabled=!1),(tooltipStyle=hc.tooltip.style).backgroundColor=convertColor(pluck(tooltipStyle.backgroundColor,FCChartObj.tooltipbgcolor,colorM.getColor("toolTipBgColor")),pluck(FCChartObj.tooltipbgalpha,100)),tooltipStyle.borderColor=convertColor(pluck(tooltipStyle.borderColor,FCChartObj.tooltipbordercolor,colorM.getColor("toolTipBorderColor")),pluck(FCChartObj.tooltipborderalpha,100)),hc.tooltip.shadow=!!pluckNumber(FCChartObj.showtooltipshadow,FCChartObj.showshadow,1)&&{enabled:!0,opacity:mathMax(pluckNumber(FCChartObj.tooltipbgalpha,100),pluckNumber(FCChartObj.tooltipborderalpha,100))/100},hc.tooltip.constrain=pluckNumber(FCChartObj.constraintooltip,1),tooltipStyle.borderWidth=pluckNumber(FCChartObj.tooltipborderthickness,1)+"px",FCChartObj.tooltipborderradius&&(tooltipStyle.borderRadius=pluckNumber(FCChartObj.tooltipborderradius,1)+"px"),tooltipStyle.padding=pluckNumber(FCChartObj.tooltippadding,this.tooltippadding,3)+"px",FCChartObj.tooltipcolor&&(tooltipStyle.color=getFirstColor(FCChartObj.tooltipcolor)),conf.userPlotSpacePercent=hc.plotOptions.series.userPlotSpacePercent=FCChartObj.plotspacepercent,plotSpacePercent=pluckNumber(FCChartObj.plotspacepercent,20)%100,conf.plotSpacePercent=hc.plotOptions.series.groupPadding=plotSpacePercent/200,is3d&&!isPie?(HCChartObj.series2D3Dshift="mscombi3d"===chartName||Boolean(pluckNumber(FCChartObj.use3dlineshift,0)),HCChartObj.canvasBaseColor3D=pluck(FCChartObj.canvasbasecolor,colorM.getColor("canvasBaseColor3D")),HCChartObj.canvasBaseDepth=pluckNumber(FCChartObj.canvasbasedepth,10),HCChartObj.canvasBgDepth=pluckNumber(FCChartObj.canvasbgdepth,3),HCChartObj.showCanvasBg=Boolean(pluckNumber(FCChartObj.showcanvasbg,1)),HCChartObj.showCanvasBase=Boolean(pluckNumber(FCChartObj.showcanvasbase,1)),isBar?(HCChartObj.xDepth=5,HCChartObj.yDepth=5,HCChartObj.showCanvasBg&&(conf.marginTopExtraSpace+=HCChartObj.canvasBgDepth),conf.marginLeftExtraSpace+=HCChartObj.yDepth+(HCChartObj.showCanvasBase?HCChartObj.canvasBaseDepth:0),conf.marginBottomExtraSpace+=5):(HCChartObj.xDepth=10,HCChartObj.yDepth=10,HCChartObj.showCanvasBg&&(conf.marginRightExtraSpace+=HCChartObj.canvasBgDepth),conf.marginBottomExtraSpace+=HCChartObj.yDepth+(HCChartObj.showCanvasBase?HCChartObj.canvasBaseDepth:0)),canBGColor=canBGColor.split(COMMASTRING)[0],canBGAlpha=canBGAlpha.split(COMMASTRING)[0],HCChartObj.use3DLighting=Boolean(pluckNumber(FCChartObj.use3dlighting,1)),HCChartObj.use3DLighting?HCChartObj.plotBackgroundColor={FCcolor:{color:getDarkColor(canBGColor,85)+COMMASTRING+getLightColor(canBGColor,55),alpha:canBGAlpha+COMMASTRING+canBGAlpha,ratio:BGRATIOSTRING,angle:getAngle(width-(HCChartObj.marginLeft+HCChartObj.marginRight),height-(HCChartObj.marginTop+HCChartObj.marginBottom),1)}}:HCChartObj.plotBackgroundColor=convertColor(canBGColor,canBGAlpha),HCChartObj.canvasBgColor=convertColor(getDarkColor(canBGColor,80),canBGAlpha),zeroPlaneColor=pluck(FCChartObj.zeroplanecolor,FCChartObj.divlinecolor,colorM.getColor(palleteString.divLineColor)),zeroPlaneAlpha=pluck(FCChartObj.zeroplanealpha,FCChartObj.divlinealpha,colorM.getColor("divLineAlpha")),HCChartObj.zeroPlaneColor=convertColor(zeroPlaneColor,zeroPlaneAlpha),HCChartObj.zeroPlaneBorderColor=convertColor(pluck(FCChartObj.zeroplanebordercolor,zeroPlaneColor),pluckNumber(FCChartObj.zeroplaneshowborder,1)?zeroPlaneAlpha:0),HCChartObj.zeroPlaneShowBorder=pluckNumber(FCChartObj.zeroplaneshowborder,1)):(HCChartObj.is3D=!1,HCChartObj.plotBackgroundColor={FCcolor:{color:canBGColor,alpha:canBGAlpha,angle:pluck(FCChartObj.canvasbgangle,colorM.getColor("canvasBgAngle")),ratio:pluck(FCChartObj.canvasbgratio,colorM.getColor("canvasBgRatio"))}}),this.parseExportOptions(hc),this.parseHoverEffectOptions(HCChartObj),this.preSeriesAddition&&this.preSeriesAddition(hc,obj,width,height),this.series&&this.series(obj,hc,chartName,width,height),this.postSeriesAddition(hc,obj,width,height),this.spaceManager(hc,obj,width,height),this.postSpaceManager&&this.postSpaceManager(hc,obj,width,height),drawQuadrant=pluckNumber(FCChartObj.drawquadrant,0),conf.isXYPlot&&drawQuadrant&&(xMin=xAxis.min,xMax=xAxis.max,yMin=hc.yAxis[0].min,yMax=hc.yAxis[0].max,quadrantXVal=pluckNumber(FCChartObj.quadrantxval,(xMin+xMax)/2),(quadrantYVal=pluckNumber(FCChartObj.quadrantyval,(yMin+yMax)/2))>=yMin&&quadrantYVal<=yMax&&quadrantXVal>=xMin&&quadrantXVal<=xMax&&(quadrantLineColor=convertColor(pluck(FCChartObj.quadrantlinecolor,HCChartObj.plotBorderColor),pluck(FCChartObj.quadrantlinealpha,HUNDREDSTRING)),quadrantLineThickness=pluckNumber(FCChartObj.quadrantlinethickness,HCChartObj.plotBorderWidth),quadrantLineIsDashed=pluckNumber(FCChartObj.quadrantlinedashed,FCChartObj.quadrantlineisdashed,0),quadrantLineDashLen=pluckNumber(FCChartObj.quadrantlinedashLen,4),quadrantLineDashGap=pluckNumber(FCChartObj.quadrantlinedashgap,2),quadrantLabelTL=getValidValue(FCChartObj.quadrantlabeltl,BLANKSTRING),quadrantLabelTR=getValidValue(FCChartObj.quadrantlabeltr,BLANKSTRING),quadrantLabelBL=getValidValue(FCChartObj.quadrantlabelbl,BLANKSTRING),quadrantLabelBR=getValidValue(FCChartObj.quadrantlabelbr,BLANKSTRING),quadrantLabelPadding=pluckNumber(FCChartObj.quadrantlabelpadding,3),dashStyle=quadrantLineIsDashed?getDashStyle(quadrantLineDashLen,quadrantLineDashGap,quadrantLineThickness):"none",xAxis.plotLines.push({color:quadrantLineColor,value:quadrantXVal,width:quadrantLineThickness,dashStyle:dashStyle,zIndex:3}),hc.yAxis[0].plotLines.push({color:quadrantLineColor,value:quadrantYVal,width:quadrantLineThickness,dashStyle:dashStyle,zIndex:3}),canvasWidth=width-HCChartObj.marginRight-HCChartObj.marginLeft,canvasHeight=height-HCChartObj.marginTop-HCChartObj.marginBottom,inCanvasStyle=conf.inCanvasStyle,labelWidthPart2=canvasWidth-(labelWidthPart1=canvasWidth/(xMax-xMin)*(quadrantXVal-xMin)),labelHeightPart1=canvasHeight-(labelHeightPart2=canvasHeight/(yMax-yMin)*(quadrantYVal-yMin)),labelWidthPart1-=quadrantLabelPadding,labelWidthPart2-=quadrantLabelPadding,labelHeightPart1-=quadrantLabelPadding,labelHeightPart2-=quadrantLabelPadding,top1=quadrantLabelPadding+PXSTRING,top2=canvasHeight-quadrantLabelPadding+PXSTRING,left1=quadrantLabelPadding+PXSTRING,left2=canvasWidth-quadrantLabelPadding+PXSTRING,smartLabel.setStyle(inCanvasStyle),labelHeightPart1>0&&(quadrantLabelTL!==BLANKSTRING&&labelWidthPart1>0&&(smartText=smartLabel.getSmartText(quadrantLabelTL,labelWidthPart1,labelHeightPart1),hc.labels.items.push({html:smartText.text,zIndex:3,vAlign:POSITION_TOP,style:{left:left1,top:top1,fontSize:inCanvasStyle.fontSize,lineHeight:inCanvasStyle.lineHeight,fontFamily:inCanvasStyle.fontFamily,color:inCanvasStyle.color}})),quadrantLabelTR!==BLANKSTRING&&labelWidthPart2>0&&(smartText=smartLabel.getSmartText(quadrantLabelTR,labelWidthPart2,labelHeightPart1),hc.labels.items.push({html:smartText.text,textAlign:POSITION_RIGHT,vAlign:POSITION_TOP,zIndex:3,style:{left:left2,top:top1,fontSize:inCanvasStyle.fontSize,lineHeight:inCanvasStyle.lineHeight,fontFamily:inCanvasStyle.fontFamily,color:inCanvasStyle.color}}))),labelHeightPart2>0&&(quadrantLabelBL!==BLANKSTRING&&labelWidthPart1>0&&(smartText=smartLabel.getSmartText(quadrantLabelBL,labelWidthPart1,labelHeightPart2),hc.labels.items.push({html:smartText.text,vAlign:POSITION_BOTTOM,zIndex:3,style:{left:left1,top:top2,fontSize:inCanvasStyle.fontSize,lineHeight:inCanvasStyle.lineHeight,fontFamily:inCanvasStyle.fontFamily,color:inCanvasStyle.color}})),quadrantLabelBR!==BLANKSTRING&&labelWidthPart2>0&&(smartText=smartLabel.getSmartText(quadrantLabelBR,labelWidthPart2,labelHeightPart2),hc.labels.items.push({html:smartText.text,textAlign:POSITION_RIGHT,vAlign:POSITION_BOTTOM,zIndex:3,style:{left:left2,top:top2,fontSize:inCanvasStyle.fontSize,lineHeight:inCanvasStyle.lineHeight,fontFamily:inCanvasStyle.fontFamily,color:inCanvasStyle.color}}))))),this.hasVDivLine&&(showVerticalDivLines=pluckNumber(FCChartObj.showvdivlines,0),numVDivLines=pluckNumber(FCChartObj.numvdivlines,0)+1,showVerticalDivLines&&(numVDivLines=conf.x.catCount-1),numVDivLines>1)){for(min=xAxis.min,catLength=conf.x.catCount-1,max=xAxis.max,gridInterval=catLength/numVDivLines,drawAltGrid=!0,lastValue=min,xAxis.scroll&&!isNaN(xAxis.scroll.viewPortMax)&&(max=xAxis.scroll.viewPortMax),vDivLineColor=pluck(FCChartObj.vdivlinecolor,divLineColor),vDivLineAlpha=pluckNumber(FCChartObj.vdivlinealpha,divLineAlpha),vDivLineThickness=pluckNumber(FCChartObj.vdivlinethickness,divLineThickness),vDivLineIsDashed=pluckNumber(FCChartObj.vdivlinedashed,FCChartObj.vdivlineisdashed,divLineIsDashed),vDivLineDashLen=pluckNumber(FCChartObj.vdivlinedashlen,divLineDashLen),vDivLineDashGap=pluckNumber(FCChartObj.vdivlinedashgap,divLineDashGap),(showAlternateVGridColor=pluckNumber(FCChartObj.showalternatevgridcolor,0))&&(alternateVGridColor=convertColor(pluck(FCChartObj.alternatevgridcolor,colorM.getColor("altVGridColor")),pluck(FCChartObj.alternatevgridalpha,colorM.getColor("altVGridAlpha")))),value=gridInterval;value<catLength;value+=gridInterval,drawAltGrid=!drawAltGrid)drawAltGrid&&showAlternateVGridColor&&xAxis.plotBands.push({isNumVDIV:!0,color:alternateVGridColor,from:lastValue,to:value,zIndex:1}),xAxis.plotLines.push({isNumVDIV:!0,width:vDivLineThickness,color:convertColor(vDivLineColor,vDivLineAlpha),dashStyle:vDivLineIsDashed?getDashStyle(vDivLineDashLen,vDivLineDashGap,vDivLineThickness):"none",value:value,zIndex:1}),lastValue=value;drawAltGrid&&showAlternateVGridColor&&xAxis.plotBands.push({isNumVDIV:!0,color:alternateVGridColor,from:lastValue,to:max,zIndex:1})}return marginTop=HCChartObj.marginTop,marginBottom=HCChartObj.marginBottom,marginLeft=HCChartObj.marginLeft,marginRight=HCChartObj.marginRight,snapLiterals.canvasstartx=marginLeft,snapLiterals.canvasstarty=marginTop,snapLiterals.canvasendx=width-marginRight,snapLiterals.canvasendy=height-marginBottom,snapLiterals.canvaswidth=snapLiterals.canvasendx-snapLiterals.canvasstartx,snapLiterals.canvasheight=snapLiterals.canvasendy-snapLiterals.canvasstarty,hc.legend&&hc.legend.enabled&&"vertical"===hc.legend.layout&&(snapLiterals.legendstarty=marginTop+.5*(conf.height-marginBottom-marginTop-snapLiterals.legendheight)+(hc.legend.y||0),snapLiterals.legendendy=snapLiterals.legendstarty+snapLiterals.legendheight),is3d&&HCChartObj.xDepth>HCChartObj.marginLeft&&(HCChartObj.marginLeft=HCChartObj.xDepth),win.console&&win.console.log&&win.FC_DEV_ENVIRONMENT&&console.log(hc),hc},parseHoverEffectOptions:function(HCChartObj){var chart=this,FCChartObj=this.dataObj.chart,plotHoverEffects;HCChartObj.showHoverEffect=FCChartObj.showhovereffect,HCChartObj.plotHoverEffect=pluckNumber(FCChartObj.plothovereffect,FCChartObj.anchorhovereffect,HCChartObj.showHoverEffect),(plotHoverEffects=HCChartObj.plotHoverEffects={enabled:HCChartObj.plotHoverEffect}).highlight=pluckNumber(FCChartObj.highlightonhover,FCChartObj.highlightplotonhover,HCChartObj.plotHoverEffect),plotHoverEffects.columnHighlight=pluckNumber(plotHoverEffects.highlight,FCChartObj.highlightcolumnonhover,FCChartObj.highlightbaronhover),plotHoverEffects.anchorHighlight=pluckNumber(plotHoverEffects.highlight,FCChartObj.highlightanchoronhover),plotHoverEffects.imageHighlight=pluckNumber(plotHoverEffects.highlight,FCChartObj.highlightanchorimageonhover),plotHoverEffects.anchorImageHoverAlpha=pluck(FCChartObj.anchorimagehoveralpha),plotHoverEffects.anchorImageHoverScale=pluck(FCChartObj.anchorimagehoverscale),plotHoverEffects.bubbleHighlight=pluckNumber(plotHoverEffects.highlight,FCChartObj.highlightbubbleonhover),plotHoverEffects.color=pluck(FCChartObj.plotfillhovercolor,FCChartObj.columnhovercolor,FCChartObj.barhovercolor,FCChartObj.bubblehovercolor),plotHoverEffects.alpha=pluck(FCChartObj.plotfillhoveralpha,FCChartObj.columnhoveralpha,FCChartObj.barhoveralpha,FCChartObj.bubblehoveralpha),plotHoverEffects.scale=pluck(FCChartObj.plothoverscale,FCChartObj.columnhoverscale,FCChartObj.barhoverscale,FCChartObj.bubblehoverscale),plotHoverEffects.gradientColor=FCChartObj.plothovergradientcolor,plotHoverEffects.ratio=FCChartObj.plothoverratio,plotHoverEffects.angle=FCChartObj.plothoverangle,plotHoverEffects.borderColor=FCChartObj.plotborderhovercolor,plotHoverEffects.borderAlpha=FCChartObj.plotborderhoveralpha,plotHoverEffects.borderThickness=FCChartObj.plotborderhoverthickness,plotHoverEffects.borderDashed=FCChartObj.plotborderhoverdashed,plotHoverEffects.borderDashGap=FCChartObj.plotborderhoverdashgap,plotHoverEffects.borderDashLen=FCChartObj.plotborderhoverdashlen,plotHoverEffects.shadow=FCChartObj.plothovershadow,plotHoverEffects.anchorScale=FCChartObj.anchorhoverscale,plotHoverEffects.anchorSides=FCChartObj.anchorhoversides,plotHoverEffects.anchorRadius=FCChartObj.anchorhoverradius,plotHoverEffects.anchorAlpha=FCChartObj.anchorhoveralpha,plotHoverEffects.anchorBgColor=pluck(FCChartObj.anchorbghovercolor,FCChartObj.anchorhovercolor),plotHoverEffects.anchorBgAlpha=FCChartObj.anchorbghoveralpha,plotHoverEffects.anchorBorderColor=FCChartObj.anchorborderhovercolor,plotHoverEffects.anchorBorderAlpha=FCChartObj.anchorborderhoveralpha,plotHoverEffects.anchorBorderThickness=FCChartObj.anchorborderhoverthickness,plotHoverEffects.anchorStartAngle=FCChartObj.anchorhoverstartangle,plotHoverEffects.anchorDip=pluckNumber(FCChartObj.anchorhoverdip),plotHoverEffects.anchorAnimation=pluckNumber(FCChartObj.anchorhoveranimation,1),plotHoverEffects.negativeColor=pluck(FCChartObj.negativehovercolor,FCChartObj.negativecolor),plotHoverEffects.is3DBubble=pluckNumber(FCChartObj.is3donhover)},parseExportOptions:function(hc){var chart=this,exportActionSentenceCase,FCChartObj=this.dataObj.chart,bgColor=this.chartInstance.jsVars.transparent?"":this.chartInstance.options.containerBackgroundColor||"#ffffff",iOS=win.navigator.userAgent.match(/(iPad|iPhone|iPod)/g);hc.exporting.enabled=pluckNumber(FCChartObj.exportenabled,0),hc.exporting.bgcolor=bgColor,hc.exporting.exporttargetwindow=pluck(FCChartObj.exporttargetwindow,iOS?"_blank":"_self"),hc.exporting.exportaction=FCChartObj.exportaction&&"save"===FCChartObj.exportaction.toString().toLowerCase()?"save":"download",exportActionSentenceCase=getSentenceCase(hc.exporting.exportaction),hc.exporting.exportfilename=pluck(FCChartObj.exportfilename,"FusionCharts"),hc.exporting.exporthandler=pluck(FCChartObj.html5exporthandler,FCChartObj.exporthandler,DEFAULT_EXPORT_URL),hc.exporting.exportparameters=pluck(FCChartObj.exportparameters,""),hc.exporting.exportformat=pluck(FCChartObj.exportformat,"PNG"),hc.exporting.exportatclient=pluckNumber(FCChartObj.exportatclient,0),hc.exporting.exportformats=function(strFormats){var exportFormats={JPG:exportActionSentenceCase+" as JPEG image",PNG:exportActionSentenceCase+" as PNG image",PDF:exportActionSentenceCase+" as PDF document",SVG:exportActionSentenceCase+" as SVG vector image"},finalFormats,arrFormats,item,format,label,i=0;if(strFormats)for(arrFormats=strFormats.split("|"),i=0;i<arrFormats.length;i++)format=(item=arrFormats[i].split("="))&&item[0].toUpperCase()||"",label=item&&item[1]||"",exportFormats[format]&&(finalFormats||(finalFormats={}))&&(finalFormats[format]=label||exportFormats[format]);return finalFormats||exportFormats}(FCChartObj.exportformats),hc.exporting.buttons.printButton.enabled="1"==FCChartObj.showprintmenuitem,hc.exporting.buttons.exportButton.enabled="1"==FCChartObj.exportenabled&&"0"!=FCChartObj.exportshowmenuitem},defaultSeriesType:BLANKSTRING,paletteIndex:1,creditLabel:!1,titleSpaceManager:titleSpaceManager,placeLegendBlockBottom:placeLegendBlockBottom,configureLegendOptions:configureLegendOptions,placeLegendBlockRight:placeLegendBlockRight,placeHorizontalAxis:placeHorizontalAxis,placeVerticalAxis:placeVerticalAxis,placeHorizontalCanvasMarginAdjustment:adjustHorizontalCanvasMargin,placeVerticalCanvasMarginAdjustment:adjustVerticalCanvasMargin,placeHorizontalXYSpaceManager:barXYSpaceManager,placeVerticalXYSpaceManager:nonBarXYSpaceManager,placeVerticalAxisTitle:adjustVerticalAxisTitle,calculateCanvasOverflow:calculateCanvasOverflow,spaceManager:function(){return this.placeVerticalXYSpaceManager.apply(this,arguments)},axisMinMaxSetter:function(aXisObj,axisConf,yAxisMaxValue,yAxisMinValue,stopMaxAtZero,setMinAsZero,numDivLines,adjustDiv){var axisLimits;axisLimits=axisConf.stacking100Percent?getAxisLimits(99,1,100,0,stopMaxAtZero,setMinAsZero,numDivLines,adjustDiv):getAxisLimits(pluckNumber(axisConf.max,yAxisMaxValue),pluckNumber(axisConf.min,yAxisMinValue),yAxisMaxValue,yAxisMinValue,stopMaxAtZero,setMinAsZero,numDivLines,adjustDiv),aXisObj.min=Number(toPrecision(axisLimits.Min,10)),aXisObj.max=Number(toPrecision(axisLimits.Max,10)),aXisObj.tickInterval=Number(toPrecision(axisLimits.divGap,10)),axisConf.numdivlines=math.round((aXisObj.max-aXisObj.min)/aXisObj.tickInterval)-1,axisLimits.Range/axisLimits.divGap<=2&&(aXisObj.alternateGridColor=COLOR_TRANSPARENT),this.highValue=axisConf.max,this.lowValue=axisConf.min,delete axisConf.max,delete axisConf.min},configurePlotLines:configureAxis,xAxisMinMaxSetter:function(hcJSON,fcJSON,canvasWidth,cpLeft,cpRight){var conf=hcJSON[FC_CONFIG_STRING],xAxisConf=conf.x,FCChartObj=fcJSON.chart,min=xAxisConf.min=pluckNumber(xAxisConf.min,0),max=xAxisConf.max=pluckNumber(xAxisConf.max,xAxisConf.catCount-1),leftValuePad=0,rightValuePad=0,valuePixelRatio,defaultSeries=hcJSON.chart.defaultSeriesType,isColumnType=/^(column|column3d|bar|bar3d|floatedcolumn|sparkwinloss|boxandwhisker2d|dragcolumn)$/.test(defaultSeries),isLineType=/^(line|area|spline|areaspline)$/.test(defaultSeries),isXYPlot=/^(scatter|bubble|candlestick|dragnode)$/.test(defaultSeries),xAxis=hcJSON.xAxis,scrollOptions=xAxis.scroll,canvasPadding=pluckNumber(FCChartObj.canvaspadding),cpDefined=defined(canvasPadding),leftPixelPad=mathCeil(mathMin(pluckNumber(canvasPadding,cpLeft,0),canvasWidth/2-10)),rightPixelPad=mathCeil(mathMin(pluckNumber(canvasPadding,cpRight,0),canvasWidth/2-10)),setadaptiveXmin,stopMaxAtZero,setMinAsZero,numVDivLines,adjustVDiv,showXAxisValues,showVLimits,showVDivLineValues,xaxisvaluesstep,vxLength,perColWidth,scrollableLength;xAxisConf.adjustMinMax&&(setMinAsZero=stopMaxAtZero=!(setadaptiveXmin=pluckNumber(FCChartObj.setadaptivexmin,1)),numVDivLines=pluckNumber(this.numVDivLines,FCChartObj.numvdivlines,4),adjustVDiv=FCChartObj.adjustvdiv!==ZEROSTRING,showXAxisValues=pluckNumber(FCChartObj.showxaxisvalues,FCChartObj.showxaxisvalue,1),showVLimits=pluckNumber(FCChartObj.showvlimits,showXAxisValues),showVDivLineValues=pluckNumber(FCChartObj.showvdivlinevalue,FCChartObj.showvdivlinevalues,showXAxisValues),this.axisMinMaxSetter(xAxis,xAxisConf,FCChartObj.xaxismaxvalue,FCChartObj.xaxisminvalue,stopMaxAtZero,setMinAsZero,numVDivLines,adjustVDiv),min=xAxis.min,max=xAxis.max,xAxisConf.requiredAutoNumericLabels&&(xaxisvaluesstep=(xaxisvaluesstep=pluckNumber(parseInt(FCChartObj.xaxisvaluesstep,10),1))<1?1:xaxisvaluesstep,this.configurePlotLines(FCChartObj,hcJSON,xAxis,xAxisConf,showVLimits,showVDivLineValues,xaxisvaluesstep,conf.numberFormatter,!1,!0)),xAxis.plotLines.sort(plotLineSortFN)),xAxis.labels.enabled=!1,xAxis.gridLineWidth=0,xAxis.alternateGridColor=COLOR_TRANSPARENT,!isColumnType&&!conf.isScroll||conf.hasNoColumn||(!cpDefined&&defined(cpLeft)&&defined(cpRight)?(leftPixelPad=(perColWidth=canvasWidth/(max-min+1)*.5)-cpLeft>0?0:leftPixelPad,rightPixelPad=perColWidth-cpRight>0?0:rightPixelPad,leftValuePad=perColWidth-cpLeft>0?.5:0,rightValuePad=perColWidth-cpRight>0?.5:0):(leftValuePad=.5,rightValuePad=.5)),conf.is3d&&(leftPixelPad+=pluckNumber(hcJSON.chart.xDepth,0)),valuePixelRatio=(canvasWidth-(leftPixelPad+rightPixelPad))/(max-min+(leftValuePad+rightValuePad)),xAxis.min=min-(leftValuePad+leftPixelPad/valuePixelRatio),xAxis.max=max+(rightValuePad+rightPixelPad/valuePixelRatio),scrollOptions&&scrollOptions.enabled&&(vxLength=scrollOptions.vxLength,scrollableLength=xAxis.max-xAxis.min,scrollOptions.viewPortMin=xAxis.min,scrollOptions.viewPortMax=xAxis.max,scrollOptions.scrollRatio=vxLength/scrollableLength,scrollOptions.flatScrollBars=conf.flatScrollBars,scrollOptions.scrollBar3DLighting=conf.scrollBar3DLighting,xAxis.max=xAxis.min+vxLength),isLineType&&xAxis.min===xAxis.max&&(xAxis.min-=.65,xAxis.max+=.65),isXYPlot&&fcJSON.vtrendlines&&createTrendLine(fcJSON.vtrendlines,xAxis,conf,!1,!0,!0)},postSeriesAddition:postSeriesAddition,styleMapForFont:fontStyleMap,styleApplicationDefinition_font:function(HC,toObj,style){var styleobject,x,y,isDataValues=!1,i,len,styleobjectI,fontStyleMap=this.styleMapForFont;switch(toObj){case"caption":styleobject=HC.title;break;case"datalabels":styleobject=HC.xAxis.labels;break;case"datavalues":styleobject=HC.plotOptions.series.dataLabels,isDataValues=!0;break;case"tldatavalues":styleobject={style:HC.plotOptions.series.dataLabels.tlLabelStyle};break;case"trdatavalues":styleobject={style:HC.plotOptions.series.dataLabels.trLabelStyle};break;case"bldatavalues":styleobject={style:HC.plotOptions.series.dataLabels.blLabelStyle};break;case"brdatavalues":styleobject={style:HC.plotOptions.series.dataLabels.brLabelStyle};break;case"subcaption":styleobject=HC.subtitle;break;case"tooltip":styleobject=HC.tooltip;break;case"trendvalues":styleobject={style:HC[FC_CONFIG_STRING].trendStyle};break;case"xaxisname":styleobject=HC.xAxis.title;break;case"yaxisname":case"pyaxisname":case"axistitle":for(styleobject=[],i=0,len=HC.yAxis.length;i<len;i+=1)styleobject.push(HC.yAxis[i].title);break;case"yaxisvalues":for(styleobject=[],i=0,len=HC.yAxis.length;i<len;i+=1)styleobject.push(HC.yAxis[i].labels);break;case"vlinelabels":styleobject={style:HC[FC_CONFIG_STRING].divlineStyle};break;case"legend":styleobject={style:HC.legend.itemStyle};break;default:(styleobject=HC.orphanStyles[toObj])||(HC.orphanStyles[toObj]=styleobject={text:"",style:{}})}if("object"==typeof styleobject)if(styleobject instanceof Array)for(i=0,len=styleobject.length;i<len;i+=1){for(x in styleobjectI=styleobject[i],style)"function"==typeof fontStyleMap[y=x.toLowerCase()]&&fontStyleMap[y](style[x],styleobjectI,isDataValues);setLineHeight(styleobjectI.style)}else{for(x in style)"function"==typeof fontStyleMap[y=x.toLowerCase()]&&fontStyleMap[y](style[x],styleobject,isDataValues);setLineHeight(styleobject.style)}},parseStyles:function(hcObj){var j,styleArr,styleName,tempstyle={},l,definitionObj,fcObj=this.dataObj;if(fcObj.styles&&fcObj.styles.definition instanceof Array&&fcObj.styles.application instanceof Array){for(j=0;j<fcObj.styles.definition.length;j+=1)(definitionObj=fcObj.styles.definition[j]).type&&definitionObj.name&&this["styleApplicationDefinition_"+definitionObj.type.toLowerCase()]&&(tempstyle[definitionObj.name.toLowerCase()]=definitionObj);for(j=0;j<fcObj.styles.application.length;j+=1)for(styleArr=fcObj.styles.application[j].styles&&fcObj.styles.application[j].styles.split(COMMASTRING)||[],l=0;l<styleArr.length;l+=1)tempstyle[styleName=styleArr[l].toLowerCase()]&&fcObj.styles.application[j].toobject&&this["styleApplicationDefinition_"+tempstyle[styleName].type.toLowerCase()](hcObj,fcObj.styles.application[j].toobject.toLowerCase(),tempstyle[styleName])}},updateDefaultAnnotations:function(){var logic=this,chart=this.renderer,data=this.dataObj,chartObj=this.chartInstance,definition=data&&data.annotations||{},sharedOptions={},scaleOnResize;this.drawAnnotations&&chartObj.dataReady()&&data&&data.chart&&pluckNumber(data.chart.showannotations,1)?(scaleOnResize=pluckNumber(definition.scaleonresize,data.chart.scaleonresize,1),sharedOptions=extend({interactionevents:pluck(this.annotationInteractionEvents,!0),showbelow:pluck(definition.showbelow,definition.showbelowchart),autoscale:definition.autoscale,scaletext:definition.scaletext,scaleimages:definition.scaleimages,constrainedscale:definition.constrainedscale,scaleonresize:scaleOnResize,origw:pluck(definition.origw,data.chart.origw,scaleOnResize?this.origRenderWidth:chart.chartWidth),origh:pluck(definition.origh,data.chart.origh,scaleOnResize?this.origRenderHeight:chart.chartHeight),xshift:definition.xshift,yshift:definition.yshift,grpxshift:definition.grpxshift,grpyshift:definition.grpyshift,xscale:definition.xscale,yscale:definition.yscale,rootxscale:pluckNumber(definition.xscale,100)/100,rootyscale:pluckNumber(definition.yscale,100)/100},sharedOptions),chartObj.annotations.reset(definition,sharedOptions,this.snapLiterals)):chartObj.annotations.clear()},dispose:function(){var logic=this,prop;for(prop in this.disposing=!0,this.renderer&&this.renderer.dispose(),this.numberFormatter&&this.numberFormatter.dispose(),this.hcJSON&&this.hcJSON.chart&&this.hcJSON.chart.renderTo&&delete this.hcJSON.chart.renderTo,this)delete this[prop];delete this.disposing,this.disposed=!0}}),chartAPI("stub",{init:function(container,dataObj,chartObj){this.containerElement=container,this.smartLabel=chartObj.jsVars.smartLabel},standaloneInit:!0},chartAPI.base),chartAPI("barbase",{spaceManager:function(){return this.placeHorizontalXYSpaceManager.apply(this,arguments)}},chartAPI.base),chartAPI("singleseries",{series:function(FCObj,HCObj,chartName){var data=FCObj.data||FCObj.dataset&&FCObj.dataset[0]&&FCObj.dataset[0].data,series,seriesArr;data&&data.length>0&&data instanceof Array&&(series={data:[],hoverEffects:this.parseSeriesHoverOptions(FCObj,HCObj,{},chartName),colorByPoint:!0},HCObj.legend.enabled=!1,(seriesArr=this.point(chartName,series,data,FCObj.chart,HCObj))instanceof Array?HCObj.series=HCObj.series.concat(seriesArr):HCObj.series.push(seriesArr),this.configureAxis(HCObj,FCObj),FCObj.trendlines&&createTrendLine(FCObj.trendlines,HCObj.yAxis,HCObj[FC_CONFIG_STRING],!1,this.isBar))},defaultSeriesType:BLANKSTRING,configureAxis:yxAxisConfigurer,pointValueWatcher:pointValueWatcher,parseSeriesHoverOptions:function(FCObj,HCObj,dataset){var globalHoverEffects=HCObj.chart.plotHoverEffects,hoverEffect,hoverEffects;return(hoverEffects={enabled:pluck(dataset.showhovereffect,dataset.hovereffect,globalHoverEffects.enabled)}).highlight=pluckNumber(dataset.highlightonhover,dataset.highlightplotonhover,globalHoverEffects.highlight),hoverEffects.columnHighlight=pluckNumber(hoverEffects.highlight,dataset.highlightcolumnonhover,dataset.highlightbaronhover,globalHoverEffects.columnHighlight),hoverEffects.anchorHighlight=pluckNumber(hoverEffects.highlight,dataset.highlightanchoronhover,globalHoverEffects.anchorHighlight),hoverEffects.anchorHighlight=pluckNumber(hoverEffects.highlight,dataset.highlightimageonhover,globalHoverEffects.imageHighlight),hoverEffects.bubbleHighlight=pluckNumber(hoverEffects.highlight,dataset.highlightbubbleonhover,dataset.highlightbaronhover,globalHoverEffects.bubbleHighlight),hoverEffects.imageHoverAlpha=pluck(dataset.anchorimagehoveralpha,globalHoverEffects.anchorImageHoverAlpha),hoverEffects.imageHoverScale=pluck(dataset.anchorimagehoverscale,globalHoverEffects.anchorImageHoverScale),hoverEffects.color=pluck(dataset.hovercolor,dataset.bubblehovercolor,globalHoverEffects.color),hoverEffects.alpha=pluck(dataset.hoveralpha,globalHoverEffects.alpha),hoverEffects.scale=pluck(dataset.hoverscale,dataset.bubblehoverscale,globalHoverEffects.scale),hoverEffects.gradientColor=void 0!==dataset.hovergradientcolor?dataset.hovergradientcolor:globalHoverEffects.gradientColor,hoverEffects.ratio=pluck(dataset.hoverratio,globalHoverEffects.ratio),hoverEffects.angle=pluck(dataset.hoverangle,globalHoverEffects.angle),hoverEffects.borderColor=pluck(dataset.borderhovercolor,globalHoverEffects.borderColor),hoverEffects.borderAlpha=pluck(dataset.borderhoveralpha,globalHoverEffects.borderAlpha),hoverEffects.borderThickness=pluckNumber(dataset.borderhoverthickness,globalHoverEffects.borderThickness),hoverEffects.borderDashed=pluckNumber(dataset.borderhoverdashed,globalHoverEffects.borderDashed),hoverEffects.borderDashGap=pluckNumber(dataset.borderhoverdashgap,globalHoverEffects.borderDashGap),hoverEffects.borderDashLen=pluckNumber(dataset.borderhoverdashlen,globalHoverEffects.borderDashLen),hoverEffects.shadow=pluck(dataset.hovershadow,globalHoverEffects.shadow),hoverEffects.anchorSides=pluck(dataset.anchorhoversides,globalHoverEffects.anchorSides),hoverEffects.anchorRadius=pluck(dataset.anchorhoverradius,globalHoverEffects.anchorRadius),hoverEffects.anchorScale=pluck(dataset.anchorhoverscale,globalHoverEffects.anchorScale),hoverEffects.anchorAlpha=pluck(dataset.anchorhoveralpha,dataset.hoveralpha,globalHoverEffects.anchorAlpha),hoverEffects.anchorBgColor=pluck(dataset.anchorbghovercolor,dataset.anchorhovercolor,globalHoverEffects.anchorBgColor),hoverEffects.anchorBgAlpha=pluck(dataset.anchorbghoveralpha,globalHoverEffects.anchorBgAlpha),hoverEffects.anchorBorderColor=pluck(dataset.anchorborderhovercolor,globalHoverEffects.anchorBorderColor),hoverEffects.anchorBorderAlpha=pluck(dataset.anchorborderhoveralpha,globalHoverEffects.anchorBorderAlpha),hoverEffects.anchorBorderThickness=pluckNumber(dataset.anchorborderhoverthickness,globalHoverEffects.anchorBorderThickness),hoverEffects.anchorStartAngle=pluck(dataset.anchorhoverstartangle,globalHoverEffects.anchorStartAngle),hoverEffects.anchorDip=pluck(dataset.anchorhoverdip,globalHoverEffects.anchorDip),hoverEffects.anchorAnimation=pluckNumber(dataset.anchorhoveranimation,globalHoverEffects.anchorAnimation,1),hoverEffects.negativeColor=pluck(dataset.negativehovercolor,globalHoverEffects.negativeColor),hoverEffects.is3DBubble=pluckNumber(dataset.is3donhover,globalHoverEffects.is3DBubble),hoverEffects},pointHoverOptions:function(dataObj,series,pointCosmetics){var highlightColors,hColorsLen,hColorsLoop,isHoverColorString,rolloverProperties={},seriesHoverEffects=series.hoverEffects,hoverEffect=pluckNumber(dataObj.hovereffect,seriesHoverEffects&&seriesHoverEffects.enabled),quickEnabled=!1,hoverEffects={enabled:hoverEffect},plot=pointCosmetics&&BLANKSTRING+pointCosmetics.plotType.toLowerCase();if(void 0===hoverEffect&&(this.forceHoverEnable?quickEnabled=hoverEffect=hoverEffects.enabled=!0:("anchor"==plot&&(quickEnabled=hoverEffect=pointCosmetics.imageUrl?hoverEffects.enabled=void 0!==pluck(dataObj.anchorimagehoveralpha,seriesHoverEffects.imageHoverAlpha,dataObj.anchorimagehoverscale,seriesHoverEffects.imageHoverScale,void 0):hoverEffects.enabled=void 0!==pluck(dataObj.hovercolor,dataObj.anchorhovercolor,dataObj.anchorbghovercolor,seriesHoverEffects.anchorBgColor,seriesHoverEffects.color,dataObj.hoveralpha,dataObj.anchorhoveralpha,seriesHoverEffects.anchorAlpha,dataObj.bghoveralpha,dataObj.anchorbghoveralpha,seriesHoverEffects.anchorBgAlpha,dataObj.anchorborderhovercolor,dataObj.borderhovercolor,seriesHoverEffects.anchorBorderColor,dataObj.anchorborderhoverthickness,dataObj.borderhoverthickness,seriesHoverEffects.anchorBorderThickness,dataObj.anchorborderhoveralpha,dataObj.borderhoveralpha,seriesHoverEffects.anchorBorderAlpha,dataObj.hoverdip,dataObj.anchorhoverdip,seriesHoverEffects.anchorDip,dataObj.anchorhoverstartangle,seriesHoverEffects.anchorStartAngle,dataObj.hoversides,dataObj.anchorhoversides,seriesHoverEffects.anchorSides,dataObj.hoverradius,dataObj.anchorhoverradius,seriesHoverEffects.anchorRadius,void 0)),"column"!=plot&&"bubble"!=plot||(quickEnabled=hoverEffect=hoverEffects.enabled=void 0!==pluck(dataObj.hoveralpha,seriesHoverEffects.alpha,dataObj.hovergradientcolor,seriesHoverEffects.gradientColor,dataObj.borderhovercolor,seriesHoverEffects.borderColor,dataObj.borderhoverthickness,seriesHoverEffects.borderThickness,dataObj.hoverratio,seriesHoverEffects.ratio,dataObj.hoverangle,seriesHoverEffects.angle,dataObj.borderhoveralpha,seriesHoverEffects.borderAlpha,dataObj.borderhoverdashed,seriesHoverEffects.borderDashed,dataObj.borderhoverdashgap,seriesHoverEffects.borderDashGap,dataObj.borderhoverdashlen,seriesHoverEffects.borderDashLen,dataObj.hovercolor,seriesHoverEffects.color,void 0)),quickEnabled||"bubble"!=plot||(quickEnabled=hoverEffect=hoverEffects.enabled=void 0!==pluck(dataObj.negativehovercolor,seriesHoverEffects.negativeColor,dataObj.is3donhover,seriesHoverEffects.is3DBubble,dataObj.hoverscale,seriesHoverEffects.scale,void 0)),"pie"==plot&&(quickEnabled=hoverEffect=hoverEffects.enabled=void 0!==pluck(dataObj.hovercolor,seriesHoverEffects.color,dataObj.hoveralpha,seriesHoverEffects.alpha,dataObj.borderhovercolor,seriesHoverEffects.borderColor,dataObj.borderhoverthickness,seriesHoverEffects.borderThickness,dataObj.borderhoveralpha,seriesHoverEffects.borderAlpha,void 0)))),hoverEffect){if(hoverEffects.highlight=pluckNumber(dataObj.highlightonhover,seriesHoverEffects.highlight),hoverEffects.columnHighlight=pluckNumber(hoverEffects.highlight,dataObj.highlightcolumnonhover,dataObj.highlightbaronhover),hoverEffects.anchorHighlight=pluckNumber(hoverEffects.highlight,dataObj.highlightanchoronhover),hoverEffects.bubbleHighlight=pluckNumber(hoverEffects.highlight,dataObj.highlightbubbleonhover),hoverEffects.alpha=pluck(dataObj.hoveralpha,seriesHoverEffects.alpha,pointCosmetics.alpha),hoverEffects.scale=pluck(dataObj.hoverscale,seriesHoverEffects.scale,1),hoverEffects.gradientColor=void 0===dataObj.hovergradientcolor?seriesHoverEffects.gradientColor:dataObj.hovergradientcolor,hoverEffects.borderColor=pluck(dataObj.borderhovercolor,seriesHoverEffects.borderColor,pointCosmetics.borderColor),hoverEffects.borderThickness=pluckNumber(dataObj.borderhoverthickness,seriesHoverEffects.borderThickness,pointCosmetics.borderWidth),hoverEffects.ratio=pluck(dataObj.hoverratio,seriesHoverEffects.ratio,pointCosmetics.ratio),hoverEffects.angle=pluck(dataObj.hoverangle,seriesHoverEffects.angle,pointCosmetics.angle),hoverEffects.borderAlpha=pluck(dataObj.borderhoveralpha,seriesHoverEffects.borderAlpha,pointCosmetics.borderAlpha),hoverEffects.borderDashed=pluckNumber(dataObj.borderhoverdashed,seriesHoverEffects.borderDashed,pointCosmetics.borderDashed,0),hoverEffects.borderDashGap=pluckNumber(dataObj.borderhoverdashgap,seriesHoverEffects.borderDashGap,pointCosmetics.borderDashGap),hoverEffects.borderDashLen=pluckNumber(dataObj.borderhoverdashlen,seriesHoverEffects.borderDashLen,pointCosmetics.borderDashLen),hoverEffects.shadow=pluck(dataObj.hovershadow,seriesHoverEffects.shadow,0),hoverEffects.color=pluck(dataObj.hovercolor,seriesHoverEffects.color),"anchor"==plot&&(pointCosmetics.imageUrl?(hoverEffects.imageHoverAlpha=pluckNumber(dataObj.anchorimagehoveralpha,seriesHoverEffects.imageHoverAlpha,100),hoverEffects.imageHoverScale=pointCosmetics.imageScale*mathAbs(pluckNumber(dataObj.anchorimagehoverscale,seriesHoverEffects.imageHoverScale,110))*.01,hoverEffects.anchorAnimation=pluckNumber(dataObj.anchorhoveranimation,seriesHoverEffects.anchorAnimation,1)):(hoverEffects.anchorColor=getFirstColor(pluck(dataObj.hovercolor,dataObj.anchorhovercolor,dataObj.anchorbghovercolor,seriesHoverEffects.anchorBgColor,seriesHoverEffects.color,pointCosmetics.anchorBgColor)),hoverEffects.anchorAlpha=pluck(dataObj.hoveralpha,dataObj.anchorhoveralpha,seriesHoverEffects.anchorAlpha,pointCosmetics.anchorAlpha),hoverEffects.anchorBgAlpha=pluck(dataObj.bghoveralpha,dataObj.anchorbghoveralpha,seriesHoverEffects.anchorBgAlpha,hoverEffects.anchorAlpha,pointCosmetics.anchorBgAlpha),hoverEffects.anchorBorderColor=pluck(dataObj.anchorborderhovercolor,dataObj.borderhovercolor,seriesHoverEffects.anchorBorderColor,pointCosmetics.anchorBorderColor),hoverEffects.anchorBorderThickness=pluck(dataObj.anchorborderhoverthickness,dataObj.borderhoverthickness,seriesHoverEffects.anchorBorderThickness,pointCosmetics.anchorBorderThickness),hoverEffects.anchorBorderAlpha=pluckNumber(dataObj.anchorborderhoveralpha,dataObj.borderhoveralpha,seriesHoverEffects.anchorBorderAlpha,hoverEffects.anchorAlpha,pointCosmetics.anchorBorderAlpha),hoverEffects.anchorDip=pluckNumber(dataObj.hoverdip,dataObj.anchorhoverdip,seriesHoverEffects.anchorDip),hoverEffects.startAngle=pluck(dataObj.anchorhoverstartangle,seriesHoverEffects.anchorStartAngle,pointCosmetics.anchorAngle),hoverEffects.anchorSides=pluckNumber(dataObj.hoversides,dataObj.anchorhoversides,seriesHoverEffects.anchorSides,pointCosmetics.anchorSides),hoverEffects.anchorRadius=pluckNumber(dataObj.hoverradius,dataObj.anchorhoverradius,seriesHoverEffects.anchorRadius),hoverEffects.anchorScale=pluckNumber(dataObj.hoverscale,dataObj.anchorhoverscale,seriesHoverEffects.anchorScale),hoverEffects.anchorAnimation=pluckNumber(dataObj.anchorhoveranimation,seriesHoverEffects.anchorAnimation,1),void 0===hoverEffects.anchorRadius&&(hoverEffects.anchorRadius=!quickEnabled||hoverEffects.anchorHighlight?pointCosmetics.anchorRadius&&pointCosmetics.anchorRadius+1:pointCosmetics.anchorRadius))),(quickEnabled||(hoverEffects.columnHighlight||hoverEffects.bubbleHighlight)&&hoverEffects.color&&1==hoverEffects.highlight)&&(hoverEffects.highlight=0),"column"==plot&&(hoverEffects.color=(pluck(hoverEffects.color,pointCosmetics.color)+COMMASTRING+(void 0===hoverEffects.gradientColor?pointCosmetics.gradientColor:hoverEffects.gradientColor)).replace(/,+?$/,"")),"pie"===plot&&(hoverEffects.color=pluck(hoverEffects.color,pointCosmetics.color).replace(/,+?$/,"")),"bubble"==plot&&(hoverEffects.negativeColor=pluck(dataObj.negativehovercolor,seriesHoverEffects.negativeColor,pointCosmetics.negativeColor),hoverEffects.is3d=pluckNumber(dataObj.is3donhover,seriesHoverEffects.is3DBubble,pointCosmetics.is3d),hoverEffects.color=hoverEffects.negativeColor&&dataObj.z<0?hoverEffects.negativeColor:hoverEffects.color||pointCosmetics.color,isHoverColorString="string"==typeof hoverEffects.color,hoverEffects.color=getFirstColor(isHoverColorString?hoverEffects.color:hoverEffects.color.FCcolor.color),hoverEffects.color=hoverEffects.is3d?chartAPI.bubble.getPointColor(hoverEffects.color,hoverEffects.alpha):hoverEffects.color),1==hoverEffects.highlight&&"anchor"!==plot){for(hColorsLen=(highlightColors=(isHoverColorString="string"==typeof hoverEffects.color)?hoverEffects.color.split(/\s{0,},\s{0,}/):hoverEffects.color.FCcolor.color.split(/\s{0,},\s{0,}/)).length,hColorsLoop=0;hColorsLoop<hColorsLen;hColorsLoop++)highlightColors[hColorsLoop]=getLightColor(highlightColors[hColorsLoop],70);isHoverColorString?hoverEffects.color=highlightColors.join(","):hoverEffects.color.FCcolor.color=highlightColors.join(",")}"pie"===plot&&(rolloverProperties={color:this.getPointColor(hoverEffects.color,hoverEffects.alpha,pointCosmetics.radius3D),alpha:hoverEffects.alpha,borderColor:convertColor(hoverEffects.borderColor,hoverEffects.borderAlpha),borderWidth:hoverEffects.borderThickness}),"column"==plot&&(hoverEffects.colorArr=getColumnColor(hoverEffects.color,hoverEffects.alpha,hoverEffects.ratio,hoverEffects.angle,pointCosmetics.isRoundEdged,hoverEffects.borderColor,mathMin(hoverEffects.alpha,hoverEffects.borderAlpha).toString(),pointCosmetics.isBar,pointCosmetics.is3d),hoverEffects.dashStyle=hoverEffects.borderDashed?getDashStyle(hoverEffects.borderDashLen,hoverEffects.borderDashGap,hoverEffects.borderThickness):"none",rolloverProperties={shadow:hoverEffects.shadow,color:hoverEffects.colorArr[0],borderColor:hoverEffects.colorArr[1],borderWidth:hoverEffects.borderThickness,use3DLighting:pointCosmetics.use3DLighting,dashStyle:hoverEffects.dashStyle}),"anchor"==plot&&(rolloverProperties=pointCosmetics.imageUrl?{animation:hoverEffects.anchorAnimation,imageHoverAlpha:hoverEffects.imageHoverAlpha,imageHoverScale:hoverEffects.imageHoverScale}:{animation:hoverEffects.anchorAnimation,shadow:hoverEffects.shadow,fillColor:{FCcolor:{color:hoverEffects.anchorColor,alpha:hoverEffects.anchorBgAlpha*hoverEffects.anchorAlpha/100+BLANKSTRING}},lineColor:{FCcolor:{color:hoverEffects.anchorBorderColor,alpha:hoverEffects.anchorBorderAlpha}},lineWidth:hoverEffects.anchorBorderThickness,radius:hoverEffects.anchorRadius,symbol:mapSymbolName(hoverEffects.anchorSides),startAngle:hoverEffects.startAngle,sides:hoverEffects.anchorSides,scale:hoverEffects.anchorScale,dip:hoverEffects.anchorDip}),"bubble"==plot&&(rolloverProperties={symbol:hoverEffects.seriesAnchorSymbol,shadow:hoverEffects.shadow,scale:hoverEffects.scale,fillColor:hoverEffects.color,lineColor:{FCcolor:{color:hoverEffects.borderColor,alpha:hoverEffects.alpha}},lineWidth:hoverEffects.borderThickness})}return{enabled:hoverEffect,options:hoverEffects,rolloverOptions:rolloverProperties}},getPointStub:function(setObj,value,label,HCObj){var iapi=this,dataObj,FCCHartObj=this.dataObj.chart,toolText,displayValue,dataLink,HCConfig=HCObj[FC_CONFIG_STRING],formatedVal=null===value?value:HCConfig.numberFormatter.dataLabels(value),setTooltext=getValidValue(parseUnsafeString(pluck(setObj.tooltext,HCConfig.tooltext))),setDisplayValue=getValidValue(parseUnsafeString(setObj.displayvalue));return toolText=HCConfig.showTooltip?void 0!==setTooltext?parseTooltext(setTooltext,[1,2,3,5,6,7],{formattedValue:formatedVal,label:label,yaxisName:parseUnsafeString(FCCHartObj.yaxisname),xaxisName:parseUnsafeString(FCCHartObj.xaxisname)},setObj,FCCHartObj):null!==formatedVal&&(label!==BLANKSTRING?label+HCConfig.tooltipSepChar+formatedVal:formatedVal):BLANKSTRING,{displayValue:displayValue=pluckNumber(setObj.showvalue,HCConfig.showValues)?void 0!==setDisplayValue?setDisplayValue:formatedVal:BLANKSTRING,categoryLabel:label,toolText:toolText,link:dataLink=pluck(setObj.link)}},updateSnapPoints:function(){var iapi=this,snaps=iapi.snapLiterals,xyCalculator=function(what,bbox){var ret=0;switch(what){case"startx":ret=bbox.x;break;case"starty":ret=bbox.y;break;case"x":case"middlex":case"centerx":ret=bbox.x+bbox.width/2;break;case"y":case"middley":case"centery":ret=bbox.y+bbox.height/2;break;case"endx":ret=bbox.x+bbox.width;break;case"endy":ret=bbox.y+bbox.height;break;default:ret=0}return ret};snaps.dataset=function(subtokens,isBelow){var plots=iapi.renderer&&iapi.renderer.plots,datasetIndex,what,item,bbox,ret,plotIndex,graphic,is3DPlot=iapi.is3D;return plots&&plots.length?(isNaN(subtokens[0])?datasetIndex=0:(datasetIndex=Number(subtokens[0]),subtokens=subtokens.slice(1)),"set"===(what=subtokens[0])?(isNaN(subtokens[1])?(plotIndex=0,subtokens=subtokens.slice(1)):(plotIndex=Number(subtokens[1]),subtokens=subtokens.slice(2)),what=subtokens[0],(graphic=(item=plots[datasetIndex]&&plots[datasetIndex].items[plotIndex])&&item.graphic)?(bbox=isBelow&&is3DPlot?graphic._getBBox2():graphic.getBBox(),ret=xyCalculator(what,bbox)):0):ret):0},snaps.xaxis=function(subtokens){var xlabels=iapi.renderer&&iapi.renderer.xAxis&&iapi.renderer.xAxis[0]&&iapi.renderer.xAxis[0].labels,labelIndex,what,bbox,ret,graphic;return xlabels&&xlabels.length?"label"===(what=subtokens[0])?(isNaN(subtokens[1])?(labelIndex=0,subtokens=subtokens.slice(1)):(labelIndex=Number(subtokens[1]),subtokens=subtokens.slice(2)),what=subtokens[0],(graphic=xlabels[labelIndex])?(bbox=graphic.getBBox(),ret=xyCalculator(what,bbox)):0):ret:0},snaps.yaxis=function(subtokens){var yaxis=iapi.renderer&&iapi.renderer.yAxis,axisIndex,axis,yaxislabels,labelIndex,what,bbox,ret,graphic;return yaxis&&yaxis.length?(isNaN(subtokens[0])?axisIndex=0:(axisIndex=Number(subtokens[0]),subtokens=subtokens.slice(1)),(axis=yaxis[axisIndex])?"label"===(what=subtokens[0])?(yaxislabels=axis.labels,isNaN(subtokens[1])?(labelIndex=0,subtokens=subtokens.slice(1)):(labelIndex=Number(subtokens[1]),subtokens=subtokens.slice(2)),what=subtokens[0],(graphic=yaxislabels[labelIndex])?(bbox=graphic.getBBox(),ret=xyCalculator(what,bbox)):0):ret:0):0}}},chartAPI.base),chartAPI("multiseries",{series:function(FCObj,HCObj,chartName){var index,length,conf=HCObj[FC_CONFIG_STRING],dataset,series,seriesArr;if(HCObj.legend.enabled=Boolean(pluckNumber(FCObj.chart.showlegend,1)),FCObj.dataset&&FCObj.dataset.length>0){for(this.categoryAdder(FCObj,HCObj),index=0,length=FCObj.dataset.length;index<length;index+=1)dataset=FCObj.dataset[index],series={hoverEffects:this.parseSeriesHoverOptions(FCObj,HCObj,dataset,chartName),visible:!pluckNumber(dataset.initiallyhidden,0),data:[]},this.isStacked||(series.numColumns=length),(seriesArr=this.point(chartName,series,dataset,FCObj.chart,HCObj,conf.oriCatTmp.length,index))instanceof Array?HCObj.series=HCObj.series.concat(seriesArr):HCObj.series.push(seriesArr);this.configureAxis(HCObj,FCObj),FCObj.trendlines&&!this.isLog&&createTrendLine(FCObj.trendlines,HCObj.yAxis,conf,!1,this.isBar,void 0,this.inversed)}},categoryAdder:function(FCObj,HCObj){var index,countCat=0,fontSize,conf=HCObj[FC_CONFIG_STRING],axisGridManager=conf.axisGridManager,FCChartObj=FCObj.chart,xAxisObj=HCObj.xAxis,dataLabel,axisConf=conf.x,showLabels,oriCatTmp,categories;if(FCObj.categories&&FCObj.categories[0]&&FCObj.categories[0].category)for(FCObj.categories[0].font&&(HCObj.xAxis.labels.style.fontFamily=FCObj.categories[0].font),void 0!==(fontSize=pluckNumber(FCObj.categories[0].fontsize))&&(fontSize<1&&(fontSize=1),HCObj.xAxis.labels.style.fontSize=fontSize+PXSTRING,setLineHeight(HCObj.xAxis.labels.style)),FCObj.categories[0].fontcolor&&(HCObj.xAxis.labels.style.color=FCObj.categories[0].fontcolor.split(COMMASTRING)[0].replace(/^\#?/,"#")),oriCatTmp=HCObj[FC_CONFIG_STRING].oriCatTmp,categories=FCObj.categories[0].category,index=0;index<categories.length;index+=1)categories[index].vline?axisGridManager.addVline(xAxisObj,categories[index],countCat,HCObj):(showLabels=pluckNumber(categories[index].showlabel,FCChartObj.showlabels,1),dataLabel=parseUnsafeString(getFirstValue(FCObj.categories[0].category[index].label,FCObj.categories[0].category[index].name)),axisGridManager.addXaxisCat(xAxisObj,countCat,countCat,showLabels?dataLabel:BLANKSTRING),oriCatTmp[countCat]=getFirstValue(parseUnsafeString(FCObj.categories[0].category[index].tooltext),dataLabel),countCat+=1);axisConf.catCount=countCat},getPointStub:function(setObj,value,label,HCObj,dataset,datasetShowValues,yAxisIndex,errorValue,hErrorValue,xValue){var iapi=this,dataObj,FCCHartObj=this.dataObj.chart,isDual=this.isDual,isXY=this.isXY,isMLAxis=this.isMLAxis,isStacked=this.isStacked,isErrorChart=this.isErrorChart,toolText,displayValue,HCConfig=HCObj[FC_CONFIG_STRING],showPercentValuesRequared,showPercentInToolTipRequared,formatedVal=null===value?value:this.numberFormatter.dataLabels(value,yAxisIndex),seriesname,setTooltext=getValidValue(parseUnsafeString(pluck(setObj.tooltext,dataset.plottooltext,HCConfig.tooltext))),tooltipSepChar=HCConfig.tooltipSepChar,parserConfig,errorParserConfig,macroIndices,errorMacroIndices,returnObj={},errorTooltext,hErrorTooltext,formattedErrorValue,formattedHErrorValue,yAxisName,xAxisName,errorPercentValue,hErrorPercentValue,unformattedErrorValue,unformattedHErrorValue;return isErrorChart&&(formattedErrorValue=null===errorValue?errorValue:this.numberFormatter.dataLabels(errorValue,yAxisIndex),errorPercentValue=null===value?BLANKSTRING:this.numberFormatter.percentValue(errorValue/value*100),errorMacroIndices=[1,2,3,4,5,6,7,99,100,101,102],errorParserConfig={yaxisName:yAxisName=parseUnsafeString(isDual?yAxisIndex?FCCHartObj.syaxisname:FCCHartObj.pyaxisname:FCCHartObj.yaxisname),xaxisName:xAxisName=parseUnsafeString(FCCHartObj.xaxisname),formattedValue:formatedVal,label:label,errorDataValue:formattedErrorValue,errorPercentValue:errorPercentValue},isXY?(formattedHErrorValue=null===hErrorValue?hErrorValue:this.numberFormatter.xAxis(hErrorValue),hErrorPercentValue=null===xValue?BLANKSTRING:this.numberFormatter.percentValue(hErrorValue/xValue*100),errorMacroIndices.push(103,104,105,106,107,108,109,110),unformattedHErrorValue=pluck(setObj.horizontalerrorvalue,setObj.errorvalue),errorParserConfig.errorValue=unformattedErrorValue=pluck(setObj.verticalerrorvalue,setObj.errorvalue),errorTooltext=getValidValue(parseUnsafeString(pluck(setObj.verticalerrorplottooltext,setObj.errorplottooltext,dataset.verticalerrorplottooltext,dataset.errorplottooltext,FCCHartObj.verticalerrorplottooltext,FCCHartObj.errorplottooltext))),null!==errorValue&&(errorParserConfig.verticalErrorDataValue=formattedErrorValue,errorParserConfig.verticalErrorPercentValue=errorPercentValue,errorParserConfig.verticalErrorValue=unformattedErrorValue),null!==hErrorValue&&(errorParserConfig.horizontalErrorDataValue=formattedHErrorValue,errorParserConfig.horizontalErrorPercentValue=hErrorPercentValue,errorParserConfig.horizontalErrorValue=unformattedHErrorValue),hErrorTooltext=getValidValue(parseUnsafeString(pluck(setObj.horizontalerrorplottooltext,setObj.errorplottooltext,dataset.horizontalerrorplottooltext,dataset.errorplottooltext,FCCHartObj.horizontalerrorplottooltext,FCCHartObj.errorplottooltext))),HCConfig.showTooltip?returnObj._hErrortoolText=void 0!==hErrorTooltext?parseTooltext(hErrorTooltext,errorMacroIndices,{yaxisName:yAxisName=parseUnsafeString(isDual?yAxisIndex?FCCHartObj.syaxisname:FCCHartObj.pyaxisname:FCCHartObj.yaxisname),xaxisName:xAxisName=parseUnsafeString(FCCHartObj.xaxisname),formattedValue:formatedVal,label:label,errorDataValue:formattedHErrorValue,errorPercentValue:hErrorPercentValue,errorValue:unformattedHErrorValue,verticalErrorDataValue:formattedErrorValue,verticalErrorPercentValue:errorPercentValue,verticalErrorValue:unformattedErrorValue,horizontalErrorDataValue:formattedHErrorValue,horizontalErrorPercentValue:hErrorPercentValue,horizontalErrorValue:unformattedHErrorValue},setObj,FCCHartObj,dataset):null!==errorValue&&formattedHErrorValue:returnObj._hErrortoolText=!1):(errorTooltext=getValidValue(parseUnsafeString(pluck(setObj.errorplottooltext,dataset.errorplottooltext,FCCHartObj.errorplottooltext))),errorParserConfig.errorValue=unformattedErrorValue=pluck(setObj.errorvalue)),HCConfig.showTooltip?returnObj._errortoolText=void 0!==errorTooltext?parseTooltext(errorTooltext,errorMacroIndices,errorParserConfig,setObj,FCCHartObj,dataset):null!==errorValue&&formattedErrorValue:returnObj._errortoolText=!1),HCConfig.showTooltip?void 0!==setTooltext?(macroIndices=[4,5,6,7],parserConfig={yaxisName:yAxisName||parseUnsafeString(isDual?yAxisIndex?FCCHartObj.syaxisname:FCCHartObj.pyaxisname:isMLAxis?dataset._yAxisName:FCCHartObj.yaxisname),xaxisName:xAxisName||parseUnsafeString(FCCHartObj.xaxisname)},isXY?(macroIndices.push(8,9,10,11),parserConfig.yDataValue=formatedVal,parserConfig.xDataValue=label,isErrorChart&&(macroIndices.push(103,104,105,106,107,108,109,110),null!==errorValue&&(parserConfig.verticalErrorDataValue=formattedErrorValue,parserConfig.verticalErrorPercentValue=errorPercentValue,parserConfig.verticalErrorValue=unformattedErrorValue),null!==hErrorValue&&(parserConfig.horizontalErrorDataValue=formattedHErrorValue,parserConfig.horizontalErrorPercentValue=hErrorPercentValue,parserConfig.horizontalErrorValue=unformattedHErrorValue))):(macroIndices.push(1,2,3),parserConfig.formattedValue=formatedVal,parserConfig.label=label,isErrorChart&&(macroIndices.push(99,100,101,102),parserConfig.errorValue=unformattedErrorValue,null!==errorValue&&(parserConfig.errorDataValue=formattedErrorValue,parserConfig.errorPercentValue=errorPercentValue))),toolText=parseTooltext(setTooltext,macroIndices,parserConfig,setObj,FCCHartObj,dataset)):null===formatedVal?toolText=!1:(HCConfig.seriesNameInToolTip&&(seriesname=getFirstValue(dataset&&dataset.seriesname)),toolText=seriesname?seriesname+tooltipSepChar:BLANKSTRING,toolText+=label?label+tooltipSepChar:BLANKSTRING,HCConfig.showPercentInToolTip&&isStacked?(showPercentInToolTipRequared=!0,toolText+=percentMacro):toolText+=formatedVal):toolText=!1,pluckNumber(setObj.showvalue,datasetShowValues)?void 0!==getValidValue(setObj.displayvalue)?displayValue=parseUnsafeString(setObj.displayvalue):HCConfig.showPercentValues?showPercentValuesRequared=!0:displayValue=formatedVal:displayValue=BLANKSTRING,returnObj.link=pluck(setObj.link),returnObj.displayValue=displayValue,returnObj.categoryLabel=label,returnObj.toolText=toolText,returnObj.showPercentValues=showPercentValuesRequared,returnObj.showPercentInToolTip=showPercentInToolTipRequared,returnObj}},chartAPI.singleseries),chartAPI("xybase",{hideRLine:function(){var index=this.index,regrationLineSeries=this.chart.series[index+1];regrationLineSeries&&regrationLineSeries.hide&&regrationLineSeries.hide()},showRLine:function(){var index=this.index,regrationLineSeries=this.chart.series[index+1];regrationLineSeries&&regrationLineSeries.show&&regrationLineSeries.show()},getRegressionLineSeries:function(regrationObj,showYOnX,dataLength){var data,xMin,xMax,yMin,yMax,slopeB,firstY,secondY,firstX,secondX,sumXY=regrationObj.sumXY,sumX=regrationObj.sumX,sumY=regrationObj.sumY,xValues=regrationObj.xValues,sumXsqure=regrationObj.sumXsqure,yValues=regrationObj.yValues,sumYsqure=regrationObj.sumYsqure;return showYOnX?(xValues.sort(sortFN),xMin=xValues[0],xMax=xValues[xValues.length-1],slopeB=(dataLength*sumXY-sumX*sumY)/(dataLength*sumXsqure-mathPow(sumX,2)),data=[{x:xMin,y:firstY=isNaN(slopeB)?sumY/dataLength:slopeB*(xMin-sumX/dataLength)+sumY/dataLength},{x:xMax,y:secondY=isNaN(slopeB)?sumY/dataLength:slopeB*(xMax-sumX/dataLength)+sumY/dataLength}]):(yValues.sort(sortFN),yMin=yValues[0],yMax=yValues[yValues.length-1],slopeB=(dataLength*sumXY-sumX*sumY)/(dataLength*sumYsqure-mathPow(sumY,2)),data=[{x:firstX=isNaN(slopeB)?sumX/dataLength:slopeB*(yMin-sumY/dataLength)+sumX/dataLength,y:yMin},{x:secondX=isNaN(slopeB)?sumX/dataLength:slopeB*(yMax-sumY/dataLength)+sumX/dataLength,y:yMax}]),data},pointValueWatcher:function(HCObj,valueY,valueX,regressionObj){var obj,FCconf=HCObj[FC_CONFIG_STRING],objX,itemValueX,itemValueY;null!==valueY&&((obj=FCconf[0]).max=obj.max>valueY?obj.max:valueY,obj.min=obj.min<valueY?obj.min:valueY),null!==valueX&&((objX=FCconf.x).max=objX.max>valueX?objX.max:valueX,objX.min=objX.min<valueX?objX.min:valueX),regressionObj&&(itemValueX=valueX||0,itemValueY=valueY||0,regressionObj.sumX+=itemValueX,regressionObj.sumY+=itemValueY,regressionObj.sumXY+=itemValueX*itemValueY,regressionObj.sumXsqure+=mathPow(itemValueX,2),regressionObj.xValues.push(itemValueX),regressionObj.sumYsqure+=mathPow(itemValueY,2),regressionObj.yValues.push(itemValueY))}},chartAPI.multiseries),chartAPI("scrollbase",{postSeriesAddition:function(){var iapi=this,hc=this.hcJSON,xAxis,scollOptions=hc.xAxis.scroll,config=hc[FC_CONFIG_STRING],width=config.width,catCount=config.x.catCount,chartAttrs=this.dataObj.chart,colorM=this.colorManager,totalNumPoint,numVisiblePlot,numberOfColumnSeries,i,length,seriesArr,type,columnStr,defaultseries;if(config.isScroll=!0,hc.chart.hasScroll=!0,this.isStacked)numberOfColumnSeries=1;else{for(numberOfColumnSeries=0,i=0,seriesArr=hc.series,columnStr="column",defaultseries=hc.chart.defaultSeriesType,length=seriesArr.length;i<length;i++)"column"===(type=pluck(seriesArr[i].type,defaultseries))&&(numberOfColumnSeries+=1);numberOfColumnSeries<1&&(numberOfColumnSeries=1)}totalNumPoint=catCount*numberOfColumnSeries,numVisiblePlot=pluckNumber(chartAttrs.numvisibleplot,mathFloor(width/this.avgScrollPointWidth)),scollOptions&&numVisiblePlot>=2&&numVisiblePlot<totalNumPoint&&(scollOptions.enabled=!0,scollOptions.vxLength=numVisiblePlot/numberOfColumnSeries,scollOptions.startPercent=mathMin(1,mathMax(0,parseFloat(chartAttrs.scrolltoend)||0)),scollOptions.padding=pluckNumber(chartAttrs.scrollpadding,0),scollOptions.height=pluckNumber(chartAttrs.scrollheight,16),scollOptions.showButtons=!!pluckNumber(chartAttrs.scrollshowbuttons,1),scollOptions.buttonPadding=pluckNumber(chartAttrs.scrollbtnpadding,0),scollOptions.color=getFirstColor(pluck(chartAttrs.scrollcolor,colorM.getColor("altHGridColor"))),config.marginBottomExtraSpace+=scollOptions.padding+scollOptions.height),(hasTouch||pluckNumber(chartAttrs.enabletouchscroll,0))&&(hc.chart.zoomType="x",hc.chart.nativeZoom=!1,hc.chart.selectionMarkerFill="rgba(255,255,255,0)",(hc.callbacks||(hc.callbacks=[])).push((function(chart){addEvent(chart,"selectionstart selectiondrag",chartAPI.scrollbase.performTouchScroll,{})})))},performTouchScroll:function(e){var chart=this,xAxis,scroller=this.xAxis[0].scroller,config=scroller.config,scrollBarW,groupWidth,pageX=config.trackLength/(config.width/config.scrollRatio)*(e.chartX||1);!0!==e.isOutsidePlot&&fireEvent(scroller.elements.anchor.element,"selectionstart"===e.type?"dragstart":"drag",{pageX:-pageX,pageY:-e.chartY})}},chartAPI.multiseries),chartAPI("logbase",{isLog:!0,isValueAbs:!0,configureAxis:function(HCObj,FCObj){var conf=HCObj[FC_CONFIG_STRING],iapi=this,axisGridManager=conf.axisGridManager,numberFormatter=this.numberFormatter,series=HCObj.series,xAxisObj=HCObj.xAxis,yAxisObj=HCObj.yAxis[0],yAxisConf=conf[0],chartAttr=FCObj.chart,hideLimits=!pluckNumber(chartAttr.showyaxislimits,chartAttr.showlimits,chartAttr.showyaxisvalues,1),hideValues=!pluckNumber(chartAttr.showdivlinevalues,chartAttr.showyaxisvalues,1),base=pluckNumber(chartAttr.base,chartAttr.logbase,10),userYMax=pluckNumber(chartAttr.yaxismaxvalue),userYMin=pluckNumber(chartAttr.yaxisminvalue),colorM=this.colorManager,showMinorValues=1===pluckNumber(chartAttr.showminordivlinevalues),minorGlColor=pluck(chartAttr.minordivlinecolor,yAxisObj.gridLineColor,colorM.getColor("divLineColor")),minorGlAlpha=pluckNumber(chartAttr.minordivlinealpha,chartAttr.divlinealpha,colorM.getColor("divLineAlpha")),majorGridParams=[yAxisObj,void 0,void 0,pluckNumber(chartAttr.divlinethickness,2),yAxisObj.gridLineDashStyle,yAxisObj.gridLineColor,2],seri,minorGridParams=[yAxisObj,void 0,void 0,pluckNumber(chartAttr.minordivlinethickness,1),yAxisObj.gridLineDashStyle,convertColor(pluck(chartAttr.minordivlinecolor,minorGlColor),pluckNumber(chartAttr.minordivlinealpha,minorGlAlpha/2)),2],doCalculateMinors=showMinorValues||minorGlAlpha&&minorGridParams[3],forceLimitGridLinesEnabled=pluckNumber(chartAttr.showaxislimitgridlines,this.showAxisLimitGridLines),showLimitGridLines=pluckNumber(forceLimitGridLinesEnabled,this.is3D||HCObj.chart.plotBorderWidth?0:1),logLimits,data,item,i,j;for(base<=0&&(base=10),userYMax<=0&&(userYMax=void 0),userYMin<=0&&(userYMin=void 0),logLimits=this.getLogAxisLimits(yAxisConf.max||base,yAxisConf.min||1,userYMax,userYMin,base,doCalculateMinors?chartAttr.numminordivlines:0),xAxisObj.title.text=parseUnsafeString(chartAttr.xaxisname),xAxisObj.showLine=pluckNumber(chartAttr.showxaxisline,chartAttr.showaxislines,0),xAxisObj.lineThickness=pluckNumber(chartAttr.xaxislinethickness,chartAttr.axislinethickness,1),xAxisObj.lineAlpha=pluckNumber(chartAttr.xaxislinealpha,chartAttr.axislinealpha,100),xAxisObj.lineColor=convertColor(pluck(chartAttr.xaxislinecolor,chartAttr.axislinecolor,"000")),extend2(yAxisObj,{title:{text:parseUnsafeString(chartAttr.yaxisname)},labels:{enabled:!1},gridLineWidth:0,alternateGridColor:COLOR_TRANSPARENT,reversed:"1"===chartAttr.invertyaxis,max:logOf(logLimits.Max,base),min:logOf(logLimits.Min,base),showLine:pluckNumber(chartAttr.showyaxisline,chartAttr.showaxislines,0),lineThickness:pluckNumber(chartAttr.yaxislinethickness,chartAttr.axislinethickness,1),lineAlpha:pluckNumber(chartAttr.yaxislinealpha,chartAttr.axislinealpha,100),lineColor:convertColor(pluck(chartAttr.yaxislinecolor,chartAttr.axislinecolor,"000"))}),i=series.length;i--;)if(seri=series[i])for(seri.threshold=yAxisObj.min,j=(data=seri.data)&&data.length||0;j--;)(item=data[j]).y=logOf(item.y,base);for(delete yAxisConf.max,delete yAxisConf.min,yAxisConf.isLog=!0,yAxisObj.reversed&&yAxisObj.min>=0&&(HCObj.plotOptions.series.threshold=yAxisObj.max),FCObj.trendlines&&createTrendLine(FCObj.trendlines,[{max:logLimits.Max,min:logLimits.Min,plotLines:yAxisObj.plotLines,plotBands:yAxisObj.plotBands,title:yAxisObj.title}],conf),i=yAxisObj.plotLines.length;i--;)(item=yAxisObj.plotLines[i]).value&&(item.value=logOf(item.value,base)),item.from&&(item.from=logOf(item.from,base)),item.to&&(item.to=logOf(item.to,base));for(i=yAxisObj.plotBands.length;i--;)(item=yAxisObj.plotBands[i]).from&&(item.from=logOf(item.from,base)),item.to&&(item.to=logOf(item.to,base));for(i=logLimits.divArr.length;i--;)(item=logLimits.divArr[i]).ismajor?(majorGridParams[1]=logOf(item.value,base),majorGridParams[2]=numberFormatter.yAxis(item.value),axisGridManager.addAxisGridLine.apply(axisGridManager,majorGridParams)):(doCalculateMinors||item.isextreme)&&(minorGridParams[1]=logOf(item.value,base),minorGridParams[2]=showMinorValues||item.isextreme?numberFormatter.yAxis(item.value):BLANKSTRING,axisGridManager.addAxisGridLine.apply(axisGridManager,minorGridParams)),data=yAxisObj.plotLines[yAxisObj.plotLines.length-1],item.isextreme?(data.width=forceLimitGridLinesEnabled||showLimitGridLines&&(!item.isMin||!xAxisObj.showLine)?data.width:.1,hideLimits&&(data.label.text=BLANKSTRING)):hideValues&&data.label&&(data.label.text=BLANKSTRING)},getLogAxisLimits:function(maxValue,minValue,yAxisMaxValue,yAxisMinValue,base,numMinorDivLines){var validate=function(param){return null!=param&&""!==param&&!isNaN(param)},counter=0,divLines=[],power,minLogY,maxLogY,yMin,yMax,numDivLines,divLineValue,iniValue,checkValue,r,i,j,isYMinDivLine,isYMaxDivLine,d,u,e,slabInterval,subInterval;for(validate(yAxisMaxValue)&&Number(yAxisMaxValue)>=maxValue?yMax=Number(yAxisMaxValue):(power=base>1?mathCeil(mathLog(maxValue)/mathLog(base)):mathFloor(mathLog(maxValue)/mathLog(base)),yMax=mathPow(base,power),maxLogY=power),maxLogY||(maxLogY=base>1?mathCeil(mathLog(yMax)/mathLog(base)):mathFloor(mathLog(yMax)/mathLog(base))),validate(yAxisMinValue)&&Number(yAxisMinValue)<=minValue?yMin=Number(yAxisMinValue):(power=base>1?mathFloor(mathLog(minValue)/mathLog(base)):mathCeil(mathLog(minValue)/mathLog(base)),yMin=mathPow(base,power),minLogY=power),minLogY||(minLogY=base>1?mathFloor(mathLog(yMin)/mathLog(base)):mathCeil(mathLog(yMin)/mathLog(base))),r=Number(String(mathLog(base)/mathLog(10))),numDivLines=Number(numMinorDivLines)||(mathFloor(r)==r?8:4),base>1?(iniValue=maxLogY,checkValue=minLogY):base>0&&base<1&&(iniValue=minLogY,checkValue=maxLogY),r=maxLogY,i=iniValue;i>=checkValue;--i)if(yMin<=(divLineValue=mathPow(base,r))&&yMax>=divLineValue&&(divLines[counter++]={value:divLineValue,ismajor:!0}),i!=checkValue){for(d=base>1?-1:1,subInterval=(slabInterval=mathPow(base,r)-mathPow(base,r+d))/(numDivLines+1),j=1;j<=numDivLines;++j)yMin<=(divLineValue=mathPow(base,r+d)+subInterval*j)&&yMax>=divLineValue&&(divLines[counter++]={value:divLineValue,ismajor:!1});base>1?r--:r++}for(u in divLines)for(e in divLines[u])"value"==e&&(isYMinDivLine||(isYMinDivLine=divLines[u][e]==yMin&&(divLines[u].isextreme=divLines[u].isMin=!0)),isYMaxDivLine||(isYMaxDivLine=divLines[u][e]==yMax&&(divLines[u].isextreme=divLines[u].isMax=!0)));return isYMinDivLine||(divLines[counter++]={value:yMin,ismajor:!0,isMin:!0,isextreme:!0}),isYMaxDivLine||(divLines[counter]={value:yMax,ismajor:!0,isMax:!0,isextreme:!0}),{Max:yMax,Min:yMin,divArr:divLines}},pointValueWatcher:function(HCObj,value,yAxisIndex){var axis,conf=HCObj[FC_CONFIG_STRING];yAxisIndex=pluckNumber(yAxisIndex,0),value>0&&(conf[yAxisIndex]||(conf[yAxisIndex]={}),(axis=conf[yAxisIndex]).max=axis.max>value?axis.max:value,axis.min=axis.min<value?axis.min:value)}},chartAPI.mslinebase),singleSeriesAPI=chartAPI.singleseries,multiSeriesAPI=chartAPI.multiseries,chartAPI("column2dbase",{point:function(chartName,series,data,FCChartObj,HCObj){var length=data.length,iapi=this,conf=HCObj[FC_CONFIG_STRING],axisGridManager=conf.axisGridManager,xAxisObj=HCObj.xAxis,xAxisConf=conf.x,colorM=this.colorManager,is3d=/3d$/.test(HCObj.chart.defaultSeriesType),isBar=this.isBar,isSpark=/^spark/i.test(chartName),showPlotBorder,setBorderWidth=pluck(FCChartObj.showplotborder,isSpark||is3d?ZEROSTRING:ONESTRING)===ONESTRING?is3d?1:pluckNumber(FCChartObj.plotborderthickness,1):0,isRoundEdges=HCObj.chart.useRoundEdges,seriesPlotBorderAlpha=pluckNumber(FCChartObj.plotborderalpha,FCChartObj.plotfillalpha,100),setPlotBorderColor=pluck(FCChartObj.plotbordercolor,colorM.getColor("plotBorderColor")).split(COMMASTRING)[0],seriesGradientColor=isSpark?"":pluckNumber(FCChartObj.useplotgradientcolor,1)?getDefinedColor(FCChartObj.plotgradientcolor,colorM.getColor("plotGradientColor")):BLANKSTRING,catIndex=0,use3DLighting=Boolean(pluckNumber(FCChartObj.use3dlighting,1)),NumberFormatter=HCObj[FC_CONFIG_STRING].numberFormatter,pointDashStyle,seriesDashStyle=pluckNumber(FCChartObj.plotborderdashed,0),seriesDashLen=pluckNumber(FCChartObj.plotborderdashlen,5),seriesDashGap=pluckNumber(FCChartObj.plotborderdashgap,4),hoverEffects,itemValue,index,countPoint,dataLabel,setColor,setAlpha,setRatio,setAngle,setBorderAlpha,setBorderDashed,setBorderDashGap,setBorderDashLen,colorArr,dataObj,showLabel,pointShadow;for(index=0,countPoint=0;index<length;index+=1)(dataObj=data[index]).vline?axisGridManager.addVline(xAxisObj,dataObj,catIndex,HCObj):(itemValue=NumberFormatter.getCleanValue(dataObj.value),showLabel=pluckNumber(dataObj.showlabel,FCChartObj.showlabels,1),dataLabel=parseUnsafeString(getFirstValue(dataObj.label,dataObj.name)),axisGridManager.addXaxisCat(xAxisObj,catIndex,catIndex,showLabel?dataLabel:BLANKSTRING),catIndex+=1,setColor=pluck(dataObj.color,colorM.getPlotColor()),setAlpha=pluck(dataObj.alpha,FCChartObj.plotfillalpha,HUNDREDSTRING),setRatio=pluck(dataObj.ratio,FCChartObj.plotfillratio),setAngle=pluck(360-FCChartObj.plotfillangle,isBar?180:90),setBorderAlpha=pluck(dataObj.alpha,seriesPlotBorderAlpha),setBorderDashed=pluckNumber(dataObj.dashed,seriesDashStyle),setBorderDashGap=pluck(dataObj.dashgap,seriesDashGap),setBorderDashLen=pluck(dataObj.dashlen,seriesDashLen),itemValue<0&&(setAngle=isBar?180-setAngle:360-setAngle),pointShadow={opacity:setAlpha/100},colorArr=getColumnColor(setColor+COMMASTRING+seriesGradientColor.replace(/,+?$/,""),setAlpha,setRatio,setAngle,isRoundEdges,setPlotBorderColor,setBorderAlpha+BLANKSTRING,isBar,is3d),pointDashStyle=setBorderDashed?getDashStyle(setBorderDashLen,setBorderDashGap,setBorderWidth):"none",hoverEffects=this.pointHoverOptions(dataObj,series,{plotType:"column",is3d:is3d,isBar:isBar,use3DLighting:use3DLighting,isRoundEdged:isRoundEdges,color:setColor,gradientColor:seriesGradientColor,alpha:setAlpha,ratio:setRatio,angle:setAngle,borderWidth:setBorderWidth,borderColor:setPlotBorderColor,borderAlpha:setBorderAlpha,borderDashed:setBorderDashed,borderDashGap:setBorderDashGap,borderDashLen:setBorderDashLen,shadow:pointShadow}),series.data.push(extend2(this.getPointStub(dataObj,itemValue,dataLabel,HCObj),{y:itemValue,shadow:pointShadow,color:colorArr[0],borderColor:colorArr[1],borderWidth:setBorderWidth,use3DLighting:use3DLighting,dashStyle:pointDashStyle,tooltipConstraint:this.tooltipConstraint,hoverEffects:hoverEffects.enabled&&hoverEffects.options,rolloverProperties:hoverEffects.enabled&&hoverEffects.rolloverOptions})),this.pointValueWatcher(HCObj,itemValue),countPoint+=1);return xAxisConf.catCount=catIndex,series},defaultSeriesType:"column"},singleSeriesAPI),chartAPI("linebase",{defaultSeriesType:"line",hasVDivLine:!0,defaultPlotShadow:1,point:function(chartName,series,data,FCChartObj,HCObj){var itemValue,index,dataLabel,dataObj,countPoint,showLabel,dashStyle,pointShadow,lineDashLen,lineDashGap,lineColor,lineAlpha,lineThickness,lineDashed,drawAnchors,lineColorDef,lineAlphaDef,pointAnchorEnabled,setAnchorSides,setAnchorBorderThickness,setAnchorBorderColor,setAnchorRadius,setAnchorBgColor,setAnchorAlpha,setAnchorBgAlpha,setAnchorAngle,anchorShadow,setAnchorShadow,HCChartObj=HCObj.chart,length=data.length,xAxisObj=HCObj.xAxis,conf=HCObj[FC_CONFIG_STRING],colorM=this.colorManager,hoverEffects,axisGridManager=conf.axisGridManager,catIndex=0,xAxisConf=conf.x,NumberFormatter=HCObj[FC_CONFIG_STRING].numberFormatter,imageUrl,imageScale,imageAlpha;for(lineColorDef=getFirstColor(pluck(FCChartObj.linecolor,FCChartObj.palettecolors,colorM.getColor("plotFillColor"))),lineAlphaDef=pluck(FCChartObj.linealpha,HUNDREDSTRING),lineThickness=pluckNumber(FCChartObj.linethickness,this.lineThickness,4),lineDashed=Boolean(pluckNumber(FCChartObj.linedashed,0)),lineDashLen=pluckNumber(FCChartObj.linedashlen,5),lineDashGap=pluckNumber(FCChartObj.linedashgap,4),anchorShadow=pluckNumber(FCChartObj.anchorshadow,0),series.color={FCcolor:{color:lineColorDef,alpha:lineAlphaDef}},series.lineWidth=lineThickness,series.anchorShadow=anchorShadow,series.step=pluck(this.stepLine,series.step),series.drawVerticalJoins=Boolean(pluckNumber(series.drawVerticalJoins,FCChartObj.drawverticaljoins,1)),series.useForwardSteps=Boolean(pluckNumber(series.useForwardSteps,FCChartObj.useforwardsteps,1)),drawAnchors=pluckNumber(FCChartObj.drawanchors,FCChartObj.showanchors),index=0,countPoint=0;index<length;index+=1)(dataObj=data[index]).vline?axisGridManager.addVline(xAxisObj,dataObj,catIndex,HCObj):(itemValue=NumberFormatter.getCleanValue(dataObj.value),showLabel=pluckNumber(dataObj.showlabel,FCChartObj.showlabels,1),dataLabel=parseUnsafeString(getFirstValue(dataObj.label,dataObj.name)),axisGridManager.addXaxisCat(xAxisObj,catIndex,catIndex,showLabel?dataLabel:BLANKSTRING),catIndex+=1,lineColor=getFirstColor(pluck(dataObj.color,lineColorDef)),lineAlpha=pluckNumber(dataObj.alpha,lineAlphaDef),dashStyle=pluckNumber(dataObj.dashed,lineDashed)?getDashStyle(lineDashLen,lineDashGap,lineThickness):"none",pointShadow={opacity:lineAlpha/100},setAnchorSides=pluckNumber(dataObj.anchorsides,FCChartObj.anchorsides,0),setAnchorAngle=pluckNumber(dataObj.anchorstartangle,FCChartObj.anchorstartangle,90),setAnchorRadius=pluckNumber(dataObj.anchorradius,FCChartObj.anchorradius,this.anchorRadius,3),setAnchorBorderColor=getFirstColor(pluck(dataObj.anchorbordercolor,FCChartObj.anchorbordercolor,lineColorDef)),setAnchorBorderThickness=pluckNumber(dataObj.anchorborderthickness,FCChartObj.anchorborderthickness,this.anchorBorderThickness,1),setAnchorBgColor=getFirstColor(pluck(dataObj.anchorbgcolor,FCChartObj.anchorbgcolor,colorM.getColor("anchorBgColor"))),setAnchorAlpha=pluck(dataObj.anchoralpha,FCChartObj.anchoralpha,HUNDREDSTRING),setAnchorBgAlpha=pluck(dataObj.anchorbgalpha,FCChartObj.anchorbgalpha,setAnchorAlpha),imageUrl=pluck(dataObj.anchorimageurl,FCChartObj.anchorimageurl),imageScale=pluck(dataObj.anchorimagescale,FCChartObj.anchorimagescale,100),imageAlpha=pluck(dataObj.anchorimagealpha,FCChartObj.anchorimagealpha,100),pointAnchorEnabled=void 0===drawAnchors?0!==lineAlpha:!!drawAnchors,setAnchorShadow=Boolean(pluckNumber(dataObj.anchorshadow,anchorShadow,0)),hoverEffects=this.pointHoverOptions(dataObj,series,{plotType:"anchor",anchorBgColor:setAnchorBgColor,anchorAlpha:setAnchorAlpha,anchorBgAlpha:setAnchorBgAlpha,anchorAngle:setAnchorAngle,anchorBorderThickness:setAnchorBorderThickness,anchorBorderColor:setAnchorBorderColor,anchorBorderAlpha:setAnchorAlpha,anchorSides:setAnchorSides,anchorRadius:setAnchorRadius,imageUrl:imageUrl,imageScale:imageScale,imageAlpha:imageAlpha,shadow:pointShadow}),series.data.push(extend2(this.getPointStub(dataObj,itemValue,dataLabel,HCObj),{y:itemValue,color:{FCcolor:{color:lineColor,alpha:lineAlpha}},shadow:pointShadow,dashStyle:dashStyle,valuePosition:pluck(dataObj.valueposition,HCChartObj.valuePosition),marker:{enabled:!!pointAnchorEnabled,shadow:setAnchorShadow&&{opacity:setAnchorAlpha/100},fillColor:{FCcolor:{color:setAnchorBgColor,alpha:setAnchorBgAlpha*setAnchorAlpha/100+BLANKSTRING}},lineColor:{FCcolor:{color:setAnchorBorderColor,alpha:setAnchorAlpha}},lineWidth:setAnchorBorderThickness,radius:setAnchorRadius,startAngle:setAnchorAngle,symbol:mapSymbolName(setAnchorSides),imageUrl:imageUrl,imageScale:imageScale,imageAlpha:imageAlpha},tooltipConstraint:this.tooltipConstraint,hoverEffects:hoverEffects.enabled&&hoverEffects.options,rolloverProperties:hoverEffects.enabled&&hoverEffects.rolloverOptions})),this.pointValueWatcher(HCObj,itemValue),countPoint+=1);return xAxisConf.catCount=catIndex,series},defaultZeroPlaneHighlighted:!1},singleSeriesAPI),chartAPI("area2dbase",{defaultSeriesType:"area",hasVDivLine:!0,point:function(chartName,series,data,FCChartObj,HCObj){var HCChartObj=HCObj.chart,length=data.length,xAxisObj=HCObj.xAxis,conf=HCObj[FC_CONFIG_STRING],axisGridManager=conf.axisGridManager,xAxisConf=conf.x,NumberFormatter=HCObj[FC_CONFIG_STRING].numberFormatter,colorM=this.colorManager,catIndex=0,itemValue,index,dataLabel,showLabel,seriesFillColor,seriesFillAlpha,seriesFillAngle,seriesLineColor,seriesLineAlpha,seriesLineAngle,seriesLineRatio,setAnchorSides,setAnchorRadius,setAnchorBorderColor,setAnchorAngle,dataObj,setAnchorBgColor,setAnchorAlpha,setAnchorBgAlpha,drawAnchors,seriesDashed,seriesDashLen,seriesDashGap,seriesLineThickness,setAnchorBorderThickness,countPoint,setColor,setAlpha,seriesGradientColor,pointShadow,seriesFill,pointFillColor,anchorShadow,setAnchorShadow,imageUrl,imageScale,imageAlpha,hoverEffects;for(seriesFillColor=pluck(FCChartObj.plotfillcolor,FCChartObj.areabgcolor,getValidValue(FCChartObj.palettecolors)?colorM.getPlotColor(0):colorM.getColor("plotFillColor")).split(/\s*\,\s*/)[0],seriesGradientColor=COMMASTRING+(pluckNumber(FCChartObj.useplotgradientcolor,1)?getDefinedColor(FCChartObj.plotgradientcolor,colorM.getColor("plotGradientColor")):BLANKSTRING),seriesFillAlpha=pluck(FCChartObj.plotfillalpha,FCChartObj.areaalpha,this.isStacked?HUNDREDSTRING:"90"),seriesFillAngle=pluckNumber(FCChartObj.plotfillangle,270),seriesLineColor=pluck(FCChartObj.plotbordercolor,FCChartObj.areabordercolor,getValidValue(FCChartObj.palettecolors)?colorM.getPlotColor(0):colorM.getColor("plotBorderColor")).split(/\s*\,\s*/)[0],seriesLineAlpha=FCChartObj.showplotborder==ZEROSTRING?ZEROSTRING:pluck(FCChartObj.plotborderalpha,FCChartObj.plotfillalpha,FCChartObj.areaalpha,HUNDREDSTRING),seriesLineAngle=pluckNumber(FCChartObj.plotborderangle,270),seriesLineRatio=HUNDREDSTRING,seriesDashed=Boolean(pluckNumber(FCChartObj.plotborderdashed,0)),seriesDashLen=pluckNumber(FCChartObj.plotborderdashlen,5),seriesDashGap=pluckNumber(FCChartObj.plotborderdashgap,4),seriesLineThickness=pluckNumber(FCChartObj.plotborderthickness,FCChartObj.areaborderthickness,1),seriesFill=series.fillColor={FCcolor:{color:seriesFillColor+seriesGradientColor.replace(/,+?$/,""),alpha:seriesFillAlpha,ratio:BGRATIOSTRING,angle:seriesFillAngle}},series.lineWidth=seriesLineThickness,series.dashStyle=seriesDashed?getDashStyle(seriesDashLen,seriesDashGap,seriesLineThickness):"none",series.lineColor={FCcolor:{color:seriesLineColor,alpha:seriesLineAlpha,ratio:seriesLineRatio,angle:seriesLineAngle}},series.step=pluck(this.stepLine,series.step),series.drawVerticalJoins=Boolean(pluckNumber(series.drawVerticalJoins,FCChartObj.drawverticaljoins,1)),series.useForwardSteps=Boolean(pluckNumber(series.useForwardSteps,FCChartObj.useforwardsteps,1)),drawAnchors=Boolean(pluckNumber(FCChartObj.drawanchors,FCChartObj.showanchors,1)),series.anchorShadow=anchorShadow=pluckNumber(FCChartObj.anchorshadow,0),index=0,countPoint=0;index<length;index+=1)(dataObj=data[index]).vline?axisGridManager.addVline(xAxisObj,dataObj,catIndex,HCObj):(itemValue=NumberFormatter.getCleanValue(dataObj.value),showLabel=pluckNumber(dataObj.showlabel,FCChartObj.showlabels,1),dataLabel=parseUnsafeString(getFirstValue(dataObj.label,dataObj.name)),axisGridManager.addXaxisCat(xAxisObj,catIndex,catIndex,showLabel?dataLabel:BLANKSTRING),catIndex+=1,setAnchorSides=pluckNumber(dataObj.anchorsides,FCChartObj.anchorsides,0),setAnchorAngle=pluckNumber(dataObj.anchorstartangle,FCChartObj.anchorstartangle,90),setAnchorRadius=pluckNumber(dataObj.anchorradius,FCChartObj.anchorradius,3),setAnchorBorderColor=getFirstColor(pluck(dataObj.anchorbordercolor,FCChartObj.anchorbordercolor,seriesLineColor)),setAnchorBorderThickness=pluckNumber(dataObj.anchorborderthickness,FCChartObj.anchorborderthickness,1),setAnchorBgColor=getFirstColor(pluck(dataObj.anchorbgcolor,FCChartObj.anchorbgcolor,colorM.getColor("anchorBgColor"))),setAnchorAlpha=pluck(dataObj.anchoralpha,FCChartObj.anchoralpha,this.anchorAlpha,ZEROSTRING),setAnchorBgAlpha=pluck(dataObj.anchorbgalpha,FCChartObj.anchorbgalpha,setAnchorAlpha),setAnchorShadow=Boolean(pluckNumber(dataObj.anchorshadow,anchorShadow,0)),setColor=getValidValue(dataObj.color),setAlpha=pluckNumber(dataObj.alpha),pointFillColor=void 0!==setColor||void 0!==setAlpha?{FCcolor:{color:setColor?getFirstColor(setColor)+seriesGradientColor:seriesFillColor,alpha:void 0===setAlpha?getFirstAlpha(setAlpha)+BLANKSTRING:seriesFillAlpha,ratio:BGRATIOSTRING,angle:seriesFillAngle}}:seriesFill,imageUrl=pluck(dataObj.anchorimageurl,FCChartObj.anchorimageurl),imageScale=pluck(dataObj.anchorimagescale,FCChartObj.anchorimagescale,100),imageAlpha=pluck(dataObj.anchorimagealpha,FCChartObj.anchorimagealpha,100),pointShadow={opacity:mathMax(setAlpha,seriesLineAlpha)/100,inverted:!0},hoverEffects=this.pointHoverOptions(dataObj,series,{plotType:"anchor",anchorBgColor:setAnchorBgColor,anchorAlpha:setAnchorAlpha,anchorBgAlpha:setAnchorBgAlpha,anchorAngle:setAnchorAngle,anchorBorderThickness:setAnchorBorderThickness,anchorBorderColor:setAnchorBorderColor,anchorBorderAlpha:setAnchorAlpha,anchorSides:setAnchorSides,anchorRadius:setAnchorRadius,imageUrl:imageUrl,imageScale:imageScale,imageAlpha:imageAlpha,shadow:pointShadow}),series.data.push(extend2(this.getPointStub(dataObj,itemValue,dataLabel,HCObj),{y:itemValue,shadow:pointShadow,color:pointFillColor,valuePosition:pluck(dataObj.valueposition,HCChartObj.valuePosition),marker:{enabled:drawAnchors,shadow:setAnchorShadow&&{opacity:setAnchorAlpha/100},fillColor:{FCcolor:{color:setAnchorBgColor,alpha:setAnchorBgAlpha*setAnchorAlpha/100+BLANKSTRING}},lineColor:{FCcolor:{color:setAnchorBorderColor,alpha:setAnchorAlpha}},lineWidth:setAnchorBorderThickness,radius:setAnchorRadius,symbol:mapSymbolName(setAnchorSides),startAngle:setAnchorAngle,imageUrl:imageUrl,imageScale:imageScale,imageAlpha:imageAlpha},tooltipConstraint:this.tooltipConstraint,previousY:this.pointValueWatcher(HCObj,itemValue),hoverEffects:hoverEffects.enabled&&hoverEffects.options,rolloverProperties:hoverEffects.enabled&&hoverEffects.rolloverOptions})),countPoint+=1);return xAxisConf.catCount=catIndex,series}},singleSeriesAPI),chartAPI("mscolumn2dbase",{point:function(chartName,series,dataset,FCChartObj,HCObj,catLength,seriesIndex,MSStackIndex,columnPosition){var ignoreEmptyDatasets=pluckNumber(FCChartObj.ignoreemptydatasets,0),hasValidPoint=!1,data=dataset.data||[],dataParser,conf=HCObj[FC_CONFIG_STRING],seriesType=pluck(series.type,this.defaultSeriesType),isStacked=pluck(series.isStacked,HCObj.plotOptions[seriesType]&&HCObj.plotOptions[seriesType].stacking),isValueAbs=pluck(this.isValueAbs,conf.isValueAbs,!1),seriesYAxis=pluckNumber(series.yAxis,0),NumberFormatter=HCObj[FC_CONFIG_STRING].numberFormatter,colorM=this.colorManager,plotColor=colorM.getPlotColor(),itemValue,index,dataObj,fillAangle,isBar=HCObj._FCconf.isBar,is3d,pointObj,seriesHoverEffects=series.hoverEffects;for(isStacked||(series.columnPosition=pluckNumber(columnPosition,MSStackIndex,seriesIndex)),series.name=getValidValue(dataset.seriesname),0!==pluckNumber(dataset.includeinlegend)&&void 0!==series.name||(series.showInLegend=!1),series.color=pluck(dataset.color,plotColor).split(COMMASTRING)[0].replace(/^#?/g,"#"),is3d=/3d$/.test(HCObj.chart.defaultSeriesType),fillAangle=pluck(360-FCChartObj.plotfillangle,isBar?180:90),itemValue<0&&(fillAangle=360-fillAangle),dataParser=series._dataParser=getDataParser.column(HCObj,{seriesname:series.name,plottooltext:dataset.plottooltext,color:pluck(dataset.color,plotColor),alpha:pluck(dataset.alpha,FCChartObj.plotfillalpha,HUNDREDSTRING),plotgradientcolor:pluckNumber(FCChartObj.useplotgradientcolor,1)?getDefinedColor(FCChartObj.plotgradientcolor,colorM.getColor("plotGradientColor")):BLANKSTRING,ratio:pluck(dataset.ratio,FCChartObj.plotfillratio),fillAangle:fillAangle,isRoundEdges:HCObj.chart.useRoundEdges,plotBorderColor:pluck(FCChartObj.plotbordercolor,is3d?COLOR_WHITE:colorM.getColor("plotBorderColor")).split(COMMASTRING)[0],plotBorderAlpha:FCChartObj.showplotborder==ZEROSTRING||is3d&&FCChartObj.showplotborder!=ONESTRING?ZEROSTRING:pluck(FCChartObj.plotborderalpha,HUNDREDSTRING),isBar:this.isBar,is3d:is3d,dashed:pluckNumber(dataset.dashed,FCChartObj.plotborderdashed,0),dashLen:pluckNumber(dataset.dashlen,FCChartObj.plotborderdashlen,5),dashGap:pluckNumber(dataset.dashgap,FCChartObj.plotborderdashgap,4),borderWidth:pluckNumber(FCChartObj.plotborderthickness,ONESTRING),showValues:pluckNumber(dataset.showvalues,conf.showValues),yAxis:seriesYAxis,use3DLighting:pluckNumber(FCChartObj.use3dlighting,1),_sourceDataset:dataset,hoverEffects:seriesHoverEffects},this),index=0;index<catLength;index+=1)if(dataObj=data[index]){if(null===(itemValue=NumberFormatter.getCleanValue(dataObj.value,isValueAbs))){series.data.push({y:null});continue}hasValidPoint=!0,pointObj=dataParser(dataObj,index,itemValue),series.data.push(pointObj),pointObj.previousY=this.pointValueWatcher(HCObj,itemValue,seriesYAxis,isStacked,index,MSStackIndex,seriesType)}else series.data.push({y:null});return!ignoreEmptyDatasets||hasValidPoint||this.realtimeEnabled||(series.showInLegend=!1),series},defaultSeriesType:"column"},multiSeriesAPI),chartAPI("mslinebase",{hasVDivLine:!0,point:function(chartName,series,dataset,FCChartObj,HCObj,catLength){var ignoreEmptyDatasets=pluckNumber(FCChartObj.ignoreemptydatasets,0),hasValidPoint=!1,colorM=this.colorManager,itemValue,index,dataParser,dataObj,pointObj,HCChartObj=HCObj.chart,data=dataset.data||[],conf=HCObj[FC_CONFIG_STRING],seriesType=pluck(series.type,this.defaultSeriesType),isStacked=pluck(series.isStacked,HCObj.plotOptions[seriesType]&&HCObj.plotOptions[seriesType].stacking),isValueAbs=pluck(this.isValueAbs,conf.isValueAbs,!1),seriesYAxis=pluckNumber(series.yAxis,0),NumberFormatter=this.numberFormatter,lineColorDef=getFirstColor(pluck(dataset.color,FCChartObj.linecolor,colorM.getPlotColor())),lineAlphaDef=pluckNumber(dataset.alpha,FCChartObj.linealpha,HUNDREDSTRING),showShadow=pluckNumber(FCChartObj.showshadow,this.defaultPlotShadow,1),drawAnchors=pluckNumber(dataset.drawanchors,dataset.showanchors,FCChartObj.drawanchors,FCChartObj.showanchors),setAnchorSidesDef=pluckNumber(dataset.anchorsides,FCChartObj.anchorsides,0),setAnchorAngleDef=pluckNumber(dataset.anchorstartangle,FCChartObj.anchorstartangle,90),setAnchorRadiusDef=pluckNumber(dataset.anchorradius,FCChartObj.anchorradius,3),setAnchorBorderColorDef=getFirstColor(pluck(dataset.anchorbordercolor,FCChartObj.anchorbordercolor,lineColorDef)),setAnchorBorderThicknessDef=pluckNumber(dataset.anchorborderthickness,FCChartObj.anchorborderthickness,1),setAnchorBgColorDef=getFirstColor(pluck(dataset.anchorbgcolor,FCChartObj.anchorbgcolor,colorM.getColor("anchorBgColor"))),setAnchorAlphaDef=pluck(dataset.anchoralpha,FCChartObj.anchoralpha,HUNDREDSTRING),setAnchorBgAlphaDef=pluck(dataset.anchorbgalpha,FCChartObj.anchorbgalpha,setAnchorAlphaDef),anchorShadow=setAnchorAlphaDef&&pluck(dataset.anchorshadow,FCChartObj.anchorshadow,0),seriesHoverEffects=series.hoverEffects;for(series.name=getValidValue(dataset.seriesname),(0===pluckNumber(dataset.includeinlegend)||void 0===series.name||0===lineAlphaDef&&1!==drawAnchors)&&(series.showInLegend=!1),series.marker={fillColor:{FCcolor:{color:setAnchorBgColorDef,alpha:setAnchorBgAlphaDef*setAnchorAlphaDef/100+BLANKSTRING}},lineColor:{FCcolor:{color:setAnchorBorderColorDef,alpha:setAnchorAlphaDef+BLANKSTRING}},lineWidth:setAnchorBorderThicknessDef,radius:setAnchorRadiusDef,symbol:mapSymbolName(setAnchorSidesDef),startAngle:setAnchorAngleDef},series.color={FCcolor:{color:lineColorDef,alpha:lineAlphaDef}},series.shadow=!!showShadow&&{opacity:showShadow?lineAlphaDef/100:0},series.anchorShadow=anchorShadow,series.step=pluck(this.stepLine,series.step),series.drawVerticalJoins=Boolean(pluckNumber(series.drawVerticalJoins,FCChartObj.drawverticaljoins,1)),series.useForwardSteps=Boolean(pluckNumber(series.useForwardSteps,FCChartObj.useforwardsteps,1)),series.lineWidth=pluckNumber(dataset.linethickness,FCChartObj.linethickness,2),dataParser=series._dataParser=getDataParser.line(HCObj,{seriesname:series.name,plottooltext:dataset.plottooltext,lineAlpha:lineAlphaDef,anchorAlpha:setAnchorAlphaDef,showValues:pluckNumber(dataset.showvalues,conf.showValues),yAxis:seriesYAxis,lineDashed:Boolean(pluckNumber(dataset.dashed,FCChartObj.linedashed,0)),lineDashLen:pluckNumber(dataset.linedashlen,FCChartObj.linedashlen,5),lineDashGap:pluckNumber(dataset.linedashgap,FCChartObj.linedashgap,4),lineThickness:series.lineWidth,lineColor:lineColorDef,valuePosition:pluck(dataset.valueposition,HCChartObj.valuePosition),drawAnchors:drawAnchors,anchorBgColor:setAnchorBgColorDef,anchorBgAlpha:setAnchorBgAlphaDef,anchorBorderColor:setAnchorBorderColorDef,anchorBorderThickness:setAnchorBorderThicknessDef,anchorRadius:setAnchorRadiusDef,anchorSides:setAnchorSidesDef,anchorAngle:setAnchorAngleDef,anchorShadow:series.anchorShadow,anchorStartAngle:pluckNumber(dataset.anchorstartangle,FCChartObj.anchorstartangle),_sourceDataset:dataset,hoverEffects:seriesHoverEffects,imageUrl:pluck(dataset.anchorimageurl,FCChartObj.anchorimageurl),imageScale:pluck(dataset.anchorimagescale,FCChartObj.anchorimagescale,100),imageAlpha:pluck(dataset.anchorimagealpha,FCChartObj.anchorimagealpha,100)},this),index=0;index<catLength;index+=1)if(dataObj=data[index]){if(null===(itemValue=NumberFormatter.getCleanValue(dataObj.value,isValueAbs))){series.data.push({y:null});continue}hasValidPoint=!0,pointObj=dataParser(dataObj,index,itemValue),series.data.push(pointObj),pointObj.previousY=this.pointValueWatcher(HCObj,itemValue,seriesYAxis,isStacked,index,0,seriesType)}else series.data.push({y:null});return!ignoreEmptyDatasets||hasValidPoint||this.realtimeEnabled||(series.showInLegend=!1),series},defaultSeriesType:"line",defaultPlotShadow:1,defaultZeroPlaneHighlighted:!1},multiSeriesAPI),chartAPI("msareabase",{hasVDivLine:!0,point:function(chartName,series,dataset,FCChartObj,HCObj,catLength){var ignoreEmptyDatasets=pluckNumber(FCChartObj.ignoreemptydatasets,0),hasValidPoint=!1,HCChartObj=HCObj.chart,iapi=this,data=dataset.data||[],conf=HCObj[FC_CONFIG_STRING],seriesType=pluck(series.type,this.defaultSeriesType),isStacked=pluck(series.isStacked,HCObj.plotOptions[seriesType]&&HCObj.plotOptions[seriesType].stacking),isValueAbs=pluck(this.isValueAbs,conf.isValueAbs,!1),seriesYAxis=pluckNumber(series.yAxis,0),NumberFormatter=HCObj[FC_CONFIG_STRING].numberFormatter,colorM=this.colorManager,plotColor=colorM.getPlotColor(),seriesFillColor=pluck(dataset.color,FCChartObj.plotfillcolor,plotColor).split(COMMASTRING)[0].replace(/^#?/g,"#").split(COMMASTRING)[0],seriesFillAlpha=pluck(dataset.alpha,FCChartObj.plotfillalpha,FCChartObj.areaalpha,this.areaAlpha,70),seriesFillAngle=pluckNumber(FCChartObj.plotfillangle,270),seriesFillRatio=BGRATIOSTRING,seriesLineColor=pluck(dataset.plotbordercolor,FCChartObj.plotbordercolor,FCChartObj.areabordercolor,this.isRadar?plotColor:"666666").split(COMMASTRING)[0],seriesLineAlpha=pluck(dataset.showplotborder,FCChartObj.showplotborder)==ZEROSTRING?ZEROSTRING:pluck(dataset.plotborderalpha,FCChartObj.plotborderalpha,dataset.alpha,FCChartObj.plotfillalpha,FCChartObj.areaalpha,"95"),seriesLineAngle=pluckNumber(FCChartObj.plotborderangle,270),seriesLineRatio=HUNDREDSTRING,setAnchorSidesDef=pluckNumber(dataset.anchorsides,FCChartObj.anchorsides,0),setAnchorAngleDef=pluckNumber(dataset.anchorstartangle,FCChartObj.anchorstartangle,90),setAnchorRadiusDef=pluckNumber(dataset.anchorradius,FCChartObj.anchorradius,3),setAnchorBorderColorDef=getFirstColor(pluck(dataset.anchorbordercolor,FCChartObj.anchorbordercolor,seriesFillColor)),setAnchorBorderThicknessDef=pluckNumber(dataset.anchorborderthickness,FCChartObj.anchorborderthickness,1),setAnchorBgColorDef=getFirstColor(pluck(dataset.anchorbgcolor,FCChartObj.anchorbgcolor,colorM.getColor("anchorBgColor"))),setAnchorAlphaDef=pluckNumber(dataset.anchoralpha,FCChartObj.anchoralpha,this.anchorAlpha,0),setAnchorBgAlphaDef=pluckNumber(dataset.anchorbgalpha,FCChartObj.anchorbgalpha,setAnchorAlphaDef),anchorShadow=setAnchorAlphaDef&&pluck(dataset.anchorshadow,FCChartObj.anchorshadow,0),dataParser,itemValue,index,dataObj,pointObj,seriesHoverEffects=series.hoverEffects;for(this.isRadar||(seriesFillColor=(seriesFillColor+=COMMASTRING+(pluckNumber(FCChartObj.useplotgradientcolor,1)?getDefinedColor(FCChartObj.plotgradientcolor,colorM.getColor("plotGradientColor")):BLANKSTRING)).replace(/,+?$/,"")),series.step=pluck(this.stepLine,series.step),series.drawVerticalJoins=Boolean(pluckNumber(series.drawVerticalJoins,FCChartObj.drawverticaljoins,1)),series.useForwardSteps=Boolean(pluckNumber(series.useForwardSteps,FCChartObj.useforwardsteps,1)),series.name=pluck(dataset.seriesname),0!==pluckNumber(dataset.includeinlegend)&&void 0!==series.name||(series.showInLegend=!1),series.fillColor={FCcolor:{color:seriesFillColor,alpha:seriesFillAlpha,ratio:seriesFillRatio,angle:seriesFillAngle}},series.color=seriesFillColor,series.shadow={opacity:pluckNumber(FCChartObj.showshadow,1)?seriesLineAlpha/100:0},series.anchorShadow=anchorShadow,series.lineColor={FCcolor:{color:seriesLineColor,alpha:seriesLineAlpha,ratio:seriesLineRatio,angle:seriesLineAngle}},series.lineWidth=pluck(dataset.plotborderthickness,FCChartObj.plotborderthickness,1),series.dashStyle=Boolean(pluckNumber(dataset.dashed,FCChartObj.plotborderdashed,0))?getDashStyle(pluckNumber(dataset.dashlen,FCChartObj.plotborderdashlen,5),pluckNumber(dataset.dashgap,FCChartObj.plotborderdashgap,4),series.lineWidth):void 0,series.marker={fillColor:{FCcolor:{color:setAnchorBgColorDef,alpha:setAnchorBgAlphaDef*setAnchorAlphaDef/100+BLANKSTRING}},lineColor:{FCcolor:{color:setAnchorBorderColorDef,alpha:setAnchorAlphaDef+BLANKSTRING}},lineWidth:setAnchorBorderThicknessDef,radius:setAnchorRadiusDef,symbol:mapSymbolName(setAnchorSidesDef),startAngle:setAnchorAngleDef},dataParser=series._dataParser=getDataParser.area(HCObj,{seriesname:series.name,plottooltext:dataset.plottooltext,lineAlpha:seriesLineAlpha,anchorAlpha:setAnchorAlphaDef,showValues:pluckNumber(dataset.showvalues,conf.showValues),yAxis:seriesYAxis,fillColor:seriesFillColor,fillAlpha:seriesFillAlpha,valuePosition:pluck(dataset.valueposition,HCChartObj.valuePosition),drawAnchors:Boolean(pluckNumber(FCChartObj.drawanchors,FCChartObj.showanchors,1)),anchorBgColor:setAnchorBgColorDef,anchorBgAlpha:setAnchorBgAlphaDef,anchorBorderColor:setAnchorBorderColorDef,anchorBorderThickness:setAnchorBorderThicknessDef,anchorRadius:setAnchorRadiusDef,anchorSides:setAnchorSidesDef,anchorAngle:setAnchorAngleDef,anchorShadow:series.anchorShadow,getLink:this.linkClickFN,anchorStartAngle:pluckNumber(dataset.anchorstartangle,FCChartObj.anchorstartangle),_sourceDataset:dataset,hoverEffects:seriesHoverEffects,imageUrl:pluck(dataset.anchorimageurl,FCChartObj.anchorimageurl),imageScale:pluck(dataset.anchorimagescale,FCChartObj.anchorimagescale,100),imageAlpha:pluck(dataset.anchorimagealpha,FCChartObj.anchorimagealpha,100)},this),index=0;index<catLength;index+=1)if(dataObj=data[index]){if(null===(itemValue=dataObj?NumberFormatter.getCleanValue(dataObj.value,isValueAbs):null)){series.data.push({y:null});continue}hasValidPoint=!0,pointObj=dataParser(dataObj,index,itemValue),series.data.push(pointObj),pointObj.previousY=this.pointValueWatcher(HCObj,itemValue,seriesYAxis,isStacked,index,0,seriesType)}else series.data.push({y:null});return!ignoreEmptyDatasets||hasValidPoint||this.realtimeEnabled||(series.showInLegend=!1),series},defaultSeriesType:"area",defaultPlotShadow:0},multiSeriesAPI),chartAPI("scatterbase",{showValues:0,defaultPlotShadow:0,rendererId:"cartesian",defaultSeriesType:"scatter",canvasPaddingModifiers:["anchorlabel"],point:function(chartName,series,dataset,FCChartObj,HCObj,catLength,seriesIndex){var ignoreEmptyDatasets=pluckNumber(FCChartObj.ignoreemptydatasets,0),colorM=this.colorManager,plotColor=colorM.getPlotColor(),itemValueY,index,scatterBorderColor,scatterAlpha,lineThickness,lineDashed,lineDashLen,lineDashGap,drawAnchors,dataObj,pointShadow,anchorShadow,setAnchorShadow,seriesAnchorSides,seriesAnchorRadius,seriesAnchorBorderColor,seriesAnchorBorderThickness,seriesAnchorBgColor,seriesAnchorAlpha,seriesAnchorBgAlpha,setAnchorSides,setAnchorRadius,setAnchorBorderColor,setAnchorBorderThickness,setAnchorBgColor,setAnchorAlpha,setAnchorBgAlpha,itemValueX,hasValidPoint=!1,seriesAnchorAngle,pointStub,chartNameAPI=this,drawLine=pluckNumber(dataset.drawline,FCChartObj.drawlines,0),drawProgressionCurve=pluckNumber(dataset.drawprogressioncurve,0),conf=HCObj[FC_CONFIG_STRING],data=dataset.data||[],regressionData,regressionObj,regressionLineColor,regressionLineThickness,regressionLineAlpha,regLineColor,showYOnX,regSeries,dataLength,datasetShowValues=pluckNumber(dataset.showvalues,conf.showValues),NumberFormatter=this.numberFormatter,hoverEffects,showRegressionLine=series._showRegression=pluckNumber(dataset.showregressionline,FCChartObj.showregressionline,0);if(series.zIndex=1,series.name=getValidValue(dataset.seriesname),0!==pluckNumber(dataset.includeinlegend)&&void 0!==series.name||(series.showInLegend=!1),(drawLine||drawProgressionCurve)&&(scatterBorderColor=getFirstColor(pluck(dataset.color,plotColor)),scatterAlpha=pluck(dataset.alpha,HUNDREDSTRING),lineThickness=pluckNumber(dataset.linethickness,FCChartObj.linethickness,2),lineDashed=Boolean(pluckNumber(dataset.linedashed,dataset.dashed,FCChartObj.linedashed,0)),lineDashLen=pluckNumber(dataset.linedashlen,FCChartObj.linedashlen,5),lineDashGap=pluckNumber(dataset.linedashgap,FCChartObj.linedashgap,4),series.color=convertColor(pluck(dataset.linecolor,FCChartObj.linecolor,scatterBorderColor),pluckNumber(dataset.linealpha,FCChartObj.linealpha,scatterAlpha)),series.lineWidth=lineThickness,series.dashStyle=lineDashed?getDashStyle(lineDashLen,lineDashGap,lineThickness):"none"),drawAnchors=Boolean(pluckNumber(dataset.drawanchors,dataset.showanchors,FCChartObj.drawanchors,FCChartObj.showanchors,1)),seriesAnchorSides=pluckNumber(dataset.anchorsides,FCChartObj.anchorsides,seriesIndex+3),seriesAnchorRadius=pluckNumber(dataset.anchorradius,FCChartObj.anchorradius,3),seriesAnchorBorderColor=getFirstColor(pluck(dataset.anchorbordercolor,dataset.color,FCChartObj.anchorbordercolor,scatterBorderColor,plotColor)),seriesAnchorBorderThickness=pluckNumber(dataset.anchorborderthickness,FCChartObj.anchorborderthickness,1),seriesAnchorBgColor=getFirstColor(pluck(dataset.anchorbgcolor,FCChartObj.anchorbgcolor,colorM.getColor("anchorBgColor"))),seriesAnchorAlpha=pluck(dataset.anchoralpha,dataset.alpha,FCChartObj.anchoralpha,HUNDREDSTRING),seriesAnchorBgAlpha=pluck(dataset.anchorbgalpha,dataset.alpha,FCChartObj.anchorbgalpha,seriesAnchorAlpha),seriesAnchorAngle=pluck(dataset.anchorstartangle,FCChartObj.anchorstartangle,90),series.anchorShadow=anchorShadow=pluckNumber(FCChartObj.anchorshadow,0),series.marker={fillColor:this.getPointColor(seriesAnchorBgColor,HUNDREDSTRING),lineColor:{FCcolor:{color:seriesAnchorBorderColor,alpha:seriesAnchorAlpha+BLANKSTRING}},lineWidth:seriesAnchorBorderThickness,radius:seriesAnchorRadius,symbol:mapSymbolName(seriesAnchorSides)},data=dataset.data||[]){for(dataLength=data.length,showRegressionLine&&(series.events={hide:this.hideRLine,show:this.showRLine},regressionObj={sumX:0,sumY:0,sumXY:0,sumXsqure:0,sumYsqure:0,xValues:[],yValues:[]},showYOnX=pluckNumber(dataset.showyonx,FCChartObj.showyonx,1),regressionLineColor=getFirstColor(pluck(dataset.regressionlinecolor,FCChartObj.regressionlinecolor,seriesAnchorBorderColor)),regressionLineThickness=pluckNumber(dataset.regressionlinethickness,FCChartObj.regressionlinethickness,seriesAnchorBorderThickness),regressionLineAlpha=getFirstAlpha(pluckNumber(dataset.regressionlinealpha,FCChartObj.regressionlinealpha,seriesAnchorAlpha)),regLineColor=convertColor(regressionLineColor,regressionLineAlpha)),index=0;index<dataLength;index+=1)if(dataObj=data[index]){if(itemValueY=NumberFormatter.getCleanValue(dataObj.y),itemValueX=NumberFormatter.getCleanValue(dataObj.x),null===itemValueY){series.data.push({y:null,x:itemValueX});continue}hasValidPoint=!0,pointStub=this.getPointStub(dataObj,itemValueY,NumberFormatter.xAxis(itemValueX),HCObj,dataset,datasetShowValues),setAnchorSides=pluckNumber(dataObj.anchorsides,seriesAnchorSides),setAnchorRadius=pluckNumber(dataObj.anchorradius,seriesAnchorRadius),setAnchorBorderColor=getFirstColor(pluck(dataObj.anchorbordercolor,seriesAnchorBorderColor)),setAnchorBorderThickness=pluckNumber(dataObj.anchorborderthickness,seriesAnchorBorderThickness),setAnchorBgColor=getFirstColor(pluck(dataObj.anchorbgcolor,seriesAnchorBgColor)),setAnchorAlpha=pluck(dataObj.anchoralpha,dataObj.alpha,seriesAnchorAlpha),setAnchorBgAlpha=pluck(dataObj.anchorbgalpha,seriesAnchorBgAlpha),setAnchorShadow=Boolean(pluckNumber(dataObj.anchorshadow,anchorShadow,0)),hoverEffects=this.pointHoverOptions(dataObj,series,{plotType:"anchor",anchorBgColor:setAnchorBgColor,anchorAlpha:setAnchorAlpha,anchorBgAlpha:setAnchorBgAlpha,anchorAngle:seriesAnchorAngle,anchorBorderThickness:setAnchorBorderThickness,anchorBorderColor:setAnchorBorderColor,anchorBorderAlpha:setAnchorAlpha,anchorSides:setAnchorSides,anchorRadius:setAnchorRadius,shadow:void 0}),series.data.push({y:itemValueY,x:itemValueX,displayValue:pointStub.displayValue,toolText:pointStub.toolText,link:pointStub.link,marker:{enabled:drawAnchors,shadow:setAnchorShadow&&{opacity:setAnchorAlpha/100},fillColor:{FCcolor:{color:setAnchorBgColor,alpha:setAnchorBgAlpha*setAnchorAlpha/100+BLANKSTRING}},lineColor:{FCcolor:{color:setAnchorBorderColor,alpha:setAnchorAlpha}},lineWidth:setAnchorBorderThickness,radius:setAnchorRadius,symbol:mapSymbolName(setAnchorSides),startAngle:pluck(dataObj.anchorstartangle,dataset.anchorstartangle,FCChartObj.anchorstartangle,90)},hoverEffects:hoverEffects.enabled&&hoverEffects.options,rolloverProperties:hoverEffects.enabled&&hoverEffects.rolloverOptions}),this.pointValueWatcher(HCObj,itemValueY,itemValueX,showRegressionLine&&regressionObj)}else series.data.push({y:null});showRegressionLine&&(regressionData=this.getRegressionLineSeries(regressionObj,showYOnX,dataLength),this.pointValueWatcher(HCObj,regressionData[0].y,regressionData[0].x),this.pointValueWatcher(HCObj,regressionData[1].y,regressionData[1].x),series=[series,regSeries={type:"line",color:regLineColor,showInLegend:!1,lineWidth:regressionLineThickness,enableMouseTracking:!1,marker:{enabled:!1},data:regressionData,zIndex:0}])}return ignoreEmptyDatasets&&!hasValidPoint&&(series.showInLegend=!1),series},postSeriesAddition:function(HCObj,FCObj){for(var HCChartObj=HCObj.chart,FCChartObj=FCObj.chart,series=HCObj.series,i=0,len=series.length;i<len;i+=1)series[i]._showRegression&&(series[i].relatedSeries=[i+1]);HCChartObj.clipBubbles=pluckNumber(FCChartObj.clipbubbles,1)},categoryAdder:function(FCObj,HCObj){var index,countCat=0,fontSize,conf,xAxisConf=HCObj[FC_CONFIG_STRING].x,catXValue,xAxisObj=HCObj.xAxis,dataLabel,categories,FCchartObj=FCObj.chart,labelStep=parseInt(FCchartObj.labelstep,10),showLabels=pluckNumber(FCchartObj.showlabels,1),xAxisLabelMode=pluck(FCchartObj.xaxislabelmode,"categories").toLowerCase(),colorM=this.colorManager,NumberFormatter=HCObj[FC_CONFIG_STRING].numberFormatter,verticalLineColor,verticalLineThickness,verticalLineAlpha,verticalLineDashed,verticalLineDashLen,verticalLineDashGap,verticalLineColorRGB,category,catShowVerticalLine,catLineDashed,catShowLabel;if(HCObj._FCconf.isXYPlot=!0,labelStep=labelStep>1?labelStep:1,xAxisConf.catOccupied={},"auto"!==xAxisLabelMode&&FCObj.categories&&FCObj.categories[0]&&FCObj.categories[0].category){for((categories=FCObj.categories[0]).font&&(HCObj.xAxis.labels.style.fontFamily=categories.font),void 0!==(fontSize=pluckNumber(categories.fontsize))&&(fontSize<1&&(fontSize=1),HCObj.xAxis.labels.style.fontSize=fontSize+PXSTRING,setLineHeight(HCObj.xAxis.labels.style)),categories.fontcolor&&(HCObj.xAxis.labels.style.color=categories.fontcolor.split(COMMASTRING)[0].replace(/^\#?/,"#")),verticalLineColor=pluck(categories.verticallinecolor,colorM.getColor("divLineColor")),verticalLineThickness=pluckNumber(categories.verticallinethickness,1),verticalLineAlpha=pluckNumber(categories.verticallinealpha,colorM.getColor("divLineAlpha")),verticalLineDashed=pluckNumber(categories.verticallinedashed,0),verticalLineDashLen=pluckNumber(categories.verticallinedashlen,4),verticalLineDashGap=pluckNumber(categories.verticallinedashgap,2),verticalLineColorRGB=convertColor(verticalLineColor,verticalLineAlpha),index=0;index<categories.category.length;index+=1)category=categories.category[index],null===(catXValue=NumberFormatter.getCleanValue(category.x))||category.vline||(xAxisConf.catOccupied[catXValue]=!0,catShowLabel=pluckNumber(category.showlabel,category.showname,showLabels),catShowVerticalLine=pluckNumber(category.showverticalline,category.showline,category.sl,0),catLineDashed=pluckNumber(category.linedashed,verticalLineDashed),dataLabel=0===catShowLabel||countCat%labelStep!=0?BLANKSTRING:parseUnsafeString(getFirstValue(category.label,category.name)),xAxisObj.plotLines.push({isGrid:!0,isCat:!0,width:catShowVerticalLine?verticalLineThickness:0,color:verticalLineColorRGB,dashStyle:getDashStyle(verticalLineDashLen,verticalLineDashGap,verticalLineThickness,catLineDashed),value:catXValue,label:{text:dataLabel,style:xAxisObj.labels.style,align:POSITION_CENTER,verticalAlign:POSITION_BOTTOM,textAlign:POSITION_CENTER,rotation:0,x:0,y:0}}),this.pointValueWatcher(HCObj,null,catXValue),countCat+=1);"mixed"===xAxisLabelMode&&(xAxisConf.requiredAutoNumericLabels=pluckNumber(this.requiredAutoNumericLabels,1))}else xAxisConf.requiredAutoNumericLabels=pluckNumber(this.requiredAutoNumericLabels,1);xAxisConf.adjustMinMax=!0},getPointColor:function(color,alpha){var colorObj,innerColor,outerColor;return color=getFirstColor(color),alpha=getFirstAlpha(alpha),innerColor=getLightColor(color,70),outerColor=getDarkColor(color,50),colorObj={FCcolor:{gradientUnits:"objectBoundingBox",cx:.4,cy:.4,r:"100%",color:innerColor+COMMASTRING+outerColor,alpha:alpha+COMMASTRING+alpha,ratio:BGRATIOSTRING,radialGradient:!0}}}},chartAPI.xybase),chartAPI("mscombibase",{canvasPaddingModifiers:["anchor","anchorlabel"],series:function(FCObj,HCObj,chartName){var seriesIndex,length,dataset,catLength,FCChartObj=FCObj.chart,series,lineArr=[],columnArr=[],areaArr=[],isSY,renderAs,conf=HCObj[FC_CONFIG_STRING],isDual=this.isDual,columnPosition=0,i,ln,seriesFilterStatus;if(HCObj.legend.enabled=Boolean(pluckNumber(FCObj.chart.showlegend,1)),FCObj.dataset&&FCObj.dataset.length>0){for(this.categoryAdder(FCObj,HCObj),catLength=conf.oriCatTmp.length,seriesIndex=0,length=FCObj.dataset.length;seriesIndex<length;seriesIndex+=1)switch(dataset=FCObj.dataset[seriesIndex],isSY=!(!isDual||"s"!==pluck(dataset.parentyaxis,"p").toLowerCase()),series={hoverEffects:this.parseSeriesHoverOptions(FCObj,HCObj,dataset,chartName),visible:!pluckNumber(dataset.initiallyhidden,0),legendIndex:seriesIndex,data:[]},isSY?(series.yAxis=1,renderAs=getFirstValue(dataset.renderas,this.secondarySeriesType),this.secondarySeriesFilter&&(seriesFilterStatus=this.secondarySeriesFilter[renderAs])):(renderAs=getFirstValue(dataset.renderas,this.defaultSeriesType),this.defaultSeriesFilter&&(seriesFilterStatus=this.defaultSeriesFilter[renderAs])),renderAs=renderAs.toLowerCase()){case"line":case"spline":series.type=!0===seriesFilterStatus?renderAs:"line",lineArr.push(chartAPI.mslinebase.point.call(this,chartName,series,dataset,FCChartObj,HCObj,catLength,seriesIndex));break;case"area":case"splinearea":series.type=!0===seriesFilterStatus?renderAs:"area",HCObj.chart.series2D3Dshift=!0,areaArr.push(chartAPI.msareabase.point.call(this,chartName,series,dataset,FCChartObj,HCObj,catLength,seriesIndex));break;case"column":case"column3d":columnArr.push(chartAPI.mscolumn2dbase.point.call(this,chartName,series,FCObj.dataset[seriesIndex],FCChartObj,HCObj,catLength,seriesIndex,void 0,columnPosition)),columnPosition+=1;break;default:isSY?(series.type="line",lineArr.push(chartAPI.mslinebase.point.call(this,chartName,series,dataset,FCChartObj,HCObj,catLength,seriesIndex))):(columnArr.push(chartAPI.mscolumn2dbase.point.call(this,chartName,series,FCObj.dataset[seriesIndex],FCChartObj,HCObj,catLength,seriesIndex,void 0,columnPosition)),columnPosition+=1)}if("0"!==FCChartObj.areaovercolumns?(HCObj.chart.areaOverColumns=!0,HCObj.series=HCObj.series.concat(columnArr,areaArr,lineArr)):(HCObj.chart.areaOverColumns=!1,HCObj.series=HCObj.series.concat(areaArr,columnArr,lineArr)),0===columnArr.length&&1!==catLength)conf.hasNoColumn=!0;else if(!this.isStacked)for(i=0,ln=columnArr.length;i<ln;i+=1)columnArr[i].numColumns=ln;this.configureAxis(HCObj,FCObj),FCObj.trendlines&&createTrendLine(FCObj.trendlines,HCObj.yAxis,HCObj[FC_CONFIG_STRING],isDual,this.isBar)}}},chartAPI.mscolumn2dbase)}]),FusionCharts.register("module",["private","modules.renderer.js-renderer",function(){var global=this,win=global.window,lib=global.hcLib,R=lib.Raphael,renderer=lib.chartAPI,rendererRoot,userAgent=win.navigator.userAgent,isIE=/msie/i.test(userAgent)&&!win.opera,doc=win.document,Image=win.Image,isVML="VML"===R.type,BLANK=lib.BLANKSTRING,COMMA=",",PNG="png",SVG="svg",PDF="pdf",INPUT="input",FORM="form",DOWNLOAD="download",HIDDEN="hidden",POST="POST",CRISP="crisp",BEFOREPRINT="BeforePrint",PRINTCANCELLED="PrintCancelled",PRINTCOMPLETE="PrintComplete",LOGOROLLOUT="LogoRollout",LOGOROLLOVER="LogoRollover",LOGOCLICK="LogoClick",LOGOLOADED="LogoLoaded",LOGOLOADERROR="LogoLoadError",BACKGROUNDLOADED="BackgroundLoaded",BACKGROUNDLOADERROR="BackgroundLoadError",LEGENDITEMROLLOVER="LegendItemRollover",LEGENDITEMROLLOUT="LegendItemRollout",LEGENDITEMCLICKED="LegendItemClicked",TRACKER_FILL="rgba(192,192,192,"+(isIE?.002:1e-6)+")",TOUCH_THRESHOLD_PIXELS=lib.TOUCH_THRESHOLD_PIXELS,CLICK_THRESHOLD_PIXELS=lib.CLICK_THRESHOLD_PIXELS,NONE="none",TL="tl",stubFN=lib.stubFN,stubEvent={pageX:0,pageY:0},toFloat=parseFloat,toInt=parseInt,extend2=lib.extend2,addEvent=lib.addEvent,getMouseCoordinate=lib.getMouseCoordinate,removeEvent=lib.removeEvent,pluck=lib.pluck,pluckNumber=lib.pluckNumber,toRaphaelColor=lib.toRaphaelColor,setImageDisplayMode=lib.setImageDisplayMode,CONFIGKEY=lib.FC_CONFIG_STRING,xAttrRegx=/\s\bx\b=['"][^'"]+?['"]/gi,yAttrRegx=/\s\by\b=['"][^'"]+?['"]/gi,plotEventHandler=lib.plotEventHandler,ROLLOVER="DataPlotRollOver",ROLLOUT="DataPlotRollOut",rolloverAnimationDuration=50,isArray=lib.isArray,each=lib.each=function(obj,fn,scope,data){var i;if(scope||(scope=obj),data||(data={}),isArray(obj)){for(i=0;i<obj.length;i+=1)if(!1===fn.call(scope,obj[i],i,obj,data))return i}else if(null!=obj)for(i in obj)if(!1===fn.call(scope,obj[i],i,obj,data))return i},createElement=lib.createElement,createContextMenu=lib.createContextMenu,hasTouch=lib.hasTouch,HTP=hasTouch?TOUCH_THRESHOLD_PIXELS:CLICK_THRESHOLD_PIXELS,getSentenceCase=lib.getSentenceCase,getCrispValues=lib.getCrispValues,getValidValue=lib.getValidValue,getFirstValue=lib.getFirstValue,dropHash=lib.regex.dropHash,HASHSTRING=lib.HASHSTRING,defined=function(obj){return null!=obj},pInt=function(s,mag){return parseInt(s,mag||10)},isObject=function(obj){return"object"==typeof obj},isString=function(s){return"string"==typeof s},getCrispPath=function(path,width){return path[1]===path[4]&&(path[1]=path[4]=mathRound(path[1])+width%2/2),path[2]===path[5]&&(path[2]=path[5]=mathRound(path[2])+width%2/2),path},docMode8,UNDEFINED,VISIBLE=8===doc.documentMode?"visible":"",M="M",L="L",V="V",H="H",Z="Z",math=win.Math,mathSin=math.sin,mathCos=math.cos,mathATan2=math.atan2,mathRound=math.round,mathMin=math.min,mathMax=math.max,mathAbs=math.abs,mathPI=math.PI,mathCeil=math.ceil,mathFloor=math.floor,rad2deg=180/mathPI,pi=math.PI,piBy2=pi/2,pi2=2*pi,pi3By2=pi+piBy2,getFirstColor=lib.getFirstColor,getLightColor=lib.graphics.getLightColor,POSITION_TOP=lib.POSITION_TOP,POSITION_BOTTOM=lib.POSITION_BOTTOM,POSITION_RIGHT=lib.POSITION_RIGHT,POSITION_LEFT=lib.POSITION_LEFT,POSITION_MIDDLE="middle",POSITION_START="start",POSITION_END="end",MAX_MITER_LINEJOIN=2,GUTTER_4=4,GUTTER_2=2,mouseStateIn,winMouseHover,sortArrayByPoint,sortArrayByAngle,alignments,alignCenter,ySign,xSign;function Axis(axisData,renderer,isVertical,isReverse){var axis=this,paper=renderer.paper,layers=renderer.layers,groupName=isVertical?"y-axis":"x-axis",upGroup=this.layerAboveDataset=layers.layerAboveDataset,dipGroup=this.layerBelowDataset=layers.layerBelowDataset,uBands=upGroup.bands||(upGroup.bands=[]),uBandsLen=uBands.length,dBands=dipGroup.bands||(dipGroup.bands=[]),dBandsLen=dBands.length,uLines=upGroup.lines||(upGroup.lines=[]),uLinesLen=uLines.length,dLines=dipGroup.lines||(dipGroup.lines=[]),dLinesLen=dLines.length,uLabels=upGroup.labels||(upGroup.labels=[]),uLabelsLen=uLabels.length,dLabels=dipGroup.labels||(dipGroup.labels=[]),dLabelsLen=dLabels.length;this.renderer=renderer,this.axisData=axisData||{},this.globalOptions=renderer.options,this.isVertical=isVertical,this.topBandGroup=this.topBandGroup||paper.group(groupName+"-bands",this.layerAboveDataset),this.belowBandGroup=this.belowBandGroup||paper.group(groupName+"-bands",this.layerBelowDataset),uBands.push(this.topBandGroup),uBandsLen&&uBands[uBandsLen].insertAfter(uBands[uBandsLen-1]),dBands.push(this.belowBandGroup),dBandsLen&&dBands[dBandsLen].insertAfter(dBands[dBandsLen-1]),this.topLineGroup=this.topLineGroup||paper.group(groupName+"-lines",this.layerAboveDataset),this.belowLineGroup=this.belowLineGroup||paper.group(groupName+"-lines",this.layerBelowDataset),this.topLabelGroup=this.topLabelGroup||paper.group(groupName+"-labels",this.layerAboveDataset),this.belowLabelGroup=this.belowLabelGroup||paper.group(groupName+"-labels",this.layerBelowDataset),uLines.push(this.topLineGroup),uLinesLen&&uLines[uLinesLen].insertAfter(uLines[uLinesLen-1]),dLines.push(this.belowLineGroup),dLinesLen&&dLines[dLinesLen].insertAfter(dLines[dLinesLen-1]),uLabels.push(this.topLabelGroup),uLabelsLen&&uLabels[uLabelsLen].insertAfter(uLabels[uLabelsLen-1]),dLabels.push(this.belowLabelGroup),dLabelsLen&&dLabels[dLabelsLen].insertAfter(dLabels[dLabelsLen-1]),this.isReverse=isReverse,this.configure()}function getClickArcTangent(x,y,center,ref){return mathATan2(y-center[1]-ref.top,x-center[0]-ref.left)}function normalizeAngle(angle,inDegrees){var fullCycle=inDegrees?360:pi2;return(angle=(angle||0)%fullCycle)<0?fullCycle+angle:angle}R.ca.ishot=function(val){if(this.removed)return!1;var o=this,node=o.node,child;switch(val=val||"",node.ishot=val,o.type){case"group":for(child=o.bottom;child;)child.attr("ishot",val),child=child.next;break;case"text":if(R.svg)for(child=node.getElementsByTagName("tspan")[0];child;)child.ishot=val,child=child.nextSibling}return!1},R.addSymbol({printIcon:function(x,y,radius){var r1=.75*radius,r2=.5*radius,r3=.33*radius,x1=mathRound(x-radius)+.5,y1=mathRound(y-radius)+.5,x2=mathRound(x+radius)+.5,y2=mathRound(y+radius)+.5,x3=mathRound(x-r1)+.5,y3=mathRound(y-r1)+.5,x4=mathRound(x+r1)+.5,y4=mathRound(y+r2)+.5,x5=mathRound(x+r2)+.5,y5=mathRound(y+r3)+.5,x6=mathRound(x-r2)+.5,y6=mathRound(y+r3+r3)+.5;return[M,x3,y1,L,x4,y1,x4,y3,x3,y3,"Z",M,x1,y3,L,x1,y4,x3,y4,x3,y,x4,y,x4,y4,x2,y4,x2,y3,"Z",M,x3,y,L,x3,y2,x4,y2,x4,y,"Z",M,x5,y5,L,x6,y5,M,x5,y6,L,x6,y6]},exportIcon:function(x,y,radius){var r1=.66*radius,r2=.5*r1,x1=mathRound(x-radius)+.5,y1=mathRound(y-radius)+.5,x2=mathRound(x+radius)+.5,y2=mathRound(y+radius)-.5,x3=mathRound(x-r2)+.5,y3=y<y2-3?y2-3:mathRound(y)+.5,x4=mathRound(x+r2)-.5,x5=mathRound(x+r1)-.5,x6=mathRound(x-r1)+.5;return[M,x1,y3,L,x1,y2,x2,y2,x2,y3,x2,y2,x1,y2,"Z",M,x,y2-1,L,x6,y,x3,y,x3,y1,x4,y1,x4,y,x5,y,"Z"]}}),rendererRoot=lib.rendererRoot=renderer("renderer.root",{standaloneInit:!1,isRenderer:!0,inited:!1,callbacks:[],init:function(logic,options,callback){var chart=this,container=chart.container=options.chart.renderTo,tooltip=options.tooltip,paper,layers=chart.layer,desc,chartOptions,animationDuration;chart.options=options,chart.logic=logic,chart.definition=logic.dataObj,chart.smartLabel=logic.smartLabel,chart.numberFormatter=logic.numberFormatter,chart.fusionCharts=logic.chartInstance,chart.linkClickFN=logic.linkClickFN,animationDuration=(chartOptions=options.chart)&&chartOptions.animation&&chartOptions.animation.duration,chart.animationCompleteQueue=[],container.innerHTML=BLANK,paper=chart.paper=chart.fusionCharts.jsVars.paper=new R(container,container.offsetWidth||logic.width,container.offsetHeight||logic.height),!1!==global.core.options._useSVGDescTag&&paper._desc&&(desc=logic.friendlyName||"Vector image",chart.definition&&chart.definition.chart&&chart.definition.chart.caption&&(desc+=' with caption "'+chart.definition.chart.caption+'"'),paper._desc(desc)),chart.chartWidth=paper.width,chart.chartHeight=paper.height,chart.elements||(chart.elements={}),layers||((layers=chart.layers={}).background=layers.background||paper.group("background"),layers.dataset=layers.dataset||paper.group("dataset").insertAfter(layers.background),layers.tracker=layers.tracker||paper.group("hot").insertAfter(layers.dataset)),tooltip&&!1!==tooltip.enabled&&(paper.tooltip(tooltip.style,tooltip.shadow,tooltip.constrain),layers.tracker.trackTooltip(!0),layers.dataset.trackTooltip(!0)),chart.disposeChartStyleSheet(),chart.setMargins(),chart.drawBackground(),chart.drawButtons(),chart.drawGraph(),options.legend&&options.legend.enabled&&chart.drawLegend(),chart.drawCaption(),chart.drawLogo(),chart.setChartEvents(),chart.drawLabels&&chart.drawLabels(),each(options.callbacks,(function(fn){fn.apply(chart,this)}),[logic]),each(chart.callbacks,(function(fn){fn.apply(chart,this)}),[logic]),chart.fusionCharts.annotations&&chart.fusionCharts.annotations.draw(chart),chart.createChartStyleSheet(),chart.options.nativeMessage||animationDuration||global.raiseEvent("internal.animationComplete",{},chart.fusionCharts),chart.hasRendered=!0,callback&&callback(chart)},disposeChartStyleSheet:function(){var chart=this,paper;this.paper.cssClear()},createChartStyleSheet:function(){var chart=this,paper;this.paper.cssRender()},addCSSDefinition:function(rule,styleObj){var chart=this,paper=this.paper;styleObj.color&&(styleObj.fill=styleObj.color),paper.cssAddRule(rule,styleObj)},animationCompleteQueue:[],animationComplete:function(){var chart=this,i,ii,queue,animationCallback;if(this.animatedElements=this.animatedElements?++this.animatedElements:1,this.animatedElements===this.animatingElementsCount){for(i=0,ii=(queue=this.animationCompleteQueue).length;i<ii;i++)(animationCallback=queue[i]).fn&&animationCallback.fn.call(animationCallback.scope),animationCallback=void 0;this.animationCompleteQueue=[],global.raiseEvent("internal.animationComplete",{},this.fusionCharts)}},getAnimationCompleteFn:function(){var chart=this;return chart.animatingElementsCount=chart.animatingElementsCount?++chart.animatingElementsCount:1,function(){chart.animationComplete()}},reinit:function(logic,options,callback){var chart=this;this.hasRendered||this.init(options,callback)},dispose:function(){var chart=this,listeners=this.eventListeners,ii=listeners&&listeners.length,item;if(this.disposing=!0,ii){for(;ii--;)listeners[ii].unlisten();listeners=[]}if(this.toolbar&&this.toolbar.length){for(;this.toolbar.length;)(item=this.toolbar.pop()).remove();this.toolbar.add=null}if(this.menus&&this.menus.length)for(;this.menus.length;)(item=this.menus.pop()).destroy();this.paper&&(this.paper.clear(),this.paper.remove(),delete this.paper),this.exportIframe&&(this.exportIframe.parentNode.removeChild(this.exportIframe),delete this.exportIframe),delete this.disposing,this.disposed=!0},onContainerClick:function(e){var tgt=e.target||e.originalTarget||e.srcElement||e.relatedTarget||e.fromElement,chart=e.data,fusionCharts=chart.fusionCharts,oriEvent=e.originalEvent,coordinate=lib.getMouseCoordinate(chart.container,oriEvent),args;fusionCharts.ref&&(args=extend2({height:fusionCharts.args.height,width:fusionCharts.args.width,pixelHeight:fusionCharts.ref.offsetHeight,pixelWidth:fusionCharts.ref.offsetWidth,id:fusionCharts.args.id,renderer:fusionCharts.args.renderer,container:fusionCharts.options.containerElement},coordinate),global.raiseEvent("chartclick",args,chart.logic.chartInstance),tgt&&tgt.ishot&&chart||chart.options.chart.link&&chart.linkClickFN.call(chart,chart))},onContainerMouseMove:function(e){var chart=e.data,fusionCharts=chart.fusionCharts,oriEvent=e.originalEvent,coordinate=lib.getMouseCoordinate(chart.container,oriEvent),args;fusionCharts.ref&&(args=extend2({height:fusionCharts.args.height,width:fusionCharts.args.width,pixelHeight:fusionCharts.ref.offsetHeight,pixelWidth:fusionCharts.ref.offsetWidth,id:fusionCharts.args.id,renderer:fusionCharts.args.renderer,container:fusionCharts.options.containerElement},coordinate),global.raiseEvent("chartMouseMove",args,chart.logic.chartInstance))},onContainerRollOver:function(e){var chart=e.data,fusionCharts=chart.fusionCharts,oriEvent=e.originalEvent,coordinate=lib.getMouseCoordinate(chart.container,oriEvent),args;fusionCharts.ref&&(args=extend2({height:fusionCharts.args.height,width:fusionCharts.args.width,pixelHeight:fusionCharts.ref.offsetHeight,pixelWidth:fusionCharts.ref.offsetWidth,id:fusionCharts.args.id,renderer:fusionCharts.args.renderer,container:fusionCharts.options.containerElement},coordinate),global.raiseEvent("chartRollOver",args,chart.logic.chartInstance))},onContainerRollOut:function(e){var chart=e.chart,fusionCharts=chart.fusionCharts,oriEvent=e.event,coordinate=lib.getMouseCoordinate(chart.container,oriEvent),args;fusionCharts.ref&&(args=extend2({height:fusionCharts.args.height,width:fusionCharts.args.width,pixelHeight:fusionCharts.ref.offsetHeight,pixelWidth:fusionCharts.ref.offsetWidth,id:fusionCharts.args.id,renderer:fusionCharts.args.renderer,container:fusionCharts.options.containerElement},coordinate),global.raiseEvent("chartRollOut",args,chart.logic.chartInstance))},chartHoverManager:(mouseStateIn=!1,winMouseHover=function(chart){var mouseHover=function(e){var tgt=e.target||e.originalTarget||e.srcElement||e.relatedTarget||e.fromElement,paper=chart.paper,eve={chart:chart,event:e};isVML?paper.getById(tgt.parentNode.raphaelid)||(chart.onContainerRollOut(eve),mouseStateIn=!1,doc.detachEvent("onmouseover",mouseHover)):tgt.viewportElement||(mouseStateIn=!1,chart.onContainerRollOut(eve),win.removeEventListener("mouseover",mouseHover))};return mouseHover},function(e){var type=e.type,chart=e.data;"mouseover"!==type&&"touchstart"!==type||!1!==mouseStateIn||(mouseStateIn=!0,chart.onContainerRollOver(e),isVML?doc.attachEvent("onmouseover",winMouseHover(chart)):win.addEventListener("mouseover",winMouseHover(chart)))}),setChartEvents:function(){var chart=this,options=this.options,listeners=this.eventListeners||(this.eventListeners=[]),link=this.link=options.chart.link,container=this.container,enableMouseMove=pluckNumber(this.definition&&this.definition.chart.enablechartmousemoveevent,0);removeEvent(container,"click",this.onContainerClick),listeners.push(addEvent(container,"click",this.onContainerClick,this)),removeEvent(this.paper.canvas,"mouseover",this.chartHoverManager,this),removeEvent(this.paper.canvas,"touchstart",this.chartHoverManager,this),removeEvent(this.paper.canvas,"mouseout",this.chartHoverManager,this),removeEvent(this.paper.canvas,"touchend",this.chartHoverManager,this),listeners.push(addEvent(this.paper.canvas,"mouseover touchstart mouseout touchend",this.chartHoverManager,this)),removeEvent(container,"mousemove",this.onContainerMouseMove,this),removeEvent(container,"touchmove",this.onContainerMouseMove,this),enableMouseMove&&listeners.push(addEvent(container,"mousemove touchmove",this.onContainerMouseMove,this)),R.svg?this.paper.canvas.style.cursor=link?"pointer":"default":this.paper.canvas.style.cursor=link?"hand":"default"},onOverlayMessageClick:function(){var chart=this,elements=this.elements;R.animation({opacity:0},1e3),elements.messageText&&elements.messageText.hide(),elements.messageVeil&&elements.messageVeil.hide()},showMessage:function(msg,cancelable){var chart=this,paper=this.paper,options,optionsChart=this.options.chart,elements=this.elements,messageText=elements.messageText,messageVeil=elements.messageVeil,w=paper.width,h=paper.height,text;messageVeil||(messageVeil=elements.messageVeil=paper.rect(0,0,w,h).attr({fill:"rgba(0,0,0,0.2)",stroke:"none"})),messageVeil.show().toFront().attr("cursor",cancelable?"pointer":"default")[cancelable?"click":"unclick"](this.onOverlayMessageClick,this),messageText||(messageText=elements.messageText=paper.text(w/2,h/2,BLANK).attr({fill:"rgba(255,255,255,1)","font-family":"Verdana,sans","font-size":10,"line-height":14,ishot:!0})),msg=msg||BLANK,this.smartLabel.setStyle({"line-height":"14px","font-family":"Verdana,sans","font-size":"10px"}),text=this.smartLabel.getSmartText(msg,w-(optionsChart.spacingRight||0)-(optionsChart.spacingLeft||0),h-(optionsChart.spacingTop||0)-(optionsChart.spacingBotton||0)),messageText.attr({text:text.text,ishot:!0,cursor:cancelable?"pointer":"default"})[cancelable?"click":"unclick"](this.onOverlayMessageClick,this).show().toFront()},drawButtons:function(){var chart=this,logic=chart.logic,isZoomLine="zoomline"===logic.rendererId,paper=chart.paper,elements=chart.elements,toolbar=chart.toolbar||(chart.toolbar=[]),menus=chart.menus||(chart.menus=[]),layers=chart.layers,options=chart.options,conf=options[CONFIGKEY],outCanvasStyle=conf&&conf.outCanvasStyle||logic.outCanvasStyle||{},chartOptions,toolbarOptions=options.chart.toolbar||{},hDirection=toolbarOptions.hDirection,vDirection=isZoomLine?1:toolbarOptions.vDirection,button=toolbarOptions.button||{},scale=button.scale,width=button.width*button.scale,height=button.height*button.scale,spacing=hDirection*(button.spacing*button.scale+width),radius=button.radius,x,y,exportOptions=options.exporting,buttonConfig=exportOptions&&exportOptions.buttons||{},isExportButton=buttonConfig.exportButton&&!1!==buttonConfig.exportButton.enabled,isPrintButton=buttonConfig.printButton&&!1!==buttonConfig.printButton.enabled,exportContextMenu,buttonsLayer=layers.buttons||(layers.buttons=paper.group("buttons").trackTooltip(!0));y=toolbar.y||(toolbar.y=(isZoomLine?0:toolbarOptions.y)+toolbarOptions.vMargin*vDirection+mathMin(0,height*vDirection)),x=toolbar.x||(toolbar.x=toolbarOptions.x+toolbarOptions.hMargin*hDirection-mathMax(0,width*hDirection)),toolbar.count=0,toolbar.add=function(symbol,callback,options){var buttonElem,opt=isString(options)?{tooltip:options}:options||{},offsetX=0===toolbar.count?spacing-hDirection*button.spacing*button.scale:spacing,x=opt.x||(toolbar.x+=offsetX),y=opt.y||toolbar.y,tooltip=opt.tooltip||"";return toolbar.push(buttonElem=paper.button(x,y,void 0,symbol,{width:width,height:height,r:radius,id:toolbar.count++,verticalPadding:button.symbolHPadding*scale,horizontalPadding:button.symbolHPadding},buttonsLayer).attr({ishot:!0,fill:[button.fill,button.labelFill,button.symbolFill,button.hoverFill],stroke:[button.stroke,button.symbolStroke],"stroke-width":[button.strokeWidth,button.symbolStrokeWidth]}).tooltip(tooltip).buttonclick(callback)),buttonElem},isExportButton&&(menus.push(exportContextMenu=elements.exportMenu=createContextMenu({chart:chart,basicStyle:outCanvasStyle,items:function(formats){var ret=[],responseSetter=function(format){return function(){chart.logic.chartInstance.exportChart({exportFormat:format})}},i;for(i in formats)ret.push({text:formats[i],onclick:responseSetter(i)});return ret}(exportOptions.exportformats)})),elements.exportButton=toolbar.add("exportIcon",function(x,y){return function(){exportContextMenu.visible?exportContextMenu.hide():exportContextMenu.show({x:x,y:y+1})}}(toolbar.x+width,toolbar.y+height),{tooltip:"Export chart"})),isPrintButton&&(elements.printButton=toolbar.add("printIcon",(function(){chart.print()}),{tooltip:"Print chart"}))},setMargins:function(){var chart=this,paper=this.paper,options,chartOptions=this.options.chart||{},round=mathRound;this.canvasBorderWidth=chartOptions.plotBorderWidth||0,this.canvasTop=round(chartOptions.marginTop)||0,this.canvasLeft=round(chartOptions.marginLeft)||0,this.canvasWidth=round(paper.width-(chartOptions.marginLeft||0)-(chartOptions.marginRight||0)),this.canvasHeight=round(paper.height-(chartOptions.marginTop||0)-(chartOptions.marginBottom||0)),this.canvasRight=this.canvasLeft+this.canvasWidth,this.canvasBottom=this.canvasTop+this.canvasHeight},drawBackground:function(){var chart=this,paper=chart.paper,layers=chart.layers,elements=chart.elements,group=layers.background,background=elements.background,border=elements.chartborder,options,chartOptions=chart.options.chart||{},sw=toFloat(chartOptions.borderWidth)||0,ssw=.5*sw,dsw=2*sw,chartBorderWidth=chartOptions.borderWidth||0,chartHeight=chart.chartHeight,chartWidth=chart.chartWidth,chartBGImage=elements.backgroundImage,bgSWF=chartOptions.bgSWF,bgSWFAlpha=chartOptions.bgSWFAlpha/100,bgImageDisplayMode=chartOptions.bgImageDisplayMode,bgImageVAlign=chartOptions.bgImageVAlign,bgImageHAlign=chartOptions.bgImageHAlign,bgImageScale=chartOptions.bgImageScale,imgClipRect=chartBorderWidth+","+chartBorderWidth+","+(chartWidth-2*chartBorderWidth)+","+(chartHeight-2*chartBorderWidth),referenceImage,bgImageAttr,xRepeatCount,imageElement,yRepeatCount,yCount,counter,attrObj,imgY;paper.canvas.style.backgroundColor=chartOptions.containerBackgroundColor,!group&&(group=layers.background=paper.group("background")),attrObj={x:sw,y:sw,width:paper.width-dsw,height:paper.height-dsw,stroke:NONE,fill:toRaphaelColor(chartOptions.backgroundColor)},background?background.attr(attrObj):background=elements.background=paper.rect(attrObj,group),attrObj={x:ssw,y:ssw,width:paper.width-sw,height:paper.height-sw,stroke:chartOptions.borderColor,"stroke-width":sw,"stroke-dasharray":chartOptions.borderDashStyle,fill:NONE,r:chartOptions.borderRadius||0},border?border.attr(attrObj):border=elements.chartborder=paper.rect(attrObj,group),bgSWF&&(referenceImage=new Image,xRepeatCount=1,yRepeatCount=1,chartBGImage=[],referenceImage.onload=function(){if((bgImageAttr=setImageDisplayMode(bgImageDisplayMode,bgImageVAlign,bgImageHAlign,bgImageScale,chartBorderWidth,chartWidth,chartHeight,referenceImage))["clip-rect"]=imgClipRect,bgImageAttr.tileInfo)for(xRepeatCount=bgImageAttr.tileInfo.xCount,yRepeatCount=yCount=bgImageAttr.tileInfo.yCount,imgY=bgImageAttr.y,delete bgImageAttr.tileInfo;xRepeatCount&&bgImageAttr.width&&bgImageAttr.height;)yCount-=1,imageElement?(chartBGImage[void 0]=imageElement.clone().attr({x:bgImageAttr.x,y:bgImageAttr.y}),group.appendChild(chartBGImage[void 0])):chartBGImage[void 0]=imageElement=paper.image(bgSWF,group).attr(bgImageAttr).css({opacity:bgSWFAlpha}),bgImageAttr.y+=bgImageAttr.height,0===yCount&&(yCount=yRepeatCount,xRepeatCount-=1,bgImageAttr.x+=bgImageAttr.width,bgImageAttr.y=imgY);else chartBGImage[0]=paper.image(bgSWF,group),chartBGImage[0].attr(bgImageAttr).css({opacity:bgSWFAlpha}).attr({visibility:VISIBLE,"clip-rect":imgClipRect});global.raiseEvent(BACKGROUNDLOADED,{url:bgSWF,bgImageAlpha:100*bgSWFAlpha,bgImageDisplayMode:bgImageDisplayMode,bgImageVAlign:bgImageVAlign,bgImageHAlign:bgImageHAlign,bgImageScale:bgImageScale,imageWidth:referenceImage.width,imageHeight:referenceImage.height},chart.logic.chartInstance)},referenceImage.onerror=function(e){global.raiseEvent(BACKGROUNDLOADERROR,{url:bgSWF,bgImageAlpha:100*bgSWFAlpha,error:e,bgImageDisplayMode:bgImageDisplayMode,bgImageVAlign:bgImageVAlign,bgImageHAlign:bgImageHAlign,bgImageScale:bgImageScale},chart.logic.chartInstance)},referenceImage.src=bgSWF,elements.backgroundImage=chartBGImage)},drawGraph:function(){var chart=this,paper=chart.paper,plots=chart.plots=chart.elements.plots,logic=chart.logic,layers=chart.layers,options=chart.options,elements=chart.elements,chartOptions=options.chart,datasets=chart.datasets=options.series,renderAs=getFirstValue(chartOptions.rendererId,chartOptions.defaultSeriesType),backgroundLayer=layers.background,datasetLayer=layers.dataset=layers.dataset||paper.group("dataset").insertAfter(backgroundLayer),DRAWPLOT="drawPlot",UPDATEPLOT="updatePlot",LEGENDCLICK="legendClick",drawPlotFunctionName,updatePlotFunctionName,drawPlotFunction,updatePlotFunction,datasetOptions,plot,i,l,visibilitySetter=function(i,datasetOptions){return function(isVisible){var plot=plots[i],visibility,reflowUpdate={hcJSON:{series:[]}},reflowPlot=reflowUpdate.hcJSON.series[i]||(reflowUpdate.hcJSON.series[i]={}),reflowData=logic.chartInstance.jsVars._reflowData;isVisible=getFirstValue(isVisible,!plot.visible),visibility=isVisible?"visible":"hidden",each(plot.graphics,(function(graphic){!0!==graphic.data("alwaysInvisible")&&graphic.attr("visibility",visibility)})),plot.visible=isVisible,datasetOptions.visible=isVisible,reflowPlot.visible=isVisible,extend2(reflowData,reflowUpdate,!0)}},legendClickResposeSetter=function(i){return function(isVisible,restrainEvent){chart[LEGENDCLICK+renderAs]&&chart[LEGENDCLICK+renderAs](plots[i],isVisible,restrainEvent)||chart.legendClick&&chart.legendClick(plots[i],isVisible,restrainEvent)}},argFetchSetter=function(i){return function(){return chart.getEventArgs&&chart.getEventArgs(plots[i])}},realtimeUpdateSetter=function(i,drawPlotFunction,datasetOptions){return function(numUpdate,hasAxisChanged){drawPlotFunction.call(chart,plots[i],datasetOptions,{numUpdate:numUpdate,hasAxisChanged:hasAxisChanged})}};for(layers.tracker=layers.tracker||paper.group("hot").insertAfter(datasetLayer),chart.drawCanvas(),chart.drawAxes(),plots||(plots=chart.plots=chart.plots||[],elements.plots=plots),i=0,l=datasets.length;i<l;i++)updatePlotFunctionName=(datasetOptions=datasets[i]||{}).updatePlot=UPDATEPLOT+getSentenceCase(pluck(datasetOptions.type,datasetOptions.plotType,renderAs)),updatePlotFunction=chart[updatePlotFunctionName],drawPlotFunctionName=datasetOptions.drawPlot=DRAWPLOT+getSentenceCase(pluck(datasetOptions.type,datasetOptions.plotType,renderAs)),drawPlotFunction=chart[drawPlotFunctionName]||chart.drawPlot,(plot=plots[i])||(plots.push(plot={index:i,items:[],data:datasetOptions.data||[],name:datasetOptions.name,userID:datasetOptions.userID,setVisible:visibilitySetter(i,datasetOptions),legendClick:legendClickResposeSetter(i),getEventArgs:argFetchSetter(i),realtimeUpdate:realtimeUpdateSetter(i,updatePlotFunction||drawPlotFunction,datasetOptions)}),datasetOptions.plot=plot,datasetOptions.legendClick=plot.legendClick,datasetOptions.getEventArgs=plot.getEventArgs,datasetOptions.setVisible=plot.setVisible),drawPlotFunction.call(chart,plot,datasetOptions);chartOptions.hasScroll&&(chart.drawScroller(),chart.finalizeScrollPlots())},drawPlot:stubFN,drawCanvas:stubFN,drawAxes:stubFN,drawScroller:function(){},drawLegend:function(){var chart=this,options=chart.options,paper=chart.paper,optionsChart=options.chart||{},legendOptions=options.legend,scrollOptions=legendOptions.scroll,legend={elements:{}},elements=legend.elements,legendGroup=chart.layers.legend,box=elements.box,caption=elements.caption,elementGroup=elements.elementGroup,isVertical="vertical"===legendOptions.layout,canvasBottom=optionsChart.marginBottom,marginBottom=optionsChart.spacingBottom,marginLeft=optionsChart.spacingLeft,marginRight=optionsChart.spacingRight,chartWidth=paper.width,chartHeight=paper.height,canvasTop=chart.canvasTop,width=legendOptions.width,height=legendOptions.height,r=legendOptions.borderRadius,backgroundColor=legendOptions.backgroundColor,borderColor=legendOptions.borderColor,borderWidth=legendOptions.borderWidth||0,semiBorder=.5*borderWidth,translationLimit=.5*borderWidth+2,padding=pluckNumber(legendOptions.padding,4),halfPad=.5*padding,scrollerWidth=10,xPos,yPos,clipSTR1,clipH,clipSTR2,dragX,dragY,dragOffsetX,dragOffsetY,dragInitX,dragInitY,scroller,crispBox,captionX,attrObj,scrollEnabled=scrollOptions&&scrollOptions.enabled;if(isVertical?(xPos=chartWidth-marginRight-width,yPos=canvasTop+.5*(chartHeight-canvasBottom-canvasTop-height)+(legendOptions.y||0)):(xPos=marginLeft+.5*(chartWidth-marginLeft-marginRight-width)+(legendOptions.x||0),yPos=chartHeight-marginBottom-height),xPos=(crispBox=R.crispBound(xPos,yPos,width,height,borderWidth)).x,yPos=crispBox.y,width=crispBox.width,height=crispBox.height,legendGroup||(legendGroup=chart.layers.legend=paper.group("legend").insertBefore(chart.layers.tracker).translate(xPos,yPos).attr("class","fusioncharts-legend")),chart.addCSSDefinition(".fusioncharts-legend .fusioncharts-caption",extend2({"text-anchor":legendOptions.title.align},legendOptions.title.style)),legendOptions.legendAllowDrag&&(chart.addCSSDefinition(".fusioncharts-legend",{cursor:"move"}),dragX=xPos,dragY=yPos,legendGroup.drag((function(dx,dy){(dragOffsetX=dragInitX+dx)+width+translationLimit>chartWidth&&(dragOffsetX=chartWidth-width-translationLimit),(dragOffsetY=dragInitY+dy)+height+translationLimit>chartHeight&&(dragOffsetY=chartHeight-height-translationLimit),dragOffsetX<translationLimit&&(dragOffsetX=translationLimit),dragOffsetY<translationLimit&&(dragOffsetY=translationLimit),legendGroup.translate(dragOffsetX-dragX,dragOffsetY-dragY),dragX=dragOffsetX,dragY=dragOffsetY}),(function(){dragInitX=dragX,dragInitY=dragY}))),attrObj={x:0,y:0,width:width,height:height,r:r,stroke:borderColor,"stroke-width":borderWidth,fill:backgroundColor||NONE,ishot:legendOptions.legendAllowDrag},box?box.attr(attrObj):box=elements.box=paper.rect(attrObj,legendGroup),box.shadow(legendOptions&&legendOptions.shadow),scrollEnabled?(clipSTR1="0,",clipSTR2=","+width+","+(clipH=height-padding),elementGroup=elements.elementGroup=paper.group("legenditems",legendGroup).attr({"clip-rect":"0,"+halfPad+clipSTR2}),(scroller=elements.scroller||(elements.scroller=paper.scroller(width-10+halfPad-borderWidth,semiBorder,10,height-borderWidth,!1,{scrollPosition:scrollOptions.scrollPosition||0,scrollRatio:(clipH+padding)/legendOptions.totalHeight,showButtons:!1,displayStyleFlat:scrollOptions.flatScrollBars},legendGroup))).attr("fill",legendOptions.legendScrollBgColor).scroll((function(pos){elementGroup.transform(["T",0,(clipH-legendOptions.totalHeight)*pos]),extend2(chart.fusionCharts.jsVars._reflowData,{hcJSON:{legend:{scroll:{position:arguments[0]}}}},!0)}))):elementGroup=elements.elementGroup=legendGroup,legendOptions.title&&legendOptions.title.text!==BLANK){switch(legendOptions.title.align){case"start":captionX=padding;break;case"end":captionX=width-padding-(scrollEnabled?10:0);break;default:captionX=.5*width}attrObj={class:"fusioncharts-caption","text-anchor":legendOptions.title.align,text:legendOptions.title.text,title:legendOptions.title.originalText||"",x:captionX,y:padding,fill:legendOptions.title.style.color,"vertical-align":"top","line-height":legendOptions.title.style.lineHeight},caption?caption.attr(attrObj):caption=elements.caption=paper.text(attrObj,elementGroup).attr("class","fusioncharts-caption")}this["draw"+getSentenceCase(legendOptions.type||"point")+"LegendItem"](legend)},drawPointLegendItem:function(legend){var chart=this,paper=chart.paper,options=chart.options,series=options.series,optionsChart,defaultSeriesType=options.chart.defaultSeriesType,legendOptions=options.legend,symbolBoxW=legendOptions.legendHeight,symbolPadding=legendOptions.symbolPadding,textPadding=legendOptions.textPadding||2,padding=pluckNumber(legendOptions.padding,4),itemHoverStyle=legendOptions.itemHoverStyle,itemHiddenStyle=legendOptions.itemHiddenStyle,itemStyle=legendOptions.itemStyle,itemTextColor=itemStyle.color,hiddenColor=itemHiddenStyle&&itemHiddenStyle.color||"#CCCCCC",hoverColor=itemHoverStyle&&itemHoverStyle.color||itemTextColor,item3dlighting=legendOptions.symbol3DLighting,symbolWidth=legendOptions.symbolWidth,itemWidth=legendOptions.itemWidth,interactiveLegend=!1!==legendOptions.interactiveLegend,elements=legend.elements,elementGroup=elements.elementGroup,item=legend.item=[],elementItem=elements.item=[],allItems=[],markerLegend={line:!0,spline:!0,scatter:!0,bubble:!0,dragnode:!0,zoomline:!0},initialItemX,initialItemY,legendItem,legendType,visible,itemLineColor,itemClickFN,itemRollOver,itemRollOut,legendItemText,legendItemBackground,serie,data,type,point,itemX,itemY,itemHeight,i,j,ln,ln1,cx,cy,radius,symbol,dip,marker,mLineColor,mFillColor,legendItemSymbol,symbolConfig,legendItemLine,newLegendItem,symbolColor;for(i=0,ln=series.length;i<ln;i+=1)if((serie=series[i])&&!1!==serie.showInLegend)if(type=serie.type||defaultSeriesType,"point"===serie.legendType)for(j=0,ln1=(data=serie.data||[]).length;j<ln1;j+=1)!1!==(point=data[j]||{}).showInLegend&&(point._legendType=type,allItems.push(point));else switch(serie._legendType=type,type){case"pie":case"pie3d":case"funnel":case"pyramid":allItems=serie.data;break;default:allItems.push(serie)}for(allItems.sort((function(a,b){return(a.legendIndex||0)-(b.legendIndex||0)||a.__i-b.__i})),legendOptions.reversed&&allItems.reverse(),initialItemX=legendOptions.initialItemX||0,initialItemY=legendOptions.initialItemY||0,itemClickFN=function(e){var legendItem=this.data("legendItem"),eventArgs=legendItem.getEventArgs?legendItem.getEventArgs():{},interactivityCancelled,cord=getMouseCoordinate(chart.logic.chartInstance.ref,e);eventArgs.chartX=cord.chartX,eventArgs.chartY=cord.chartY,eventArgs.pageX=cord.pageX,eventArgs.pageY=cord.pageY,eventArgs.preventDefaults=function(){interactivityCancelled=!0},global.raiseEvent(LEGENDITEMCLICKED,eventArgs,chart.logic.chartInstance),interactiveLegend&&!interactivityCancelled&&legendItem.legendClick()},itemRollOver=function(e){var legendItem=this.data("legendItem"),eventArgs=legendItem.getEventArgs?legendItem.getEventArgs():{},cord=getMouseCoordinate(chart.logic.chartInstance.ref,e),visible=!1!==legendItem.visible,legendItemText=legendItem.plot.legend.elements.legendItemText;eventArgs.chartX=cord.chartX,eventArgs.chartY=cord.chartY,eventArgs.pageX=cord.pageX,eventArgs.pageY=cord.pageY,visible&&legendItemText&&legendItemText.attr({fill:hoverColor}),global.raiseEvent(LEGENDITEMROLLOVER,eventArgs,chart.logic.chartInstance)},itemRollOut=function(e){var legendItem=this.data("legendItem"),eventArgs=legendItem.getEventArgs?legendItem.getEventArgs():{},cord=getMouseCoordinate(chart.logic.chartInstance.ref,e),visible=!1!==legendItem.visible,legendItemText=legendItem.plot.legend.elements.legendItemText;eventArgs.chartX=cord.chartX,eventArgs.chartY=cord.chartY,eventArgs.pageX=cord.pageX,eventArgs.pageY=cord.pageY,visible&&legendItemText&&legendItemText.attr({fill:itemTextColor}),global.raiseEvent(LEGENDITEMROLLOUT,eventArgs,chart.logic.chartInstance)},chart.addCSSDefinition(".fusioncharts-legend .fusioncharts-legenditem",legendOptions.itemStyle),i=0,ln=allItems.length;i<ln;i+=1)!1!==allItems[i].showInLegend&&(newLegendItem={elements:{},hiddenColor:hiddenColor,itemTextColor:itemTextColor,hoverColor:hoverColor},item.push(newLegendItem),elementItem.push(newLegendItem.elements),itemX=initialItemX+(legendItem=allItems[i])._legendX+padding,itemY=initialItemY+legendItem._legendY-padding,itemHeight=legendItem._legendH,legendType=legendItem._legendType||type,visible=!1!==legendItem.visible,itemLineColor=newLegendItem.itemLineColor=toRaphaelColor(legendItem.color||{}),legendItem.plot.legend=newLegendItem,legendItemText=newLegendItem.elements.legendItemText=paper.text({class:"fusioncharts-legenditem",x:itemX+symbolBoxW+textPadding-2,y:itemY+(legendItem._legendTestY||0),text:legendItem.name,fill:visible?itemTextColor:hiddenColor,"vertical-align":"top","text-anchor":"start",cursor:itemStyle.cursor||"pointer",ishot:interactiveLegend,"line-height":itemStyle.lineHeight,"font-size":itemStyle.fontSize},elementGroup).data("legendItem",legendItem),markerLegend[legendType]?(cy=itemY+symbolPadding+.5*symbolWidth,legendItem.lineWidth&&(legendItemLine=newLegendItem.elements.legendItemLine=paper.path({"stroke-width":legendItem.lineWidth,stroke:visible?itemLineColor:hiddenColor,cursor:itemStyle.cursor||"pointer",ishot:interactiveLegend,path:[M,itemX+symbolPadding,cy,L,itemX+symbolPadding+symbolWidth,cy]},elementGroup).data("legendItem",legendItem)),legendItem&&(marker=legendItem.marker)&&!1!==marker.enabled&&(newLegendItem.symbolStroke=toRaphaelColor(pluck((mLineColor=marker.lineColor)&&(mLineColor.FCcolor&&mLineColor.FCcolor.color.split(",")[0]||mLineColor),itemLineColor)),item3dlighting?marker.fillColor&&marker.fillColor.FCcolor?(symbolColor=extend2({},marker.fillColor)).FCcolor.alpha="100":symbolColor=pluck(marker.fillColor,itemLineColor):symbolColor={FCcolor:{color:pluck((mFillColor=marker.fillColor)&&(mFillColor.FCcolor&&mFillColor.FCcolor.color.split(",")[0]||mFillColor),itemLineColor),angle:0,ratio:"0",alpha:"100"}},newLegendItem.symbolColor=toRaphaelColor(symbolColor),cx=itemX+symbolPadding+(radius=.5*symbolWidth),cy=itemY+symbolPadding+radius,legendItemLine&&(radius*=.6),dip="spoke"===(symbol=marker.symbol.split("_"))[0]?1:0,(legendItemSymbol=symbol[1]?newLegendItem.elements.legendItemSymbol=paper.polypath(symbol[1],cx,cy,radius,marker.startAngle,dip,elementGroup):newLegendItem.elements.legendItemSymbol=paper.circle(cx,cy,radius,elementGroup)).data("legendItem",legendItem).attr({cursor:itemStyle.cursor||"pointer",stroke:visible?newLegendItem.symbolStroke:hiddenColor,fill:visible?newLegendItem.symbolColor:hiddenColor,"stroke-width":1,ishot:interactiveLegend}))):(symbolConfig=chart.getSymbolPath(itemX+symbolPadding,itemY+symbolPadding,symbolWidth,symbolWidth,legendType,legendItem,!item3dlighting),newLegendItem.symbolColor=toRaphaelColor(symbolConfig.color),newLegendItem.symbolStroke=toRaphaelColor(symbolConfig.strokeColor),legendItemSymbol=newLegendItem.elements.legendItemSymbol=paper.path({path:symbolConfig.path,"stroke-width":symbolConfig.strokeWidth,stroke:visible?newLegendItem.symbolStroke:hiddenColor,fill:visible?newLegendItem.symbolColor:hiddenColor,cursor:itemStyle.cursor||"pointer",ishot:interactiveLegend},elementGroup).data("legendItem",legendItem)),legendItemBackground=newLegendItem.elements.legendItemBackground=paper.rect({x:itemX,y:itemY,width:itemWidth,height:itemHeight,r:0,fill:toRaphaelColor(legendItem.legendFillColor||TRACKER_FILL),"stroke-width":1,stroke:toRaphaelColor(legendItem.legendBorderColor||NONE),cursor:itemStyle.cursor||"pointer",ishot:interactiveLegend},elementGroup).click(itemClickFN).mouseover(itemRollOver).mouseout(itemRollOut).data("legendItem",legendItem));legendOptions.reversed&&allItems.reverse()},drawCaption:function(){var chart=this,optionsChart=this.options.chart,optionsCap=this.options.title,optionsSubcap=this.options.subtitle,paper=this.paper,smartLabel=this.smartLabel,elements=this.elements,layers=this.layers,captionGroup=layers.caption,caption=elements.caption,subcaption=elements.subcaption,interCaptionGap=2,hasCaption=optionsCap.text,hasSubcaption=optionsSubcap&&optionsSubcap.text,captionX=optionsCap.x,attrObj,captionHeight;(hasCaption||hasSubcaption)&&(captionGroup||(captionGroup=layers.caption=paper.group("caption"),layers.tracker?captionGroup.insertBefore(layers.tracker):captionGroup.insertAfter(layers.dataset))),hasCaption?(this.addCSSDefinition(".fusioncharts-caption",optionsCap.style),attrObj={class:"fusioncharts-caption",text:optionsCap.text,fill:optionsCap.style.color,x:captionX,y:optionsCap.y||optionsChart.spacingTop||0,"text-anchor":optionsCap.align||"middle","vertical-align":optionsCap.verticalAlign||"top",visibility:"visible",title:optionsCap.originalText||""},caption?caption.attr(attrObj):caption=elements.caption=paper.text(attrObj,captionGroup).attr("class","fusioncharts-caption"),caption.css(optionsCap.style),smartLabel?(smartLabel.setStyle(optionsCap.style),captionHeight=smartLabel.getOriSize(optionsCap.text).height):captionHeight=10):caption&&(caption=elements.caption=caption.remove()),hasSubcaption?(this.addCSSDefinition(".fusioncharts-subcaption",optionsSubcap.style),attrObj={class:"fusioncharts-subcaption",text:optionsSubcap.text,title:optionsSubcap.originalText||"",fill:optionsSubcap.style.color,x:captionX,y:hasCaption?caption.attrs.y+captionHeight+2:optionsCap.y||optionsChart.spacingTop||0,"text-anchor":optionsCap.align||"middle","vertical-align":"top",visibility:"visible"},subcaption?subcaption.attr(attrObj):subcaption=elements.subcaption=paper.text(attrObj,captionGroup).attr("class","fusioncharts-subcaption"),subcaption.css(optionsSubcap.style)):subcaption&&(subcaption=elements.subcaption=subcaption.remove()),hasCaption||hasSubcaption||!captionGroup||(captionGroup=layers.caption=captionGroup.remove())},drawLogo:function(){var chart=this,paper=chart.paper,elements=chart.elements,options=chart.options,logic=chart.logic,credits=options.credits,chartOptions=options.chart||{},chartBorderWidth=chartOptions.borderWidth||0,chartHeight=chart.chartHeight,chartWidth=chart.chartWidth,chartLogoImage=elements.logoImage,logoURL=chartOptions.logoURL,logoAlpha=chartOptions.logoAlpha/100,logoPositionSTR=chartOptions.logoPosition,logoLink=chartOptions.logoLink,logoScale=chartOptions.logoScale,logoLeftMargin=chartOptions.logoLeftMargin,logoTopMargin=chartOptions.logoTopMargin,position={tr:{vAlign:POSITION_TOP,hAlign:POSITION_RIGHT},bl:{vAlign:POSITION_BOTTOM,hAlign:POSITION_LEFT},br:{vAlign:POSITION_BOTTOM,hAlign:POSITION_RIGHT},cc:{vAlign:"middle",hAlign:"middle"}},logoReferenceImage,logoImageAttr,creditLabel,logoPosition;logic&&credits.enabled&&(creditLabel=paper.text().attr({text:credits.text,x:6,y:chartHeight-4,"vertical-align":POSITION_BOTTOM,"text-anchor":"start",fill:"rgba(0,0,0,0.5)",title:credits.title||""}).css({fontSize:9,fontFamily:"Verdana,sans",cursor:"pointer",_cursor:"hand"}).click((function(){try{win.open(credits.href)}catch(err){(win.top||win).location.href=credits.href}}))),logoURL&&(logoReferenceImage=new Image,(logoPosition=position[logoPositionSTR])||(logoPosition={vAlign:POSITION_TOP,hAlign:POSITION_LEFT}),logoReferenceImage.onload=function(){chart.disposed||paper.disposed||((logoImageAttr=setImageDisplayMode(NONE,logoPosition.vAlign,logoPosition.hAlign,logoScale,chartBorderWidth,chartWidth,chartHeight,logoReferenceImage)).src=logoURL,chartLogoImage=chart.paper.image(logoImageAttr).translate(logoLeftMargin,logoTopMargin).css("opacity",logoAlpha),logoLink&&chartLogoImage.css({cursor:"pointer",_cursor:"hand"}),chartLogoImage.mouseover((function(e){var cord=getMouseCoordinate(chart.logic.chartInstance.ref,e);global.raiseEvent(LOGOROLLOVER,{logoURL:logoURL,logoAlpha:100*logoAlpha,logoPosition:logoPositionSTR||TL,logoScale:logoScale,logoLink:logoLink,chartX:cord.chartX,chartY:cord.chartY,pageX:cord.pageX,pageY:cord.pageY},chart.logic.chartInstance)})),chartLogoImage.mouseout((function(e){var cord=getMouseCoordinate(chart.logic.chartInstance.ref,e);global.raiseEvent(LOGOROLLOUT,{logoURL:logoURL,logoAlpha:100*logoAlpha,logoPosition:logoPositionSTR||TL,logoScale:logoScale,logoLink:logoLink,chartX:cord.chartX,chartY:cord.chartY,pageX:cord.pageX,pageY:cord.pageY},chart.logic.chartInstance)})),chartLogoImage.click((function(e){var cord=getMouseCoordinate(chart.logic.chartInstance.ref,e);global.raiseEvent(LOGOCLICK,{logoURL:logoURL,logoAlpha:100*logoAlpha,logoPosition:logoPositionSTR||TL,logoScale:logoScale,logoLink:logoLink,chartX:cord.chartX,chartY:cord.chartY,pageX:cord.pageX,pageY:cord.pageY},chart.logic.chartInstance,void 0,(function(){logoLink&&chartOptions.events.click.call({link:logoLink})}))})),global.raiseEvent(LOGOLOADED,{logoURL:logoURL,logoAlpha:100*logoAlpha,logoPosition:logoPositionSTR||TL,logoScale:logoScale,logoLink:logoLink},chart.logic.chartInstance))},logoReferenceImage.onerror=function(e){global.raiseEvent(LOGOLOADERROR,{logoURL:logoURL,logoAlpha:100*logoAlpha,logoPosition:logoPositionSTR||TL,logoScale:logoScale,logoLink:logoLink,error:e},chart.logic.chartInstance)},logoReferenceImage.src=logoURL,elements.logoImage=chartLogoImage)},getEventArgs:function(plot){var eventArgs;return{datasetName:(plot=plot||{}).name,datasetIndex:plot.index,id:plot.userID,visible:plot.visible}},legendClick:function(plot,isVisible){var chart=this,item=plot.legend,elements=item&&item.elements,legendText=elements&&elements.legendItemText,legendIcon=elements&&elements.legendItemSymbol,legendIconLine=elements&&elements.legendItemLine,hiddenColor=item&&item.hiddenColor,itemLineColor=item&&item.itemLineColor,itemTextColor=item&&item.itemTextColor,symbolColor=item&&item.symbolColor,symbolStroke=item&&item.symbolStroke,targetVisibility=pluck(isVisible,!plot.visible),relatedSeries,plotIndex,seriesCounter,relatedPlot;if(plot.setVisible(isVisible),targetVisibility?(legendIcon&&legendIcon.attr({fill:symbolColor||itemLineColor,stroke:symbolStroke}),legendText&&legendText.attr({fill:itemTextColor}),legendIconLine&&legendIconLine.attr({stroke:itemLineColor})):(legendIcon&&legendIcon.attr({fill:hiddenColor,stroke:hiddenColor}),legendText&&legendText.attr({fill:hiddenColor}),legendIconLine&&legendIconLine.attr({stroke:hiddenColor})),(relatedSeries=this.datasets&&this.datasets[plot.index]&&this.datasets[plot.index].relatedSeries)&&relatedSeries instanceof Array&&relatedSeries.length>0)for(seriesCounter=relatedSeries.length;seriesCounter--;)plotIndex=parseFloat(relatedSeries[seriesCounter]),(relatedPlot=this.plots[plotIndex]).legendClick.call(relatedPlot,targetVisibility,!1)},exportChart:function(exportOption){var renderer=this,fusionCharts=renderer.fusionCharts,options=renderer.options,exportOptions_lowerKeys=isObject(exportOption)&&function(object){var newObject={},key;for(key in object)newObject[key.toLowerCase()]=object[key];return newObject}(exportOption)||{},optionsExport=extend2(extend2({},options.exporting),exportOptions_lowerKeys),exportFormat=(optionsExport.exportformat||PNG).toLowerCase(),exportHandler=optionsExport.exporthandler,exportAction=(optionsExport.exportaction||BLANK).toLowerCase(),exportTargetWindow=optionsExport.exporttargetwindow||BLANK,exportFileName=optionsExport.exportfilename,exportParameters=optionsExport.exportparameters;if(!options.exporting||!options.exporting.enabled||!exportHandler)return!1;global.raiseEvent("beforeExport",optionsExport,fusionCharts,void 0,(function(){var buttons=renderer.layers.buttons,chartId=fusionCharts.id,paper=renderer.paper,postData,frameid,iframe,form,ajax,svg,item;if(buttons&&buttons.attr("visibility","hidden"),svg=paper.toSVG(),buttons&&buttons.attr("visibility","visible"),svg=svg.replace(/(\sd\s*=\s*["'])[M\s\d\.]*(["'])/gi,"$1M 0 0 L 0 0$2"),exportFormat===PDF&&(svg=svg.replace(/<(\b[^<>s\s]+\b)[^\>]+?opacity\s*=\s*['"][^1][^\>]+?(\/>|>[\s\r\n]*?<\/\1>)/gi,(function(fullText,tagName){var recrXCommand,recrYCommand;return fullText+"<"+tagName+(xAttrRegx.exec(fullText)||BLANK)+(yAttrRegx.exec(fullText)||BLANK)+' opacity="1" stroke-opacity="1" fill="#cccccc" stroke-width="0" r="0" height="0.5" width="0.5" d="M 0 0 L 1 1" />'}))),postData={charttype:fusionCharts.chartType(),stream:svg,stream_type:SVG,meta_bgColor:optionsExport.bgcolor||"",meta_DOMId:fusionCharts.id,meta_width:paper.width,meta_height:paper.height,parameters:["exportfilename="+exportFileName,"exportformat="+exportFormat,"exportaction="+exportAction,"exportparameters="+exportParameters].join("|")},global.raiseEvent("exportDataReady",postData,fusionCharts),exportAction===DOWNLOAD){for(item in/webkit/gi.test(win.navigator.userAgent)&&"_self"===exportTargetWindow&&(exportTargetWindow=frameid=chartId+"export_iframe",renderer.exportIframe||(renderer.exportIframe=iframe=createElement("IFRAME",{name:frameid,width:"1px",height:"1px"},doc.body),iframe.style.cssText="position:absolute;left:-10px;top:-10px;")),form=createElement(FORM,{method:POST,action:exportHandler,target:exportTargetWindow,style:"display:none;"},doc.body),postData)createElement(INPUT,{type:HIDDEN,name:item,value:postData[item]},form);return form.submit(),doc.body.removeChild(form),form=void 0,!0}(ajax=new global.ajax((function(resp){var responseObj={};resp.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),(function($0,$1,$2,$3){responseObj[$1]=$3})),lib.raiseEvent("exported",responseObj,fusionCharts)}),(function(err){var responseObj={statusCode:0,statusMessage:"failure",error:err,DOMId:chartId,width:paper.width,height:paper.height};lib.raiseEvent("exported",responseObj,fusionCharts,[responseObj])}))).post(exportHandler,postData)}),(function(){global.raiseEvent("exportCancelled",optionsExport,fusionCharts)}))},print:function(options){var chart=this,args=extend2({},options);if(chart.isPrinting)return!1;global.raiseEvent(BEFOREPRINT,args,chart.logic.chartInstance,void 0,(function(){var container=chart.container,elements=chart.elements,printButton=elements.printButton,exportButton=elements.exportButton,origDisplay=[],origParent=container.parentNode,body=doc.body||doc.getElementsByTagName("body")[0],childNodes=body.childNodes;chart.isPrinting=!0,each(childNodes,(function(node,i){1==node.nodeType&&(origDisplay[i]=node.style.display,node.style.display=NONE)})),!1!==args.hideButtons&&(printButton&&"hidden"!=printButton.attrs.visibility&&printButton.attr({visibility:"hidden"}),exportButton&&"hidden"!=exportButton.attrs.visibility&&exportButton.attr({visibility:"hidden"})),body.appendChild(container),win.print(),setTimeout((function(){printButton&&printButton.attr({visibility:"visible"}),exportButton&&exportButton.attr({visibility:"visible"}),origParent.appendChild(container),each(childNodes,(function(node,i){1==node.nodeType&&(node.style.display=origDisplay[i])})),chart.isPrinting=!1,global.raiseEvent(PRINTCOMPLETE,args,chart.logic.chartInstance)}),1e3)}),(function(){global.raiseEvent(PRINTCANCELLED,args,chart.logic.chartInstance)}))},getSymbolPath:function(x,y,w,h,seriesType,item,isFlat){var path=[M],colorStr,color,w1,w2,h1,h2,height3,cx1,cx2,cy1,cy2,d1,d2,Z="Z",A="A",lightColor,strokeWidth=.5,strokeColor;switch(color=(item.color&&getFirstColor("string"==typeof item.color?item.color:item.color.FCcolor.color)||BLANK).replace(dropHash,""),strokeColor=getLightColor(color,60).replace(dropHash,HASHSTRING),color=isFlat?{FCcolor:{color:color,angle:0,ratio:"0",alpha:"100"}}:{FCcolor:{color:color+","+color+","+(lightColor=getLightColor(color,40))+","+color+","+color,ratio:"0,30,30,30,10",angle:0,alpha:"100,100,100,100,100"}},seriesType){case"column":case"dragcolumn":case"column3d":w2=.5*(w1=.25*w),h1=.7*h,h2=.4*h,path=path.concat([x,y+h,"l",0,-h1,w1,0,0,h1,"z","m",w1+w2,0,"l",0,-h,w1,0,0,h,"z","m",w1+w2,0,"l",0,-h2,w1,0,0,h2,"z"]),color.FCcolor.angle=270;break;case"bar":case"bar3d":w1=.3*w,w2=.6*w,h2=(h1=h/4)/2,path=path.concat([x,y,L,x+w2,y,x+w2,y+h1,x,y+h1,Z,M,x,y+h1+h2,L,x+w,y+h1+h2,x+w,y+h1+h2+h1,x,y+2*h1+h2,Z,M,x,y+2*(h1+h2),L,x+w1,y+2*(h1+h2),x+w1,y+h,x,y+h,Z]);break;case"area":case"area3d":case"areaspline":case"dragarea":w1=.3*w,w2=.6*w,h1=.6*h,h2=.2*h,height3=.8*h,path=path.concat([x,y+height3,L,x,y+h1,x+w1,y+h2,x+w2,y+h1,x+w,y+h2,x+w,y+height3,Z]),color.FCcolor.angle=270;break;case"pie":case"pie3d":w2=.9*(w1=.5*w),d1=1,d2=1,cx1=x+w1+1,cy1=y+w1-1,cx2=x+w1-1,cy2=y+w1+1,path=path.concat([M,cx1,cy1,L,cx1,cy1-w2+1,A,w2-1,w2-1,0,0,1,cx1+w2-1,cy1,Z,M,cx2,cy2,L,cx2,cy2-w2,A,w2,w2,0,1,0,cx2+w2,cy2,Z]),color.FCcolor.radialGradient="1",color.FCcolor.ratio="0,0,0,100,0";break;case"boxandwhisker2d":path=path.concat([x,y,L,x+w,y,x+w,y+h,x,y+h,Z]),color=item.color,strokeColor="#000000";break;default:path=path.concat([x,y,L,x+w,y,x+w,y+h,x,y+h,Z]),color.FCcolor.angle=270,color.FCcolor.ratio="0,70,30"}return{path:path,color:color,strokeWidth:.5,strokeColor:strokeColor}}}),Axis.prototype={configure:function(){var axis=this,axisData=this.axisData,renderer=this.renderer,isVertical=this.isVertical,isReverse=this.isReverse,options=renderer.options,chartOptions=options.chart,chartBottomMargin=chartOptions.marginBottom,chartRightMargin=chartOptions.marginRight,canvasTop=renderer.canvasTop,canvasLeft=renderer.canvasLeft,axisMin=this.min=axisData.min,axisMax=this.max=axisData.max,span=this.span=axisMax-axisMin,axisStartX=this.startX=pluckNumber(axisData.startX,canvasLeft),axisStartY=this.startY=pluckNumber(axisData.startY,canvasTop),axisEndX=this.endX=pluckNumber(axisData.endX,renderer.canvasRight),axisEndY=this.endY=pluckNumber(axisData.endY,renderer.canvasBottom),pixelRatio=this.pixelRatio=isVertical?(axisEndY-axisStartY)/span:(axisEndX-axisStartX)/span,relatedObjs=this.relatedObj={};relatedObjs.marginObj={top:axisStartY,right:chartRightMargin,bottom:chartBottomMargin,left:axisStartX},relatedObjs.canvasObj={x:axisStartX,y:axisStartY,w:axisEndX-axisStartX,h:axisEndY-axisStartY,toX:axisEndX,toY:axisEndY},this.startPixel=isReverse?isVertical?axisEndY:axisEndX:isVertical?axisStartY:axisStartX,this.pixelValueRatio=isReverse?-pixelRatio:pixelRatio,this.primaryOffset=this.secondaryOffset=0,this.cache={lowestVal:0,highestVal:0,indexArr:[],hashTable:{}},this.elements=this.elements||{},this.belowBandGroup&&(renderer.elements.axes=renderer.elements.axes||{},renderer.elements.axes.belowBandGroup=this.belowBandGroup,options&&options.chart&&options.chart.hasScroll&&this.belowBandGroup.attr({"clip-rect":renderer.elements["clip-canvas"]})),this.poi={}},draw:function(){var axis=this,axisData=this.axisData,plotLines=axisData&&axisData.plotLines||[],plotBands=axisData&&axisData.plotBands||[],drawPlotLine=axisData&&axisData.showLine,tickLength=axisData&&axisData.tickLength,tickWidth=axisData&&axisData.tickWidth,title;axisData&&axisData.title&&this.drawAxisName(),axisData&&axisData.labels&&(this.renderer.addCSSDefinition("."+axisData.labels.className+" .fusioncharts-label",axisData.labels.style),this.belowLabelGroup&&this.belowLabelGroup.attr("class",axisData.labels.className),this.topLabelGroup&&this.topLabelGroup.attr("class",axisData.labels.className)),plotLines&&plotLines.length>0&&this.drawPlotLine(),plotBands&&plotBands.length>0&&this.drawPlotBands(),!isNaN(tickLength)&&0!==tickLength&&!isNaN(tickWidth)&&0!==tickWidth&&this.drawTicks(),drawPlotLine&&this.drawLine()},scroll:function(){},setOffset:function(primaryOffset,secondaryOffset){var axis=this,pOffsetVal=this.primaryOffset=primaryOffset,sOffsetVal=this.secondaryOffset=secondaryOffset||this.secondaryOffset,isVertical=this.isVertical,newXPos,newYPos,group,groups=[this.topLabelGroup,this.belowLabelGroup,this.topLineGroup,this.belowLineGroup,this.topBandGroup,this.belowBandGroup],i,num;for(i=0,num=groups.length;i<num;i+=1)(group=groups[i])&&(newXPos=isVertical?sOffsetVal:pOffsetVal,newYPos=isVertical?pOffsetVal:sOffsetVal,group.attr({transform:"t"+newXPos+","+newYPos}));isVertical||this.drawPlotLine&&this.drawPlotLine()},update:function(){},drawTicks:function(){var axis=this,axisData=this.axisData,renderer,paper=this.renderer.paper,axisMin=this.min,axisMax=this.max,isVertical=this.isVertical,belowDatasetLayer=this.layerBelowDataset,tickGroup=this.tickGroup=this.tickGroup||paper.group("axis-ticks",belowDatasetLayer),canvasObj=this.relatedObj.canvasObj,axisOffset=axisData.offset,isOpposite=axisData.opposite,showAxis=axisData.showAxis,tickInterval=axisData.tickInterval,tickLength=axisData.tickLength,tickWidth=axisData.tickWidth,tickColor=axisData.tickColor,startY,endY,xPos,yPos,tickEndX,axisLineElem,axisTickElem,counter=axisMin;if(isVertical&&showAxis)for(startY=this.getAxisPosition(axisMin),endY=this.getAxisPosition(axisMax),xPos=isOpposite?canvasObj.toX+axisOffset:canvasObj.x-axisOffset,axisLineElem=paper.path(["M",xPos,startY,"L",xPos,endY],tickGroup).attr({stroke:tickColor,"stroke-width":tickWidth});mathFloor(counter)<=axisMax;)yPos=this.getAxisPosition(counter),tickEndX=isOpposite?xPos+tickLength:xPos-tickLength,axisTickElem=paper.path(["M",xPos,yPos,"L",tickEndX,yPos],tickGroup).attr({stroke:tickColor,"stroke-width":tickWidth}),counter+=tickInterval},getAxisPosition:function(value,pixelToValue){var axis=this,ret;return pixelToValue?ret=(value-this.startPixel)/this.pixelValueRatio+this.min:(value=this.axisData.reversed?this.min+(this.max-value):value,ret=this.startPixel+(value-this.min)*this.pixelValueRatio),ret},drawPlotLine:function(){var axis=this,renderer=this.renderer,paper=renderer.paper,isVertical=this.isVertical,isHorizontal=+!isVertical,axisLines=this.lines=this.lines||[],axisLabels=this.labels=this.labels||[],canvasObj=this.relatedObj.canvasObj,globalOptions=this.globalOptions||{},axisElements=this.elements||{},plotLines=this.axisData.plotLines||[],primaryOffset=this.primaryOffset,axisStartPixel=isVertical?this.startY:this.startX,axisEndPixel=isVertical?this.endY:this.endX,canvasBorderWidth=parseFloat(renderer.canvasBorderWidth)||0,num=mathMax(plotLines.length,mathMax(axisLines.length,axisLabels.length)),datalabelsLayer=renderer.layers.datalabels,lineGroupToAdd,labelGroupToAdd,belowLineGroup=this.belowLineGroup,aboveLineGroup=this.topLineGroup,belowLabelGroup=this.belowLabelGroup,aboveLabelGroup=this.topLabelGroup,lineElement,labelElement,trackerElement,tooltipOptions,isTooltip=!1!==(renderer.tooltip||{}).enabled,plotLineObj,plotLineWidth,isVLine,isTrend,isGrid,toolText,plotValue,plotLineColor,plotLineDashStyle,plotLineTrendTo,isStackSum,plotLabel,plotLabelStyle,plotLabelText,plotLabelColor,plotLabeloffsetScaleIndex,plotLabelOffsetScale,plotLabelFontSize,labelFontSize,plotLabelLineHeight,labelLineHeight,plotLabelRotation,plotLabelXPos,plotLabelYPos,plotLabelAlign,plotLabelVAlign,plotLabelTextAlign,labelBorderWidth,labelPadding,labelAlign,xDepth=globalOptions.chart.xDepth||0,css,xPos,yPos,toXPos,toYPos,labelXPos,labelYPos,relatedYAxis,isSlanted,textVAlign,lineCordStr,isLineVisible,isLabelVisible,isNegative,i,stackSumLabels=[],sumLength,attrObj,animDuration;for(i=0;i<num;i+=1)lineElement=labelElement=trackerElement=null,lineElement=axisLines[i],labelElement=axisLabels[i],(plotLineObj=plotLines[i])&&(plotLineWidth=plotLineObj.width,isVLine=plotLineObj.isVline,isTrend=plotLineObj.isTrend,isGrid=plotLineObj.isGrid,toolText=plotLineObj.tooltext,plotValue=plotLineObj.value,plotLineColor=plotLineObj.color,plotLineDashStyle=plotLineObj.dashStyle,plotLineTrendTo=isTrend?plotLineObj.to:null,isStackSum=plotLineObj._isStackSum,lineGroupToAdd=plotLineObj.zIndex>3?aboveLineGroup:belowLineGroup,(plotLabel=plotLineObj.label)&&(plotLabelStyle=plotLabel.style,plotLabelText=plotLabel.text,plotLabelColor=plotLabelStyle&&plotLabelStyle.color,plotLabeloffsetScaleIndex=plotLabel.offsetScaleIndex||0,plotLabelOffsetScale=plotLabel.offsetScale,(plotLabelFontSize=plotLabelStyle&&plotLabelStyle.fontSize)&&-1!==(labelFontSize=plotLabelFontSize).indexOf("px")&&(labelFontSize=labelFontSize.replace("px",""),labelFontSize=parseFloat(labelFontSize)),plotLabelLineHeight=plotLabelStyle&&plotLabelStyle.lineHeight,css=plotLabelStyle?{fontFamily:plotLabelStyle.fontFamily,fontSize:plotLabelStyle.fontSize,lineHeight:plotLabelStyle.lineHeight,fontWeight:plotLabelStyle.fontWeight,fontStyle:plotLabelStyle.fontStyle}:null,plotLabelLineHeight&&-1!==(labelLineHeight=plotLabelLineHeight).indexOf("px")&&(labelLineHeight=labelLineHeight.replace("px",""),labelLineHeight=parseFloat(labelLineHeight)),plotLabelRotation=plotLabel.rotation,plotLabelXPos=plotLabel.x||0,plotLabelYPos=plotLabel.y||0,plotLabelAlign=plotLabel.align,plotLabelVAlign=plotLabel.verticalAlign,plotLabelTextAlign=plotLabel.textAlign,labelBorderWidth=(labelBorderWidth=plotLabel.borderWidth)&&-1!==labelBorderWidth.indexOf("px")?labelBorderWidth.replace("px",""):1,labelGroupToAdd=isStackSum?datalabelsLayer:plotLineObj.zIndex>=3?aboveLabelGroup:belowLabelGroup,plotLabel.backgroundColor&&(plotLabel.labelBgClr=toRaphaelColor({color:plotLabel.backgroundColor,alpha:100*plotLabel.backgroundOpacity})),plotLabel.borderColor&&(plotLabel.labelBorderClr=toRaphaelColor({color:plotLabel.borderColor,alpha:"100"})),labelPadding=labelFontSize?.2*labelFontSize:2,labelAlign="left"===plotLabelTextAlign?"start":"right"===plotLabelTextAlign?"end":"middle")),isLineVisible="visible",isLabelVisible="visible",isNegative=pluckNumber(plotLabelOffsetScale,plotValue,0)<0,isVertical?(isSlanted=(yPos=this.getAxisPosition(plotValue))!==(toYPos=isTrend&&this.getAxisPosition(plotLineTrendTo)||yPos),lineCordStr=[M,canvasObj.x,yPos,L,canvasObj.toX,toYPos],isVLine?renderer.logic.isBar&&(relatedYAxis=renderer.yAxis[plotLabeloffsetScaleIndex],!isStackSum&&!isNaN(plotLabelOffsetScale)&&plotLabelOffsetScale>=0&&plotLabelOffsetScale<=1&&(plotLabelOffsetScale=relatedYAxis.min+(relatedYAxis.max-relatedYAxis.min)*plotLabelOffsetScale),toXPos=relatedYAxis.getAxisPosition(pluckNumber(plotLabelOffsetScale,plotValue))+plotLabelXPos+labelPadding*(isNegative?-1:1)):toXPos=xPos=plotLabel?this.axisData.isOpposite||"right"===plotLabelAlign?canvasObj.toX+plotLabelXPos:canvasObj.x+plotLabelXPos:this.axisData.isOpposite?canvasObj.toX:canvasObj.x):(xPos=this.getAxisPosition(plotValue)||0,toXPos=isTrend&&this.getAxisPosition(plotLineTrendTo)||xPos,!isTrend&&!isVLine&&xDepth>0&&(xPos+=xDepth,toXPos+=xDepth,axisEndPixel+=xDepth),isSlanted=xPos!==toXPos,lineCordStr=[M+xPos,canvasObj.y,L,toXPos,canvasObj.toY],isLineVisible=xPos+primaryOffset<axisStartPixel||xPos+primaryOffset>axisEndPixel?"hidden":isLineVisible,isVLine?(relatedYAxis=renderer.yAxis[plotLabeloffsetScaleIndex],!isStackSum&&!isNaN(plotLabelOffsetScale)&&plotLabelOffsetScale>=0&&plotLabelOffsetScale<=1&&(plotLabelOffsetScale=relatedYAxis.min+(relatedYAxis.max-relatedYAxis.min)*(1-plotLabelOffsetScale)),yPos=relatedYAxis.getAxisPosition(pluckNumber(plotLabelOffsetScale,plotValue))+plotLabelYPos,yPos-=(canvasBorderWidth+parseFloat(labelBorderWidth))*(plotLabelYPos&&(plotLabelYPos>0?-1:1))):this.axisData.opposite||"top"===plotLabelVAlign&&!isGrid?(yPos=canvasObj.y+plotLabelYPos,textVAlign="bottom"):yPos=canvasObj.toY+plotLabelYPos,toYPos=yPos),isLabelVisible=isVertical?isLabelVisible:toXPos+primaryOffset<axisStartPixel||toXPos+primaryOffset>axisEndPixel?"hidden":isLabelVisible,plotLineObj&&"visible"===isLineVisible&&plotLineWidth>.1?(attrObj={path:getCrispPath(lineCordStr,plotLineWidth),stroke:plotLineColor,"stroke-width":plotLineWidth,"shape-rendering":!isSlanted&&plotLineWidth>=1?CRISP:void 0,"stroke-dasharray":plotLineDashStyle||void 0,visibility:isLineVisible},lineElement?lineElement.attr(attrObj):(lineElement=axisLines[i]=paper.path(attrObj,lineGroupToAdd).css(plotLineObj.style),axisElements.lines=axisElements.lines||[],axisElements.lines.push(lineElement)),isTooltip&&toolText&&plotLineWidth<HTP&&isLineVisible&&(trackerElement=paper.path({stroke:TRACKER_FILL,"stroke-width":HTP,ishot:!0,path:lineCordStr,fill:TRACKER_FILL},renderer.layers.tracker)),trackerElement=trackerElement||lineElement,isTooltip&&toolText&&trackerElement.tooltip(toolText)):(lineElement||labelElement)&&(lineElement&&lineElement.remove(),lineElement=null,axisLines&&(axisLines[i]=null),axisElements&&axisElements.lines&&(axisElements.lines[i]=null)),plotLabel&&plotLineObj&&!plotLineObj.stepped&&"visible"===isLabelVisible&&plotLabel.text!=BLANK&&" "!=plotLabel.text?(labelYPos=isTrend&&"left"===plotLabelAlign?yPos:toYPos,labelXPos=toXPos-+!isVLine*isHorizontal*xDepth+isHorizontal*(plotLabelXPos||0),isStackSum?(textVAlign=isVertical||plotLabelRotation?"middle":"bottom",labelYPos+=isVertical?0:labelFontSize*(isNegative?-.4:.4),plotLabelRotation&&(labelYPos+=isNegative?4:-2,labelAlign=isNegative?"end":"start")):isHorizontal&&this.axisData.opposite?(textVAlign=POSITION_BOTTOM,labelAlign=plotLabelRotation?"start":"middle"):textVAlign=plotLabelVAlign,/\n|<br\s*?\/?>/gi.test(plotLabelText)&&isGrid&&(plotLabelRotation?(textVAlign="middle",labelXPos-=isHorizontal*(plotLabelXPos||0)):(textVAlign=isHorizontal&&this.axisData.opposite&&!plotLabelRotation?"middle":POSITION_TOP,labelYPos-=labelLineHeight)),attrObj={class:"fusioncharts-label",text:plotLabelText,fill:css?plotLabelColor||plotLineColor:null,title:plotLabel&&(plotLabel.originalText||""),x:labelXPos,y:labelYPos,"text-anchor":labelAlign,"vertical-align":textVAlign,transform:" ","text-bound":isStackSum?[plotLabelStyle.backgroundColor,plotLabelStyle.borderColor,plotLabelStyle.borderThickness,plotLabelStyle.borderPadding,plotLabelStyle.borderRadius,plotLabelStyle.borderDash]:plotLabel&&[plotLabel.labelBgClr,plotLabel.labelBorderClr,labelBorderWidth,labelPadding],visibility:isLabelVisible,"line-height":plotLabelStyle.lineHeight},labelElement?labelElement.attr(attrObj):(labelElement=axisLabels[i]=paper.text(attrObj,labelGroupToAdd).attr("class","fusioncharts-label"),lineElement&&(lineElement.label=labelElement),axisElements.labels=axisElements.labels||[],axisElements.labels.push(labelElement)),!isGrid&&css&&labelElement.css(css),plotLabelRotation&&labelElement.attr("transform",["r",plotLabelRotation,labelXPos,labelYPos]),isStackSum&&labelElement&&stackSumLabels.push(labelElement)):labelElement&&(labelElement.isRotationSet=!1,labelElement.remove(),axisLabels&&(axisLabels[i]=null),axisElements&&axisElements.labels&&(axisElements.labels[i]=null)),!lineElement&&!labelElement||plotLineObj&&null===plotLineObj.value?lineElement=labelElement=null:(plotLineObj&&plotLineObj.isMinLabel?this.poi.min={label:labelElement,index:i,line:lineElement}:plotLineObj&&plotLineObj.isMaxLabel?this.poi.max={label:labelElement,index:i,line:lineElement}:plotLineObj&&plotLineObj.isZeroPlane&&(this.poi.zero={label:labelElement,index:i,line:lineElement}),lineElement=labelElement=null);sumLength=stackSumLabels.length,animDuration=pluckNumber(renderer.options.plotOptions.series.animation.duration,0)},drawPlotBands:function(){var axis=this,renderer=this.renderer,paper=renderer.paper,isVertical=this.isVertical,plotBands=this.axisData.plotBands||[],axisBands=this.bands=this.bands||[],axisLabels=this.bandLabels=this.bandLabels||[],canvasObj=this.relatedObj.canvasObj,primaryOffset=this.primaryOffset,axisStartPixel=isVertical?this.startY:this.startX,axisEndPixel=isVertical?this.endY:this.endX,hasScroll=renderer.options.chart.hasScroll,belowBandGroup=this.belowBandGroup,aboveBandgroup=this.topBandGroup,belowLabelGroup=this.belowLabelGroup,aboveLabelGroup=this.topLabelGroup,axisElements=this.elements||{},tooltipOptions,isTooltip=!1!==(renderer.tooltip||{}).enabled,plotBandObj,toolText,plotBandTo,plotBandFrom,plotBandValue,plotBandWidth,plotBandColor,plotLabel,plotLabelStyle,plotLabelBorderWidth,plotLabelAlign,plotLabelX,plotLabelY,plotLabelFontSize,plotLabelLineHeight,plotLabelTextAlign,plotLabelVAlign,plotLabelText,plotLabelOriginalText,plotLabelColor,plotLabelBGColor,plotLabelBGOpacity,plotLabelBorderColor,plotLabelBorderType,plotLabelRaphaelColor,plotLabelRaphaelBorderColor,labelBorderWidth,labelFontSize,labelLineHeight,toPx,fromPx,attrObj,bandStartX,bandStartY,bandEndX,bandEndY,bandH,bandW,labelXPos,labelYPos,bandGroupToAdd,labelGroupToAdd,bandElement,labelElement,isBandVisible,isLabelVisible,i,num=mathMax(plotBands.length,axisBands.length);for(i=0;i<num;i+=1){if(isBandVisible="visible",isLabelVisible="visible",bandElement=axisBands[i],labelElement=axisLabels[i],(plotBandObj=plotBands[i])&&(toolText=plotBandObj.tooltext,plotBandTo=plotBandObj.to,plotBandFrom=plotBandObj.from,plotBandValue=plotBandObj.value,plotBandWidth=plotBandObj.width,plotBandColor=plotBandObj.color,bandGroupToAdd=plotBandObj.zIndex>3?aboveBandgroup:belowBandGroup,(plotLabel=plotBandObj.label)&&((plotLabelStyle=plotLabel.style)&&((plotLabelFontSize=plotLabelStyle.fontSize)&&-1!==(labelFontSize=plotLabelFontSize).indexOf("px")&&(labelFontSize=labelFontSize.replace("px",""),labelFontSize=parseFloat(labelFontSize)),(plotLabelLineHeight=plotLabelStyle.lineHeight)&&-1!==(labelLineHeight=plotLabelLineHeight).indexOf("px")&&(labelLineHeight=labelLineHeight.replace("px",""),labelLineHeight=parseFloat(labelLineHeight)),plotLabelColor=plotLabelStyle.color),labelBorderWidth=(plotLabelBorderWidth=plotLabel.borderWidth)&&-1!==plotLabelBorderWidth.indexOf("px")?plotLabelBorderWidth.replace("px",""):1,plotLabelAlign=plotLabel.align,plotLabelX=plotLabel.x,plotLabelY=plotLabel.y,plotLabelText=plotLabel.text,plotLabelOriginalText=plotLabel.originalText,plotLabelBGColor=plotLabel.backgroundColor,plotLabelBGOpacity=plotLabel.backgroundOpacity,plotLabelBGColor&&(plotLabelRaphaelColor=plotLabel.labelBgClr=toRaphaelColor({color:plotLabelBGColor,alpha:100*plotLabelBGOpacity})),(plotLabelBorderColor=plotLabel.borderColor)&&(plotLabelRaphaelBorderColor=plotLabel.labelBorderClr=toRaphaelColor({color:plotLabelBorderColor,alpha:"100"})),plotLabelTextAlign="left"===(plotLabelTextAlign=plotLabel.textAlign)?"start":"right"===plotLabelTextAlign?"end":"middle",plotLabelVAlign=plotLabel.verticalAlign,plotLabelBorderType=plotLabel.borderType,labelGroupToAdd=plotBandObj.zIndex>3?aboveLabelGroup:belowLabelGroup)),toPx=this.getAxisPosition(pluckNumber(plotBandTo,plotBandValue)),fromPx=this.getAxisPosition(pluckNumber(plotBandFrom,plotBandValue)),bandStartX=isVertical?canvasObj.x:fromPx,bandStartY=isVertical?toPx:canvasObj.y,bandEndX=bandStartX+(bandW=isVertical?canvasObj.w:(this.axisData.reversed?fromPx-toPx:toPx-fromPx)||plotBandWidth||1),bandEndY=bandStartY+(bandH=isVertical?fromPx-toPx||1:canvasObj.h),bandW=mathAbs(bandW),bandH<0&&(bandStartY-=bandH=mathAbs(bandH)),isVertical||(isBandVisible=hasScroll?"hidden":bandStartX+primaryOffset>axisEndPixel||bandEndX+primaryOffset<axisStartPixel?"hidden":isBandVisible),isLabelVisible=isVertical?isLabelVisible:labelXPos+primaryOffset<axisStartPixel||labelXPos+primaryOffset>axisEndPixel?"hidden":isLabelVisible,plotLabel&&(labelXPos=isVertical?"right"===plotLabelAlign?canvasObj.toX+plotLabelX:canvasObj.x+plotLabelX:bandStartX+bandW/2,labelYPos=isVertical?bandStartY+bandH/2:canvasObj.toY+plotLabelY),!bandElement&&plotBandObj&&"visible"===isBandVisible)attrObj={x:bandStartX,y:bandStartY,width:bandW,height:bandH,fill:toRaphaelColor(plotBandColor),"stroke-width":0},bandElement?bandElement.attr(attrObj):(bandElement=axisBands[i]=paper.rect(attrObj,bandGroupToAdd),axisElements.bands=axisElements.bands||[],axisElements.bands[i]=bandElement),isTooltip&&toolText&&bandElement.tooltip(toolText);else if(bandElement&&(!plotBandObj||"hidden"===isBandVisible)){axisElements.labels&&(axisLabels[i]=axisElements.labels[i]=null),bandElement.label&&bandElement.label.remove(),axisBands[i]=axisElements.bands[i]=null,bandElement.remove(),bandElement=null;continue}bandElement&&plotLabel&&plotLabel.text&&(attrObj={class:"fusioncharts-label",text:plotLabelText,title:plotLabelOriginalText||"",fill:plotLabelColor,"text-bound":[plotLabelRaphaelColor,plotLabelRaphaelBorderColor,plotLabelBorderWidth,.2*plotLabelFontSize,"solid"!==plotLabelBorderType],x:labelXPos,y:labelYPos,"text-anchor":plotLabelTextAlign,"vertical-align":plotLabelVAlign,"line-height":plotLabelStyle.lineHeight},labelElement?labelElement.attr(attrObj):(labelElement=axisLabels[i]=bandElement.label=paper.text(attrObj,labelGroupToAdd).attr("class","fusioncharts-label"),plotLabelStyle&&labelElement.css(plotLabelStyle),axisElements.labels=axisElements.labels||[],axisElements.labels[i]=labelElement))}bandElement=labelElement=null},drawAxisName:function(){var axis=this,axisData=this.axisData,axisTitle=axisData.title||{},style=axisTitle&&axisTitle.style,axisTitleClass=axisTitle&&axisTitle.className,titleAlign=axisTitle.align,centerYAxisName=axisTitle.centerYAxisName||!1,paper=this.renderer.paper,isVertical=this.isVertical,canvasObj=this.relatedObj.canvasObj,axisOffset,axisDist=pluckNumber(axisData.offset,0)+pluckNumber(axisTitle.margin,0),axisName=axisTitle.text||"",axisNameElement=this.name||void 0,isOpposite=axisData.opposite,belowDatasetLayer=this.layerBelowDataset,axisNameGroup=belowDatasetLayer.nameGroup=belowDatasetLayer.nameGroup||paper.group("axis-name",belowDatasetLayer),rotation=pluckNumber(axisTitle.rotation,isOpposite?90:270),xPos=isVertical?isOpposite?canvasObj.toX+axisDist:canvasObj.x-axisDist:(canvasObj.x+canvasObj.toX)/2,css={fontFamily:style.fontFamily,fontSize:style.fontSize,lineHeight:style.lineHeight,fontWeight:style.fontWeight,fontStyle:style.fontStyle},attrObj,yPos,fontSize,valign;yPos=isVertical?"low"===titleAlign?canvasObj.toY:centerYAxisName?(canvasObj.y+canvasObj.toY)/2:this.renderer.chartHeight/2:canvasObj.toY+axisDist,axisName?(!isNaN(rotation)&&rotation&&isVertical&&(fontSize=-1!=(fontSize=style.fontSize).indexOf("px")?fontSize.replace("px",""):fontSize,isOpposite?(xPos+=parseFloat(fontSize),valign=270===rotation?"bottom":"top"):(xPos-=parseFloat(fontSize),valign=270===rotation?"top":"bottom")),this.renderer.addCSSDefinition("."+axisTitleClass,css),attrObj={class:axisTitleClass,x:0,y:0,text:axisName,fill:style.color,"text-anchor":"low"===titleAlign?90==rotation?"end":"start":"middle","vertical-align":isVertical?rotation?valign:"middle":isOpposite?POSITION_BOTTOM:"top",transform:isVertical?"t"+xPos+","+yPos+"r"+rotation:"t"+xPos+","+yPos,"font-size":style.fontSize},axisTitle.originalText&&(attrObj.title=axisTitle.originalText),axisNameElement?axisNameElement.attr(attrObj):axisNameElement=this.name=paper.text(attrObj,axisNameGroup),axisNameElement.attr({"line-height":style.lineHeight,"text-bound":[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]})):axisNameElement&&axisNameElement.remove(),this.elements.name=axisNameElement},drawLine:function(){var axis=this,axisData=this.axisData,renderer,paper=this.renderer.paper,axisMin=this.min,axisMax=this.max,isVertical=this.isVertical,isOpposite=axisData.opposite,belowDatasetLayer=this.layerBelowDataset,axisLineGroup=this.lineGroup=this.lineGroup||paper.group("axis-lines",belowDatasetLayer),lineColor=axisData.lineColor,lineThickness=axisData.lineThickness,lineEndExtension=axisData.lineEndExtension||0,lineStartExtension=axisData.lineStartExtension||0,canvasObj=this.relatedObj.canvasObj,startY,endY,startX,endX,axisLineElem;isVertical?(startY=this.getAxisPosition(axisMin)-lineStartExtension,endY=this.getAxisPosition(axisMax)+lineEndExtension,startX=endX=isOpposite?canvasObj.toX+lineThickness/2:canvasObj.x-lineThickness/2):(startX=canvasObj.x-lineStartExtension,endX=canvasObj.toX+lineEndExtension,startY=endY=isOpposite?canvasObj.y-lineThickness/2:canvasObj.toY+lineThickness/2),axisLineElem=paper.path({path:["M",startX,startY,"L",endX,endY],stroke:lineColor,"stroke-width":lineThickness},axisLineGroup),this.elements.axisLine=axisLineElem},realtimeUpdateX:function(shift){if(shift>0){for(var axis=this,axisData=this.axisData,plotBands=axisData.plotBands,plotLines=axisData.plotLines,min,virtualMin=this.min+shift,plotElement,i=plotBands.length;i--;)(plotElement=plotBands[i])&&(plotElement.isNumVDIV||(plotElement.value<virtualMin||plotElement.from<virtualMin||plotElement.to<virtualMin?plotBands.splice(i,1):(void 0!==plotElement.value&&(plotElement.value-=shift),void 0!==plotElement.from&&(plotElement.from-=shift),void 0!==plotElement.to&&(plotElement.to-=shift))));i=plotLines.length,this.drawPlotLine(),this.drawPlotBands()}},realtimeUpdateY:function(newMin,newMax){var axis=this,axisData=this.axisData,axisMin=this.min=axisData.min=newMin,axisMax=this.max=axisData.max=newMax,span=this.span=axisMax-axisMin,pixelRatio=this.pixelRatio=this.isVertical?this.relatedObj.canvasObj.h/span:this.relatedObj.canvasObj.w/span;this.pixelValueRatio=this.isReverse?-pixelRatio:pixelRatio,this.drawPlotLine(),this.drawPlotBands()}},Axis.prototype.constructor=Axis,renderer("renderer.cartesian",{drawCanvas:function(){var chart=this,options,optionsChart=this.options.chart||{},canvasBgColor=optionsChart.plotBackgroundColor,paper=this.paper,elements=this.elements,canvas=elements.canvas,canvas3DBase=elements.canvas3DBase,canvas3dbaseline=elements.canvas3dbaseline,canvasBorder=elements.canvasBorder,canvasBg=elements.canvasBg,canvasTop=this.canvasTop,canvasLeft=this.canvasLeft,canvasWidth=this.canvasWidth,canvasHeight=this.canvasHeight,canvasBorderRadius=pluckNumber(optionsChart.plotBorderRadius,0),canvasBorderWidth=optionsChart.plotBorderWidth,borderWHlf=.5*canvasBorderWidth,canvasBorderColor=optionsChart.plotBorderColor,isBar=optionsChart.isBar,is3D=optionsChart.is3D,use3DLighting=optionsChart.use3DLighting,showCanvasBg=optionsChart.showCanvasBg,canvasBgDepth=optionsChart.canvasBgDepth,showCanvasBase=optionsChart.showCanvasBase,canvasBaseColor3D=optionsChart.canvasBaseColor3D,canvasBaseDepth=optionsChart.canvasBaseDepth,shadow=optionsChart.plotShadow,shadowOnCanvasFill=isVML&&0===canvasBorderWidth&&shadow&&shadow.enabled,xDepth=optionsChart.xDepth||0,yDepth=optionsChart.yDepth||0,layers=this.layers,backgroundLayer=layers.background,datasetlayer=layers.dataset,canvasLayer;layers.tracker=layers.tracker||paper.group("hot").insertAfter(datasetlayer),layers.datalabels=layers.datalabels||paper.group("datalabels").insertAfter(datasetlayer),canvasLayer=layers.canvas=layers.canvas||paper.group("canvas").insertAfter(backgroundLayer),canvasBorder||(canvasBorder=elements.canvasBorder=paper.rect({x:canvasLeft-borderWHlf,y:canvasTop-borderWHlf,width:canvasWidth+canvasBorderWidth,height:canvasHeight+canvasBorderWidth,r:canvasBorderRadius,"stroke-width":canvasBorderWidth,stroke:canvasBorderColor,"stroke-linejoin":canvasBorderWidth>2?"round":"miter"},canvasLayer).shadow(shadow)),elements["clip-canvas"]=[mathMax(0,canvasLeft-xDepth),mathMax(0,canvasTop-yDepth),mathMax(1,canvasWidth+2*xDepth),mathMax(1,canvasHeight+2*yDepth)],elements["clip-canvas-init"]=[mathMax(0,canvasLeft-xDepth),mathMax(0,canvasTop-yDepth),1,mathMax(1,canvasHeight+2*yDepth)],is3D&&(showCanvasBg&&(canvasBg=elements.canvasBg=isBar?paper.path([M,canvasLeft,",",canvasTop,L,canvasLeft+1.2*canvasBgDepth,",",canvasTop-canvasBgDepth,",",canvasLeft+canvasWidth-canvasBgDepth,",",canvasTop-canvasBgDepth,",",canvasLeft+canvasWidth,",",canvasTop,Z],canvasLayer):paper.path([M,canvasLeft+canvasWidth,",",canvasTop,L,canvasLeft+canvasWidth+canvasBgDepth,",",canvasTop+1.2*canvasBgDepth,",",canvasLeft+canvasWidth+canvasBgDepth,",",canvasTop+canvasHeight-canvasBgDepth,",",canvasLeft+canvasWidth,",",canvasTop+canvasHeight,Z],canvasLayer)).attr({"stroke-width":0,stroke:NONE,fill:toRaphaelColor(canvasBgColor)}),showCanvasBase&&((canvas3DBase=elements.canvas3DBase=isBar?paper.cubepath(canvasLeft-xDepth-canvasBaseDepth-1,canvasTop+yDepth+1,canvasBaseDepth,canvasHeight,xDepth+1,yDepth+1,canvasLayer):paper.cubepath(canvasLeft-xDepth-1,canvasTop+canvasHeight+yDepth+1,canvasWidth,canvasBaseDepth,xDepth+1,yDepth+1,canvasLayer)).attr({stroke:NONE,"stroke-width":0,fill:[canvasBaseColor3D.replace(dropHash,HASHSTRING),!use3DLighting]}),canvas3dbaseline||(canvas3dbaseline=elements.canvas3dbaseline=paper.path(void 0,canvasLayer)),canvas3dbaseline.attr({path:isBar?[M,canvasLeft,canvasTop,V,canvasHeight+canvasTop]:[M,canvasLeft,canvasTop+canvasHeight,H,canvasWidth+canvasLeft],stroke:R.tintshade(canvasBaseColor3D.replace(dropHash,HASHSTRING),.05).rgba}))),canvas||canvasBgColor&&(canvas=elements.canvas=paper.rect({x:canvasLeft,y:canvasTop,width:canvasWidth,height:canvasHeight,r:canvasBorderRadius,"stroke-width":0,stroke:NONE,fill:toRaphaelColor(canvasBgColor)},canvasLayer).shadow(shadowOnCanvasFill))},drawAxes:function(){var chart=this,logic=this.logic,options=this.options,paper=this.paper,layers=this.layers,datasetLayer=layers.dataset,layerBelowDataset=layers.layerBelowDataset=layers.layerBelowDataset||paper.group("axisbottom").trackTooltip(!0),layerAboveDataset=layers.layerAboveDataset=layers.layerAboveDataset||paper.group("axistop").trackTooltip(!0),xAxis=this.xAxis=[],yAxis=this.yAxis=[],i,l;if(layerBelowDataset.insertBefore(datasetLayer),layerAboveDataset.insertAfter(datasetLayer),options.xAxis&&options.xAxis.length)for(i=0,l=options.xAxis.length;i<l;i+=1)xAxis[i]=this.xAxis[i]=new Axis(options.xAxis[i],this,logic.isBar);else xAxis[0]=this.xAxis[0]=new Axis(options.xAxis,this,logic.isBar);if(options.yAxis)for(i=0,l=options.yAxis.length;i<l;i+=1)yAxis[i]=this.yAxis[i]=new Axis(options.yAxis[i],this,!logic.isBar,!logic.isBar);for(i=0,l=yAxis.length;i<l;i+=1)yAxis[i].axisData&&(yAxis[i].axisData.title&&(yAxis[i].axisData.title.className="fusioncharts-yaxis-"+i+"-title"),yAxis[i].axisData.labels&&(yAxis[i].axisData.labels.className="fusioncharts-yaxis-"+i+"-gridlabels")),yAxis[i].draw();for(i=0,l=xAxis.length;i<l;i+=1)xAxis[i].axisData&&(xAxis[i].axisData.title&&(xAxis[i].axisData.title.className="fusioncharts-xaxis-"+i+"-title"),xAxis[i].axisData.labels&&(xAxis[i].axisData.labels.className="fusioncharts-xaxis-"+i+"-gridlabels")),xAxis[i].draw()},drawScroller:function(){var chart=this,options=chart.options,paper=chart.paper,layers=chart.layers,axis=chart.xAxis[0]||{},axisData=axis.axisData||{},scroll=axisData.scroll||{},canvasTop=chart.canvasTop,canvasLeft=chart.canvasLeft,canvasWidth=chart.canvasWidth,canvasHeight=chart.canvasHeight,canvasBorderWidth=chart.canvasBorderWidth,aXisLineWidth=canvasBorderWidth||(axisData.showLine?axisData.lineThickness:0),aXisLineStartExtension=canvasBorderWidth||axisData.lineStartExtension,aXisLineEndExtension=canvasBorderWidth||axisData.lineEndExtension,roundEdges=options.chart.useRoundEdges,fullCanvasWidth,windowedCanvasWidth,offset,ratio,startPercent,viewMax,viewMin,vxLength,vxLengthCeil,buttonPadding,showButtons,height,padding,color,scrollDisplayStyle,scrollBar3DLighting,reflowData,reflowUpdate,reflowScroll,datasetGroup=layers.dataset,datalabelsGroup=layers.datalabels,hotGroup=layers.tracker,referenceLayer=layers.layerAboveDataset,scrollLayer,i,prevPos;return scroll.enabled&&(scrollLayer=layers.scroll=layers.scroll||paper.group("scroll").insertAfter(referenceLayer),ratio=scroll.scrollRatio,startPercent=pluckNumber(options[CONFIGKEY].xAxisScrollPos,scroll.startPercent),viewMax=scroll.viewPortMax,viewMin=scroll.viewPortMin,vxLength=scroll.vxLength,vxLengthCeil=mathCeil(vxLength),buttonPadding=scroll.buttonPadding,showButtons=scroll.showButtons,height=scroll.height,padding=scroll.padding,color=scroll.color,scrollDisplayStyle=scroll.flatScrollBars,scrollBar3DLighting=scroll.scrollBar3DLighting,windowedCanvasWidth=scroll.windowedCanvasWidth=axis.getAxisPosition(vxLength),fullCanvasWidth=scroll.fullCanvasWidth=axis.getAxisPosition(viewMax-viewMin)-windowedCanvasWidth,offset=mathRound(startPercent*fullCanvasWidth),reflowData=chart.fusionCharts.jsVars._reflowData,reflowScroll=(reflowUpdate={hcJSON:{_FCconf:{xAxisScrollPos:0}}}).hcJSON._FCconf,layers.scroller=paper.scroller(canvasLeft-aXisLineStartExtension,canvasTop+canvasHeight+aXisLineWidth+padding-!!aXisLineWidth,canvasWidth+aXisLineStartExtension+aXisLineEndExtension,height,!0,{showButtons:showButtons,displayStyleFlat:scrollDisplayStyle,scrollRatio:ratio,scrollPosition:startPercent},scrollLayer).data("fullCanvasWidth",fullCanvasWidth).data("windowedCanvasWidth",windowedCanvasWidth).attr({"scroll-display-style":scrollDisplayStyle,fill:color,r:roundEdges?2:0}).scroll((function(pos){var scrollStateObj;if(offset=-mathRound(pos*fullCanvasWidth),datasetGroup&&datasetGroup.transform(["T",offset,0]),datalabelsGroup&&datalabelsGroup.transform(["T",offset,0]),hotGroup&&hotGroup.transform(["T",offset,0]),axis.setOffset&&axis.setOffset(offset),scrollStateObj={position:pos,direction:pos-scroll.lastPos||0,vxLength:vxLengthCeil},reflowScroll.xAxisScrollPos=scroll.lastPos=pos,extend2(reflowData,reflowUpdate,!0),0!==scrollStateObj.direction)for(i=0;i<chart.datasets.length;i++)chart[chart.datasets[i].drawPlot+"Scroll"]&&chart[chart.datasets[i].drawPlot+"Scroll"].call(chart,chart.plots[i],chart.datasets[i],scrollStateObj)})),R.eve.on("raphael.scroll.start."+layers.scroller.id,(function(pos){prevPos=pos,global.raiseEvent("scrollstart",{scrollPosition:pos},chart.logic.chartInstance)})),R.eve.on("raphael.scroll.end."+layers.scroller.id,(function(pos){global.raiseEvent("scrollend",{prevScrollPosition:prevPos,scrollPosition:pos},chart.logic.chartInstance)}))),scroll.enabled},finalizeScrollPlots:function(){var chart=this,options=chart.options,container=chart.container,elements=chart.elements,layers=chart.layers,scroller=layers.scroller,datasetGroup=layers.dataset,datalabelsGroup=layers.datalabels,hotGroup=layers.tracker,chartPosition,config={},touchScrollBodyEventHandler,isDraggedInsideCanvas,axis=chart.xAxis[0]||{},axisData,scroll=(axis.axisData||{}).scroll||{},startPercent=pluckNumber(options[CONFIGKEY].xAxisScrollPos,scroll.startPercent),fullCanvasWidth=scroll.fullCanvasWidth,offset;scroll.enabled&&(datasetGroup.attr({"clip-rect":elements["clip-canvas"]}),datalabelsGroup.attr({"clip-rect":elements["clip-canvas"]}),hotGroup.attr({"clip-rect":elements["clip-canvas"]}),touchScrollBodyEventHandler=function(event){var canvas=chart.elements.canvas,chartPosLeft=chartPosition.left,chartPosTop=chartPosition.top,type=event.state,touchEvent=hasTouch&&lib.getTouchEvent(event)||stubEvent,evt=event.originalEvent,layerX=(evt.clientX||evt.pageX||touchEvent.pageX)-chartPosLeft,layerY=(evt.clientY||evt.pageY||touchEvent.pageY)-chartPosTop,dx;switch(type){case"start":if(isDraggedInsideCanvas=canvas.isPointInside(layerX,layerY),config.ox=isDraggedInsideCanvas&&layerX||null,!isDraggedInsideCanvas)return!1;config.prevScrollPosition=scroller.attrs["scroll-position"],global.raiseEvent("scrollstart",{scrollPosition:config.prevScrollPosition},chart.logic.chartInstance);break;case"end":global.raiseEvent("scrollend",{prevScrollPosition:config.prevScrollPosition,scrollPosition:config.scrollPosition},chart.logic.chartInstance),isDraggedInsideCanvas=!1,config={};break;default:if(!isDraggedInsideCanvas)return;dx=layerX-config.ox,config.ox=layerX,config.scrollPosition=scroller.attrs["scroll-position"]-dx/fullCanvasWidth,scroller.attr({"scroll-position":config.scrollPosition})}},hasTouch&&(chartPosition=lib.getPosition(container),container&&(removeEvent(container,"pointerdrag",touchScrollBodyEventHandler),addEvent(container,"pointerdrag",touchScrollBodyEventHandler))),startPercent>0&&(offset=-mathRound(startPercent*fullCanvasWidth),datasetGroup&&datasetGroup.transform(["T",offset,0]),datalabelsGroup&&datalabelsGroup.transform(["T",offset,0]),hotGroup&&hotGroup.transform(["T",offset,0]),axis.setOffset&&axis.setOffset(offset)))},drawPlotColumn:function(plot,dataOptions,sconfig){var chart=this,data=plot.data,ln=data.length,plotItems=plot.items,datasetGraphics=plot.graphics||(plot.graphics=[]),paper=chart.paper,smartLabel=chart.smartLabel,logic=chart.logic,layers=chart.layers,options=chart.options,elements=chart.elements,chartOptions=options.chart,tooltipOptions,isTooltip=!1!==(options.tooltip||{}).enabled,toolText,chartAttributes=chart.definition.chart,seriesOptions=options.plotOptions.series,style=seriesOptions.dataLabels.style,xAxis=chart.xAxis[dataOptions.xAxis||0],yAxis=chart.yAxis[dataOptions.yAxis||0],chartW=chart.chartWidth,chartH=chart.chartHeight,isInverseAxis=yAxis.axisData.reversed,isLog=logic.isLog,is3D=logic.is3D,isStacked=logic.isStacked,isWaterfall=logic.isWaterfall,isCandleStick=logic.isCandleStick,scrollObj=pluck(xAxis.axisData.scroll,{}),scrollConfig=sconfig||{},isScroll=scrollObj.enabled,scrollPosition=pluckNumber(scrollConfig.position,options[CONFIGKEY].xAxisScrollPos,scrollObj.startPercent),scrollVxLength=scrollConfig.vxLength||mathCeil(scrollObj.vxLength),scrollStart=scrollConfig.scrollStart||mathMax(0,mathRound((ln-scrollVxLength)*scrollPosition)-1)||0,scrollEnd=scrollConfig.scrollEnd||mathMin(ln,scrollStart+scrollVxLength+2)||ln,canvasBorderOpacity=chartOptions.canvasBorderOpacity=R.color(chartOptions.plotBorderColor).opacity,canvasBorderWidth=chart.canvasBorderWidth,hasValidCanvasBorder=chartOptions.isCanvasBorder=0!==canvasBorderOpacity&&canvasBorderWidth>0,columnBaseHotFixDelta,animationDuration=void 0!==sconfig?0:isNaN(+seriesOptions.animation)&&seriesOptions.animation.duration||1e3*seriesOptions.animation,numColumns=dataOptions.numColumns||1,columnPosition=dataOptions.columnPosition||0,use3DLighting=chartOptions.use3DLighting,seriesVisibility=!1===dataOptions.visible?"hidden":"visible",overlapColumns=chartOptions.overlapColumns,xAxisZeroPos=xAxis.getAxisPosition(0),xAxisFirstPos,groupMaxWidth=xAxis.getAxisPosition(1)-xAxisZeroPos,definedGroupPadding=chartAttributes&&chartAttributes.plotspacepercent,plotPaddingPercent=pluckNumber(chartAttributes&&chartAttributes.plotpaddingpercent),groupPadding=seriesOptions.groupPadding,maxColWidth=seriesOptions.maxColWidth,groupNetWidth=(1-.01*definedGroupPadding)*groupMaxWidth||mathMin(groupMaxWidth*(1-2*groupPadding),maxColWidth*numColumns),groupNetHalfWidth=groupNetWidth/2,columnWidth=groupNetWidth/numColumns,plotPadding,plotEffectivePadding=mathMin(columnWidth-1,numColumns>1?overlapColumns||void 0!==plotPaddingPercent?plotPaddingPercent>0?columnWidth*plotPaddingPercent/100:0:4:0),xPosOffset=columnPosition*columnWidth-groupNetHalfWidth+plotEffectivePadding/2,yMax=yAxis.max,yMin=yAxis.min,isAllPositiveZero=yMax>0&&yMin>=0,isAllNegativeZero=yMax<=0&&yMin<0,isPositiveNegative=yMax>0&&yMin<0,yBase=isAllNegativeZero||isInverseAxis&&isAllPositiveZero?yMax:isLog||isAllPositiveZero?yMin:0,yBasePos=yAxis.yBasePos=yAxis.getAxisPosition(yBase),heightBase,plotRadius=pluckNumber(chartOptions.useRoundEdges,0),datasetLayer=layers.dataset=layers.dataset||paper.group("dataset-orphan"),dataLabelsLayer=layers.datalabels=layers.datalabels||paper.group("datalabels").insertAfter(datasetLayer),trackerLayer=layers.tracker,canvasTop=chart.canvasTop,canvasLeft=chart.canvasLeft,canvasWidth=chart.canvasWidth,canvasBottom=chart.canvasBottom,canvasRight=chart.canvasRight,animationComplete,groupId,zeroPlaneColor,zeroPlaneBorderColor,zeroPlaneShowBorder,MINHEIGHT=1,xDepth,yDepth,isNegative,valueBelowPlot,plotItem,i,set,setLink,setBorderWidth,x,y,previousY,xPos,yPos,previousYPos,valEle,height,width,labelCSS={fontFamily:style.fontFamily,fontSize:style.fontSize,lineHeight:style.lineHeight,fontWeight:style.fontWeight,fontStyle:style.fontStyle,color:style.color},setHoverEffect,setRolloverProperties,setRolloutAttr,setRolloverAttr,fixedWidth,setElem,hotElem,group,plotGroup,plotNegativeGroup,plotNegativeGroupArray,zeroPlaneGroup,plotPositiveGroup,plotPositiveGroupArray,targetGroup,shadowGroup,crispBox,attrObj,eventArgs,clickFunc=function(data){var ele=this;plotEventHandler.call(ele,chart,data)},rolloverResponseSetter=function(elem,elemHoverAttr){return function(data){var ele=this;elem.attr(elemHoverAttr),plotEventHandler.call(ele,chart,data,ROLLOVER)}},rolloutResponseSetter=function(elem,elemUnHoverAttr){return function(data){var ele=this;elem.attr(elemUnHoverAttr),plotEventHandler.call(ele,chart,data,ROLLOUT)}};if(chart.addCSSDefinition(".fusioncharts-datalabels .fusioncharts-label",labelCSS),dataLabelsLayer.attr("class","fusioncharts-datalabels"),animationDuration&&(!sconfig&&dataLabelsLayer.attr({transform:"...t"+chartW+","+chartH}),chart.animationCompleteQueue.push({fn:function(){dataLabelsLayer.attr({transform:"...t"+-chartW+","+-chartH})},scope:chart})),columnWidth-=plotEffectivePadding,isScroll&&scrollStart>scrollEnd-scrollVxLength-2&&(scrollStart=mathMax(0,scrollEnd-scrollVxLength-2)),group=datasetLayer,isStacked&&(shadowGroup=group.shadows||(group.shadows=paper.group("shadows",group).toBack())),plotGroup=group.column||(group.column=paper.group("columns",group)),isCandleStick||is3D||isScroll||plotGroup.attrs["clip-rect"]||plotGroup.attr({"clip-rect":elements["clip-canvas"]}),isWaterfall&&plotGroup.toBack(),is3D)for(xDepth=chartOptions.xDepth||0,yDepth=chartOptions.yDepth||0,plotNegativeGroup=plotGroup.negative=plotGroup.negative||paper.group("negative-values",plotGroup),plotPositiveGroup=plotGroup.column=plotGroup.column||paper.group("positive-values",plotGroup),!(zeroPlaneGroup=plotGroup.zeroPlane)&&yMin<0&&yMax>=0&&(zeroPlaneGroup=plotGroup.zeroPlane=paper.group("zero-plane",plotGroup).insertBefore(plotPositiveGroup),zeroPlaneColor=chartOptions.zeroPlaneColor,zeroPlaneBorderColor=chartOptions.zeroPlaneBorderColor,zeroPlaneShowBorder=chartOptions.zeroPlaneShowBorder,elements.zeroplane=paper.cubepath(canvasLeft-xDepth,yBasePos+yDepth,canvasWidth,1,xDepth,yDepth,zeroPlaneGroup).attr({fill:[zeroPlaneColor,!use3DLighting],stroke:zeroPlaneBorderColor||NONE,"stroke-width":zeroPlaneShowBorder?1:0})),(plotNegativeGroupArray=plotNegativeGroup.data("categoryplots"))||(plotNegativeGroup.data("categoryplots",new Array(ln)),plotNegativeGroupArray=plotNegativeGroup.data("categoryplots")),(plotPositiveGroupArray=plotPositiveGroup.data("categoryplots"))||(plotPositiveGroup.data("categoryplots",new Array(ln)),plotPositiveGroupArray=plotPositiveGroup.data("categoryplots")),i=0;i<ln;i+=1)plotNegativeGroupArray[i]=plotNegativeGroupArray[i]||paper.group(plotNegativeGroup),plotPositiveGroupArray[i]=plotPositiveGroupArray[i]||paper.group(plotPositiveGroup);else targetGroup=plotGroup;for(smartLabel.setStyle({fontFamily:style.fontFamily,fontSize:style.fontSize,lineHeight:style.lineHeight,fontWeight:style.fontWeight,fontStyle:style.fontStyle}),i=scrollStart;i<scrollEnd;i+=1)y=(set=data[i]).y,toolText=set.toolText,groupId=plot.index+"_"+i,setElem=hotElem=null,null===y?(plotItem=plotItems[i])&&(setElem=plotItem.graphic,is3D||setElem.attr({height:0})):(isNegative=!1,x=pluckNumber(set.x,i),setLink=set.link,setBorderWidth=toFloat(set.borderWidth)||0,fixedWidth=set._FCW*groupMaxWidth,xPos=xAxis.getAxisPosition(set._FCX)||xAxis.getAxisPosition(x)+xPosOffset,previousY=set.previousY,previousYPos=yAxis.getAxisPosition(previousY||yBase),yPos=yAxis.getAxisPosition(y+(previousY||0)),height=mathAbs(yPos-previousYPos),width=fixedWidth||columnWidth,eventArgs={index:i,link:setLink,value:set.y,displayValue:set.displayValue,categoryLabel:set.categoryLabel,toolText:set.toolText,id:plot.userID,datasetIndex:plot.index,datasetName:plot.name,visible:plot.visible},is3D?(y<0&&(yPos=previousYPos,isNegative=!0),targetGroup=y<0?plotNegativeGroupArray:plotPositiveGroupArray,(plotItem=plotItems[i])||(plotItem=plotItems[i]={index:i,value:y,graphic:paper.cubepath(targetGroup[i]),dataLabel:null,tracker:null,hot:null}),setElem=plotItem.graphic,setRolloutAttr=setRolloverAttr={},(setHoverEffect=set.hoverEffects)&&(setRolloutAttr={fill:[toRaphaelColor(set.color),!use3DLighting],stroke:setBorderWidth&&toRaphaelColor(set.borderColor)||"NONE","stroke-width":setBorderWidth},setRolloverProperties=set.rolloverProperties,setRolloverAttr={fill:[toRaphaelColor(setRolloverProperties.color),!use3DLighting],stroke:setRolloverProperties.borderWidth&&toRaphaelColor(setRolloverProperties.borderColor)||"NONE","stroke-width":setRolloverProperties.borderWidth}),setElem.attr({cubepath:[xPos-xDepth,animationDuration?yBasePos+yDepth:yPos+yDepth,width,animationDuration?0:height,xDepth,yDepth],fill:[toRaphaelColor(set.color),!use3DLighting],stroke:setBorderWidth&&toRaphaelColor(set.borderColor)||"NONE","stroke-width":setBorderWidth,visibility:seriesVisibility}).shadow(seriesOptions.shadow&&set.shadow,shadowGroup).data("BBox",{height:height,width:width,x:xPos,y:yPos}),animationDuration&&setElem.animate({cubepath:[xPos-xDepth,yPos+yDepth,width,height,xDepth,yDepth]},animationDuration,"normal",chart.getAnimationCompleteFn()),(setLink||isTooltip)&&(!isStacked&&height<HTP&&(yPos-=(HTP-height)/2,height=HTP),plotItem.tracker||(plotItem.tracker=paper.cubepath(trackerLayer)),(hotElem=plotItem.tracker).attr({cubepath:[xPos-xDepth,yPos+yDepth,width,height,xDepth,yDepth],cursor:setLink?"pointer":"",stroke:setBorderWidth&&TRACKER_FILL||"NONE","stroke-width":setBorderWidth,fill:TRACKER_FILL,ishot:!0,visibility:seriesVisibility})),(hotElem||setElem).data("eventArgs",eventArgs).data("groupId",groupId).click(clickFunc).hover(rolloverResponseSetter(setElem,setRolloverAttr),rolloutResponseSetter(setElem,setRolloutAttr)).tooltip(toolText),(hotElem||setElem)._.cubetop.data("eventArgs",eventArgs).data("groupId",groupId).click(clickFunc).hover(rolloverResponseSetter(setElem,setRolloverAttr),rolloutResponseSetter(setElem,setRolloutAttr)).tooltip(toolText),(hotElem||setElem)._.cubeside.data("eventArgs",eventArgs).data("groupId",groupId).click(clickFunc).hover(rolloverResponseSetter(setElem,setRolloverAttr),rolloutResponseSetter(setElem,setRolloutAttr)).tooltip(toolText),isStacked&&isNegative&&(setElem.toBack(),hotElem&&hotElem.toBack())):(valueBelowPlot=!1,(!isLog&&!isInverseAxis&&y<0||!isLog&&isInverseAxis&&y>0)&&(yPos=previousYPos,valueBelowPlot=!0),isInverseAxis&&!isPositiveNegative&&y>0&&(yPos=previousYPos-height,valueBelowPlot=!1),isWaterfall&&y<0&&defined(previousY)&&(yPos-=height,valueBelowPlot=!0),isCandleStick||isScroll||(toInt(yPos)<=canvasTop&&(height-=canvasTop-yPos-+hasValidCanvasBorder,yPos=canvasTop-+hasValidCanvasBorder),mathRound(yPos+height)>=canvasBottom&&(height-=mathRound(yPos+height)-canvasBottom+ +!!setBorderWidth+ +hasValidCanvasBorder,chartOptions.xAxisLineVisible&&!hasValidCanvasBorder&&(height+=1)),setBorderWidth<=1&&(mathRound(xPos)<=canvasLeft&&(width+=xPos,width-=xPos=canvasLeft-setBorderWidth/2+ +!!setBorderWidth-+hasValidCanvasBorder),mathRound(xPos+width)>=canvasRight&&(width=canvasRight-xPos+setBorderWidth/2-+!!setBorderWidth+ +hasValidCanvasBorder))),xPos=(crispBox=R.crispBound(xPos,yPos,width,height,setBorderWidth)).x,yPos=crispBox.y,width=crispBox.width,height=crispBox.height,!isCandleStick&&hasValidCanvasBorder&&(!defined(previousY)||isWaterfall&&previousY===y&&y===set._FCY)&&(isAllNegativeZero&&!isInverseAxis?(height+=columnBaseHotFixDelta=yPos-(canvasTop-setBorderWidth/2),yBasePos=yPos-=columnBaseHotFixDelta):(isLog||isAllPositiveZero||isInverseAxis&&isAllNegativeZero)&&(yBasePos=yPos+(height=canvasBottom-yPos+setBorderWidth/2))),isWaterfall&&previousY&&setBorderWidth>0&&0!==seriesOptions.connectorOpacity&&1===seriesOptions.connectorWidth&&seriesOptions.connectorDashStyle&&(height-=1,y<0&&(yPos+=1)),height<=1&&(height=1,yPos+=y<0?1:0===y?0:-height),dataOptions._columnWidth=width,(plotItem=plotItems[i])||(plotItem=plotItems[i]={index:i,value:y,width:width,graphic:null,valueBelowPlot:valueBelowPlot,dataLabel:null,tracker:null},heightBase=0,animationDuration||(yBasePos=yPos,heightBase=height||1),setRolloutAttr=setRolloverAttr={},(setHoverEffect=set.hoverEffects)&&(setRolloutAttr={fill:toRaphaelColor(set.color),stroke:toRaphaelColor(set.borderColor),"stroke-width":setBorderWidth,"stroke-dasharray":set.dashStyle},setRolloverProperties=set.rolloverProperties,setRolloverAttr={fill:toRaphaelColor(setRolloverProperties.color),stroke:toRaphaelColor(setRolloverProperties.borderColor),"stroke-width":setRolloverProperties.borderWidth,"stroke-dasharray":setRolloverProperties.dashStyle}),attrObj={x:xPos,y:yBasePos,width:width,height:heightBase,r:plotRadius,fill:toRaphaelColor(set.color),stroke:toRaphaelColor(set.borderColor),"stroke-width":setBorderWidth,"stroke-dasharray":set.dashStyle,"stroke-linejoin":"miter",visibility:seriesVisibility},setElem?setElem.attr(attrObj):setElem=plotItem.graphic=paper.rect(attrObj,targetGroup),setElem.shadow(seriesOptions.shadow&&set.shadow,shadowGroup).data("BBox",crispBox),animationDuration&&(setElem.animate({y:yPos,height:height||1},animationDuration,"normal",chart.getAnimationCompleteFn()),animationComplete=void 0),(setLink||isTooltip)&&(!isStacked&&height<HTP&&(yPos-=(HTP-height)/2,height=HTP),attrObj={x:xPos,y:yPos,width:width,height:height,r:plotRadius,cursor:setLink?"pointer":"",stroke:TRACKER_FILL,"stroke-width":setBorderWidth,fill:TRACKER_FILL,ishot:!0,visibility:seriesVisibility},(hotElem=plotItem.tracker)?hotElem.attr(attrObj):hotElem=plotItem.tracker=paper.rect(attrObj,trackerLayer)),((hotElem=plotItem.tracker)||setElem).data("eventArgs",eventArgs).data("groupId",groupId).click(clickFunc).hover(rolloverResponseSetter(setElem,setRolloverAttr),rolloutResponseSetter(setElem,setRolloutAttr)).tooltip(toolText))),valEle=chart.drawPlotColumnLabel(plot,dataOptions,i,xPos,yPos)),valEle&&datasetGraphics.push(valEle),setElem&&datasetGraphics.push(setElem),hotElem&&datasetGraphics.push(hotElem),chart.drawTracker&&chart.drawTracker.call(chart,plot,dataOptions,i);return plot.visible=!1!==dataOptions.visible,plot},drawPlotColumnScroll:function(plot,dataOptions,config){var chart=this,data,ln=plot.data.length,plotItems=plot.items,i,scrollPosition=config.position,scrollVxLength=config.vxLength,scrollStart=mathMax(0,mathRound((ln-scrollVxLength)*scrollPosition)-1)||0,scrollEnd=mathMin(ln,scrollStart+scrollVxLength+2)||ln;for(scrollStart>scrollEnd-scrollVxLength-2&&(scrollStart=mathMax(0,scrollEnd-scrollVxLength-2)),config.scrollEnd=scrollEnd,i=scrollStart;i<scrollEnd;i++)if(!plotItems[i]){config.scrollStart=i,this.drawPlotColumn(plot,dataOptions,config);break}},drawPlotColumnLabel:function(plot,dataOptions,i,xPos,yPos,dataLabelsLayer){var chart=this,options=this.options,logic=this.logic,chartOptions=options.chart,seriesOptions=options.plotOptions.series,paper=this.paper,smartLabel=this.smartLabel,layers=this.layers,style=seriesOptions.dataLabels.style,rotateValues=1===chartOptions.rotateValues?270:0,canvasHeight=this.canvasHeight,canvasTop=this.canvasTop,plotItems=plot.items,data,set=plot.data[i],plotItem=plotItems[i],valuePadding=chartOptions.valuePadding+2,setElem=plotItem.graphic,valEle=plotItem.dataLabel,isNegative=pluck(plotItem.valueBelowPlot,set.y<0),isStacked=logic.isStacked,is3D=logic.is3D,xDepth=chartOptions.xDepth||0,yDepth=chartOptions.yDepth||0,displayValue=set.displayValue,seriesVisibility=!1===dataOptions.visible?"hidden":"visible",placeValuesInside=chartOptions.placeValuesInside,height,colBBox,yAdjust,insideColSpace,outsideColSpace,textHeight,origTextHeight,textY,textX,bBoxObj;return dataLabelsLayer=dataLabelsLayer||layers.datalabels,defined(displayValue)&&displayValue!==BLANK&&null!==set.y?(plotItem._state&&plotItem._state.labelWidth||(bBoxObj=smartLabel.getOriSize(displayValue),plotItem._state=rotateValues?{labelWidth:bBoxObj.height,labelHeight:bBoxObj.width}:{labelWidth:bBoxObj.width,labelHeight:bBoxObj.height}),height=(colBBox=setElem.data("BBox")).height,textHeight=origTextHeight=plotItem._state.labelHeight+valuePadding,insideColSpace=height,textY=yPos-(yAdjust=.5*origTextHeight+valuePadding),textX=colBBox.x+.5*colBBox.width,isNegative?(outsideColSpace=canvasTop+canvasHeight-(yPos+height),textY=yPos+height):outsideColSpace=yPos-canvasTop,isStacked?(textY=yPos+.5*height+(yDepth||0),textX-=xDepth):placeValuesInside?insideColSpace>=textHeight?(textY=yPos+(isNegative?height-yAdjust:yAdjust),set._valueBelowPoint=1,is3D&&(textX-=xDepth,textY+=yDepth)):outsideColSpace>=textHeight?(textY=yPos+(isNegative?height+yAdjust:-yAdjust),is3D&&isNegative&&(textX-=xDepth,textY+=yDepth)):(textY=yPos+(isNegative?height-yAdjust:yAdjust),set._valueBelowPoint=1,is3D&&(textX-=xDepth,textY+=yDepth)):outsideColSpace>=textHeight?(textY=yPos+(isNegative?height+yAdjust:-yAdjust),is3D&&(isNegative?(textX-=xDepth,textY+=yDepth):textX-=xDepth/2)):(textY=yPos+(isNegative?height-yAdjust:yAdjust),set._valueBelowPoint=1,is3D&&(textX-=xDepth,textY+=yDepth)),valEle?valEle.attr({x:textX,y:textY,visibility:seriesVisibility}):valEle=plotItem.dataLabel=paper.text({text:displayValue,class:"fusioncharts-label",x:textX,y:textY,fill:style.color,"font-size":style.fontSize,visibility:seriesVisibility},dataLabelsLayer).attr({"line-height":style.lineHeight,"text-bound":[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]}),rotateValues&&valEle.attr("transform","T0,0,R"+rotateValues)):valEle&&valEle.attr({text:BLANK}),valEle},drawPlotFloatedcolumn:function(plot,dataOptions){this.drawPlotColumn.call(this,plot,dataOptions)},drawPlotColumn3d:function(plot,dataOptions){this.drawPlotColumn.call(this,plot,dataOptions)},drawPlotBar:function(plot,dataOptions){var chart=this,data=plot.data,ln=data.length,plotItems=plot.items,datasetGraphics=plot.graphics=[],paper=chart.paper,logic=chart.logic,layers=chart.layers,options=chart.options,elements=chart.elements,chartOptions=options.chart,tooltipOptions,isTooltip=!1!==(options.tooltip||{}).enabled,toolText,chartAttributes=chart.definition.chart,seriesOptions=options.plotOptions.series,style=seriesOptions.dataLabels.style,labelCSS={fontFamily:style.fontFamily,fontSize:style.fontSize,lineHeight:style.lineHeight,fontWeight:style.fontWeight,fontStyle:style.fontStyle},xAxis=chart.xAxis[dataOptions.xAxis||0],yAxis=chart.yAxis[dataOptions.yAxis||0],is3D=logic.is3D,isStacked=logic.isStacked,canvasBorderOpacity=chartOptions.canvasBorderOpacity=R.color(chartOptions.plotBorderColor).opacity,canvasBorderWidth=chart.canvasBorderWidth,hasValidCanvasBorder=chartOptions.isCanvasBorder=0!==canvasBorderOpacity&&canvasBorderWidth>0,animationDuration=isNaN(+seriesOptions.animation)&&seriesOptions.animation.duration||1e3*seriesOptions.animation,numColumns=dataOptions.numColumns||1,columnPosition=dataOptions.columnPosition||0,use3DLighting=chartOptions.use3DLighting,seriesVisibility=!1===dataOptions.visible?"hidden":"visible",overlapColumns=chartOptions.overlapColumns,xAxisZeroPos=xAxis.getAxisPosition(0),xAxisFirstPos,groupMaxWidth=xAxis.getAxisPosition(1)-xAxisZeroPos,definedGroupPadding=chartAttributes&&chartAttributes.plotspacepercent,plotPaddingPercent=pluckNumber(chartAttributes&&chartAttributes.plotpaddingpercent),groupPadding=seriesOptions.groupPadding,maxColWidth=seriesOptions.maxColWidth,groupNetWidth=(1-.01*definedGroupPadding)*groupMaxWidth||mathMin(groupMaxWidth*(1-2*groupPadding),maxColWidth*numColumns),groupNetHalfWidth=groupNetWidth/2,columnWidth=groupNetWidth/numColumns,plotPadding,plotEffectivePadding=mathMin(columnWidth-1,numColumns>1?overlapColumns||void 0!==plotPaddingPercent?plotPaddingPercent>0?columnWidth*plotPaddingPercent/100:0:4:0),height=columnWidth-plotEffectivePadding,yPosFactor=columnPosition*columnWidth-groupNetHalfWidth+plotEffectivePadding/2,yMax=yAxis.max,yMin=yAxis.min,isAllPositive,isAllNegative,yBase=yMax<0&&yMin<0?yMax:yMax>0&&yMin>0?yMin:0,yBasePos=yAxis.getAxisPosition(yBase),plotRadius=pluckNumber(chartOptions.useRoundEdges,0),canvasTop=chart.canvasTop,canvasLeft=chart.canvasLeft,canvasHeight=chart.canvasHeight,canvasRight=chart.canvasRight,chartW=chart.chartWidth,chartH=chart.chartHeight,animationComplete,MINWIDTH=1,xDepth,yDepth,width,setHoverEffect,setRolloverProperties,setRolloutAttr,setRolloverAttr,isNegative,valEle,plotItem,i,fi,set,setLink,setBorderWidth,x,y,previousY,xPos,yPos,previousYPos,zeroPlaneColor,zeroPlaneBorderColor,zeroPlaneShowBorder,effectiveZeroPlaneThickness=yAxis.axisData.effectiveZeroPlaneThickness,datasetLayer=layers.dataset=layers.dataset||paper.group("dataset-orphan"),dataLabelsLayer=layers.datalabels=layers.datalabels||paper.group("datalabels").insertAfter(datasetLayer),trackerLayer=layers.tracker,setElem,hotElem,eventArgs,attrObj,group,plotGroup,plotNegativeGroup,plotNegativeGroupArray,zeroPlaneGroup,plotPositiveGroup,plotPositiveGroupArray,targetGroup,shadowGroup,crispBox,clickFunc=function(data){var ele=this;plotEventHandler.call(ele,chart,data)},rolloverResponseSetter=function(elem,elemHoverAttr){return function(data){var ele=this;elem.attr(elemHoverAttr),plotEventHandler.call(ele,chart,data,ROLLOVER)}},rolloutResponseSetter=function(elem,elemUnHoverAttr){return function(data){var ele=this;elem.attr(elemUnHoverAttr),plotEventHandler.call(ele,chart,data,ROLLOUT)}};if(chart.addCSSDefinition(".fusioncharts-datalabels .fusioncharts-label",labelCSS),dataLabelsLayer.attr("class","fusioncharts-datalabels"),animationDuration&&(chart.animationCompleteQueue.push({fn:function(){dataLabelsLayer.attr({transform:"...t"+-chartW+","+-chartH})},scope:chart}),dataLabelsLayer.attr({transform:"...t"+chartW+","+chartH})),group=datasetLayer,isStacked&&(shadowGroup=group.shadows||(group.shadows=paper.group("shadows",group).toBack())),plotGroup=group.column=group.column||paper.group("bars",group),is3D)for(xDepth=chartOptions.xDepth||0,yDepth=chartOptions.yDepth||0,plotNegativeGroup=plotGroup.negative=plotGroup.negative||paper.group("negative-values",plotGroup),plotPositiveGroup=plotGroup.column=plotGroup.column||paper.group("positive-values",plotGroup),!(zeroPlaneGroup=plotGroup.zeroPlane)&&yMin<0&&yMax>=0&&(zeroPlaneGroup=plotGroup.zeroPlane=paper.group("zero-plane",plotGroup).insertBefore(plotPositiveGroup),zeroPlaneColor=chartOptions.zeroPlaneColor,zeroPlaneBorderColor=chartOptions.zeroPlaneBorderColor,zeroPlaneShowBorder=chartOptions.zeroPlaneShowBorder,elements.zeroplane=paper.cubepath(yBasePos-xDepth,canvasTop+yDepth,1,canvasHeight,xDepth,yDepth,zeroPlaneGroup).attr({fill:[zeroPlaneColor,!use3DLighting],stroke:zeroPlaneBorderColor||NONE,"stroke-width":zeroPlaneShowBorder?1:0})),(plotNegativeGroupArray=plotNegativeGroup.data("categoryplots"))||(plotNegativeGroup.data("categoryplots",new Array(ln)),plotNegativeGroupArray=plotNegativeGroup.data("categoryplots")),(plotPositiveGroupArray=plotPositiveGroup.data("categoryplots"))||(plotPositiveGroup.data("categoryplots",new Array(ln)),plotPositiveGroupArray=plotPositiveGroup.data("categoryplots")),i=0;i<ln;i+=1)plotNegativeGroupArray[i]=plotNegativeGroupArray[i]||paper.group(plotNegativeGroup),plotPositiveGroupArray[i]=plotPositiveGroupArray[i]||paper.group(plotPositiveGroup);else plotGroup.attrs["clip-rect"]||plotGroup.attr({"clip-rect":elements["clip-canvas"]}),targetGroup=plotGroup;for(i=0,fi=ln-1;i<ln;i+=1,fi-=1)setElem=hotElem=null,null===(y=(set=data[i]).y)?(plotItem=plotItems[i])&&(setElem=plotItem.graphic,is3D||setElem.attr({width:0})):(x=pluckNumber(set.x,i),setLink=set.link,toolText=set.toolText,setBorderWidth=toFloat(set.borderWidth)||0,yPos=xAxis.getAxisPosition(x)+yPosFactor,previousYPos=(previousY=set.previousY)?yAxis.getAxisPosition(previousY):yBasePos,xPos=yAxis.getAxisPosition(y+(previousY||0)),width=mathAbs(xPos-previousYPos),isNegative=!0,y>0&&(xPos=previousYPos,isNegative=!1),eventArgs={index:i,link:setLink,value:set.y,displayValue:set.displayValue,categoryLabel:set.categoryLabel,toolText:set.toolText,id:plot.userID,datasetIndex:plot.index,datasetName:plot.name,visible:plot.visible},is3D?(targetGroup=y<0?plotNegativeGroupArray:plotPositiveGroupArray,(plotItem=plotItems[i])||(plotItem=plotItems[i]={index:i,value:y,graphic:paper.cubepath(targetGroup[fi]),dataLabel:null,tracker:null}),setElem=plotItem.graphic,setRolloutAttr=setRolloverAttr={},(setHoverEffect=set.hoverEffects)&&(setRolloutAttr={fill:[toRaphaelColor(set.color),!use3DLighting],stroke:setBorderWidth&&toRaphaelColor(set.borderColor)||"NONE","stroke-width":setBorderWidth},setRolloverProperties=set.rolloverProperties,setRolloverAttr={fill:[toRaphaelColor(setRolloverProperties.color),!use3DLighting],stroke:setRolloverProperties.borderWidth&&toRaphaelColor(setRolloverProperties.borderColor)||"NONE","stroke-width":setRolloverProperties.borderWidth}),setElem.attr({cubepath:[animationDuration?yBasePos-xDepth:xPos-xDepth,yPos+yDepth,animationDuration?0:width,height,xDepth,yDepth],fill:[toRaphaelColor(set.color),!use3DLighting],stroke:setBorderWidth&&toRaphaelColor(set.borderColor)||"NONE","stroke-width":setBorderWidth,"stroke-dasharray":set.dashStyle,cursor:setLink?"pointer":"",visibility:seriesVisibility}).shadow(seriesOptions.shadow&&set.shadow,shadowGroup).data("BBox",{height:height,width:width,x:xPos,y:yPos}),animationDuration&&setElem.animate({cubepath:[xPos-xDepth,yPos+yDepth,width,height,xDepth,yDepth]},animationDuration,"normal",chart.getAnimationCompleteFn()),(setLink||isTooltip)&&(!isStacked&&width<HTP&&(xPos-=(HTP-width)/2,width=HTP),plotItem.tracker||(plotItem.tracker=paper.cubepath(trackerLayer)),(hotElem=plotItem.tracker).attr({cubepath:[xPos-xDepth,yPos+yDepth,width,height,xDepth,yDepth],cursor:setLink?"pointer":"",stroke:setBorderWidth&&TRACKER_FILL||"NONE","stroke-width":setBorderWidth,fill:TRACKER_FILL,ishot:!0})),(hotElem||setElem).data("eventArgs",eventArgs).click(clickFunc).hover(rolloverResponseSetter(setElem,setRolloverAttr),rolloutResponseSetter(setElem,setRolloutAttr)).tooltip(toolText),(hotElem||setElem)._.cubetop.data("eventArgs",eventArgs).click(clickFunc).hover(rolloverResponseSetter(setElem,setRolloverAttr),rolloutResponseSetter(setElem,setRolloutAttr)),(hotElem||setElem)._.cubeside.data("eventArgs",eventArgs).click(clickFunc).hover(rolloverResponseSetter(setElem,setRolloverAttr),rolloutResponseSetter(setElem,setRolloutAttr)),(!isStacked||isStacked&&y<0)&&(setElem.toBack(),hotElem&&hotElem.toBack())):(toInt(xPos)<=canvasLeft&&(width+=xPos,xPos=canvasLeft+setBorderWidth/2+.2,chartOptions.xAxisLineVisible&&!hasValidCanvasBorder&&(xPos-=1),width-=xPos),mathRound(xPos+width)>=canvasRight&&(width=canvasRight-xPos-setBorderWidth/2-.2),xPos=(crispBox=R.crispBound(xPos,yPos,width,height,setBorderWidth)).x,yPos=crispBox.y,width=crispBox.width,height=crispBox.height,width<=1&&(width=1,xPos+=y<0?-width:0===y?0:effectiveZeroPlaneThickness>1?width:0),(plotItem=plotItems[i])||(plotItem=plotItems[i]={index:i,value:y,height:height,graphic:null,dataLabel:null,tracker:null}),setElem=plotItem.graphic,setRolloutAttr=setRolloverAttr={},(setHoverEffect=set.hoverEffects)&&(setRolloutAttr={fill:toRaphaelColor(set.color),stroke:toRaphaelColor(set.borderColor),"stroke-width":setBorderWidth,"stroke-dasharray":set.dashStyle},setRolloverProperties=set.rolloverProperties,setRolloverAttr={fill:toRaphaelColor(setRolloverProperties.color),stroke:toRaphaelColor(setRolloverProperties.borderColor),"stroke-width":setRolloverProperties.borderWidth,"stroke-dasharray":setRolloverProperties.dashStyle}),attrObj={x:animationDuration?yBasePos:xPos,y:yPos,width:animationDuration?0:width||1,height:height,r:plotRadius,fill:toRaphaelColor(set.color),stroke:toRaphaelColor(set.borderColor),"stroke-width":setBorderWidth,"stroke-dasharray":set.dashStyle,"stroke-linejoin":"miter",cursor:setLink?"pointer":"",visibility:seriesVisibility},setElem?setElem.attr(attrObj):setElem=plotItem.graphic=paper.rect(attrObj,targetGroup),setElem.shadow(seriesOptions.shadow&&set.shadow,shadowGroup).data("BBox",crispBox),animationDuration&&setElem.animate({x:xPos,width:width||1},animationDuration,"normal",chart.getAnimationCompleteFn()),animationComplete=void 0,(setLink||isTooltip)&&(!isStacked&&width<HTP&&(xPos-=(HTP-width)/2,width=HTP),hotElem=plotItem.tracker,attrObj={x:xPos,y:yPos,width:width,height:height,r:plotRadius,cursor:setLink?"pointer":"",stroke:TRACKER_FILL,"stroke-width":setBorderWidth,fill:TRACKER_FILL,ishot:!0},hotElem?hotElem.attr(attrObj):hotElem=plotItem.tracker=paper.rect(attrObj,trackerLayer),hotElem.data("eventArgs",eventArgs)),(hotElem||setElem).data("eventArgs",eventArgs).click(clickFunc).hover(rolloverResponseSetter(setElem,setRolloverAttr),rolloutResponseSetter(setElem,setRolloutAttr)).tooltip(toolText)),valEle=chart.drawPlotBarLabel(plot,dataOptions,i,xPos,yPos)),valEle&&datasetGraphics.push(valEle),setElem&&datasetGraphics.push(setElem),hotElem&&datasetGraphics.push(hotElem),chart.drawTracker&&chart.drawTracker.call(chart,plot,dataOptions,i);return plot.visible=!1!==dataOptions.visible,plot},drawPlotBarLabel:function(plot,dataOptions,i,xPos,yPos,dataLabelsLayer){var chart=this,options=this.options,logic=this.logic,chartOptions=options.chart,seriesOptions=options.plotOptions.series,paper=this.paper,layers=this.layers,style=seriesOptions.dataLabels.style,rotateValues=1===chartOptions.rotateValues?270:0,canvasLeft=this.canvasLeft,canvasWidth=this.canvasWidth,plotItems=plot.items,data,set=plot.data[i],plotItem=plotItems[i],valuePadding=chartOptions.valuePadding+2,setElem=plotItem.graphic,valEle=plotItem.dataLabel,isNegative=set.y<0,isStacked=logic.isStacked,is3D=logic.is3D,xDepth=chartOptions.xDepth||0,yDepth=chartOptions.yDepth||0,displayValue=set.displayValue,seriesVisibility=!1===dataOptions.visible?"hidden":"visible",placeValuesInside=chartOptions.placeValuesInside,height,colBBox,insideColSpace,outsideColSpace,textHeight,textY,textX,bBoxObj,origTextWidth,textWidth,textGutter,width,xAdjust;return dataLabelsLayer=dataLabelsLayer||layers.datalabels,defined(displayValue)&&displayValue!==BLANK&&null!==set.y?(valEle||(valEle=plotItem.dataLabel=paper.text({class:"fusioncharts-label",text:displayValue,"font-size":style.fontSize,"text-anchor":isStacked?"middle":isNegative?placeValuesInside?"start":"end":placeValuesInside?"end":"start",title:set.originalText||"",fill:style.color,x:0,y:0,"line-height":style.lineHeight},dataLabelsLayer).attr("text-bound",[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash])),bBoxObj=valEle.getBBox(),height=(colBBox=setElem.data("BBox")).height,width=colBBox.width,textHeight=rotateValues?bBoxObj.width:bBoxObj.height,textWidth=origTextWidth=bBoxObj.width,textWidth+=valuePadding,insideColSpace=height,textY=yPos+.5*height,textX=xPos+(isNegative?0:width),textGutter=4,xAdjust=valuePadding,outsideColSpace=isNegative?xPos-canvasLeft:canvasLeft+canvasWidth-(xPos+width),isStacked?(textX+=.5*(isNegative?width:-width),textX-=is3D?xDepth:0,textY+=is3D?yDepth:0):(placeValuesInside?width>=textWidth?(textX+=isNegative?xAdjust:-xAdjust,is3D&&(textX-=xDepth,textY+=yDepth)):(textX+=isNegative?-xAdjust:xAdjust,is3D&&isNegative&&(textX-=xDepth)):outsideColSpace>=textWidth?(textX+=isNegative?-xAdjust:xAdjust,is3D&&isNegative&&(textX-=xDepth,textY+=xDepth)):(textX+=isNegative?xAdjust:-xAdjust,is3D&&(textX-=xDepth,textY+=yDepth)),textX>canvasLeft+canvasWidth&&(textX=canvasLeft+canvasWidth-.5*bBoxObj.width-4),textX<canvasLeft&&(textX=canvasLeft+.5*bBoxObj.width+4)),valEle.attr({x:textX,y:textY,visibility:seriesVisibility})):valEle&&valEle.attr({text:BLANK}),valEle},drawPlotBar3d:function(plot,dataOptions){this.drawPlotBar.call(this,plot,dataOptions)},drawPlotLine:function(plot,dataOptions){var chart=this,paper=chart.paper,elements=chart.elements,options=chart.options,chartOptions=options.chart,logic=chart.logic,seriesOptions=options.plotOptions.series,plotItems=plot.items,datasetGraphics=plot.graphics=plot.graphics||[],plotItem,xAxis=chart.xAxis[dataOptions.xAxis||0],yAxis=chart.yAxis[dataOptions.yAxis||0],isForceSegmentedLine=logic.multisetRealtime||logic.dragExtended,isWaterfall=logic.isWaterfall,definedGroupPadding,chartAttributes,groupPadding,maxColWidth,groupNetWidth,groupNetHalfWidth=0,tooltipOptions,isTooltip=!1!==(options.tooltip||{}).enabled,toolText,animationDuration=isNaN(+seriesOptions.animation)&&seriesOptions.animation.duration||1e3*seriesOptions.animation,lineAnimation,style=seriesOptions.dataLabels.style,labelCSS={fontFamily:style.fontFamily,fontSize:style.fontSize,lineHeight:style.lineHeight,fontWeight:style.fontWeight,fontStyle:style.fontStyle},xDepth=chartOptions.xDepth||0,yDepth=chartOptions.yDepth||0,series2D3Dshift=chartOptions.series2D3Dshift,isStepLine=dataOptions.step,stepLineDrawVerticalJoins=dataOptions.drawVerticalJoins,stepLineUseForwardSteps=dataOptions.useForwardSteps,data=plot.data,seriesVisibility=!1===dataOptions.visible?"hidden":"visible",i,ln=data.length,xAxisZeroPos=xAxis.getAxisPosition(0),xAxisFirstPos,pointDistance=xAxis.getAxisPosition(1)-xAxisZeroPos,totalCanvasWidth=pointDistance*ln,scroll=xAxis.axisData.scroll||{},isScroll=chartOptions.hasScroll||!1,scrollPosition,connectNullData=seriesOptions.connectNullData,chartW=chart.chartWidth,chartH=chart.chartHeight,animationComplete=function(){lineGroup.attr({"clip-rect":null}),anchorShadowGroup.show(),lineShadowGroup.show(),anchorGroup.show(),dataLabelsLayer.attr({transform:"...t"+-chartW+","+-chartH})},set,setLink,markerRadius,x,y,previousY,lastXPos,lastYPos=null,xPos,yPos,seriesLineWidth=seriesOptions.connectorWidth=toFloat(dataOptions.lineWidth),plotColor=dataOptions.color,setColor,setDashStyle,seriesDashStyle=seriesOptions.connectorDashStyle=dataOptions.dashStyle,marker,symbol,dip,setMarkerElem,hotElem,setRolloverProperties,setRolloutAttr,setRolloverAttr,setLineElem,layers=chart.layers,datasetLayer=layers.dataset=layers.dataset||paper.group("dataset-orphan"),dataLabelsLayer=layers.datalabels=layers.datalabels||paper.group("datalabels").insertAfter(datasetLayer),trackerLayer=layers.tracker,clipCanvasInit=elements["clip-canvas-init"].slice(0),clipCanvas=elements["clip-canvas"].slice(0),isReverse=yAxis.axisData.reversed,yMax=yAxis.max,yMin=yAxis.min,yBase=yMax>0&&yMin>0?isReverse?yMax:yMin:yMax<0&&yMin<0?isReverse?yMin:yMax:isReverse?yMax:0,yBasePos=yAxis.getAxisPosition(yBase)+(series2D3Dshift?yDepth:0),linePath=[],trackerRadius=chartOptions.anchorTrackingRadius,isDragable=/drag/gi.test(chart.logic.rendererId),groupId,eventArgs,group,lineGroupParent,lineShadowGroup,anchorShadowGroup,lineGroup,anchorGroup,anchorShadow,lineSegmentChange,lscthash,valEle,imgRef,lastMoveCommand=[],clickFunc=function(data){var ele=this;plotEventHandler.call(ele,chart,data)},rolloverResponseSetter=function(plotItem){return function(data){chart.hoverPlotAnchor(this,data,ROLLOVER,plotItem,chart)}},rolloutResponseSetter=function(plotItem){return function(data){chart.hoverPlotAnchor(this,data,ROLLOUT,plotItem,chart)}},onLoadSetter=function(x,y,marker,plotItem,eventArgs,toolText,setRollover,i){return function(){var imgRef=this,url=marker.imageUrl,scale=marker.imageScale,alpha=marker.imageAlpha,hoverAlpha=setRollover.imageHoverAlpha,hoverScale=setRollover.imageHoverScale,imgH=this.height*scale*.01,imgW=this.width*scale*.01,hotW=this.width*hoverScale*.01,trackerAttr;setRolloutAttr={x:x-this.width*scale*.005,y:y-this.height*scale*.005,width:imgW,height:imgH,alpha:alpha},setRolloverAttr={x:x-this.width*hoverScale*.005,y:y-this.height*hoverScale*.005,width:hotW,height:this.height*hoverScale*.01,alpha:hoverAlpha},trackerAttr=hotW>imgW?setRolloverAttr:setRolloutAttr,isDragable&&(trackerAttr={cx:x,cy:y,r:.5*mathMax(imgH,imgW)}),plotItem.graphic=setMarkerElem=paper.image(url,anchorGroup).attr(setRolloutAttr).css({opacity:.01*alpha}).data("alwaysInvisible",!scale).data("setRolloverProperties",setRollover).data("setRolloverAttr",setRolloverAttr).data("setRolloutAttr",setRolloutAttr).data("anchorRadius",scale).data("anchorHoverRadius",hoverScale),setMarkerElem&&datasetGraphics.push(setMarkerElem),(setLink||isTooltip||setRollover)&&(hotElem=plotItem.tracker=(isDragable?paper.circle(trackerLayer):paper.rect(trackerLayer)).attr(trackerAttr).attr({cursor:setLink?"pointer":"",stroke:TRACKER_FILL,"stroke-width":marker.lineWidth,fill:TRACKER_FILL,ishot:!0,visibility:seriesVisibility}).data("eventArgs",eventArgs).data("groupId",groupId).click(clickFunc).hover(rolloverResponseSetter(plotItem),rolloutResponseSetter(plotItem)).tooltip(toolText)),chart.drawTracker&&chart.drawTracker.call(chart,plot,dataOptions,i),(valEle=plotItem.dataLabel=chart.drawPlotLineLabel(plot,dataOptions,i,x,y))&&datasetGraphics.push(valEle)}},onErrorSetter=function(x,y,marker,plotItem,eventArgs,toolText,setRollover,i){return function(){(valEle=plotItem.dataLabel=chart.drawPlotLineLabel(plot,dataOptions,i,x,y))&&datasetGraphics.push(valEle)}};for(chart.addCSSDefinition(".fusioncharts-datalabels .fusioncharts-label",labelCSS),dataLabelsLayer.attr("class","fusioncharts-datalabels"),seriesOptions.connectorOpacity=R.color(plotColor).opacity,yAxis.yBasePos=yBasePos,isWaterfall&&(definedGroupPadding=(chartAttributes=chart.definition.chart)&&chartAttributes.plotspacepercent,groupPadding=seriesOptions.groupPadding,maxColWidth=seriesOptions.maxColWidth,groupNetHalfWidth=(groupNetWidth=(1-.01*definedGroupPadding)*pointDistance||mathMin(pointDistance*(1-2*groupPadding),1*maxColWidth))/2),dataLabelsLayer.attr({transform:"...t"+chartW+","+chartH}),animationDuration&&chart.animationCompleteQueue.push({fn:animationComplete,scope:chart}),lineGroupParent=(group=datasetLayer).line||(group.line=paper.group("line-connector",group)),lineShadowGroup=plot.lineShadowLayer||(plot.lineShadowLayer=paper.group("connector-shadow",lineGroupParent)),anchorShadowGroup=plot.anchorShadowLayer||(plot.anchorShadowLayer=paper.group("anchor-shadow",lineGroupParent)),lineGroup=plot.lineLayer||(plot.lineLayer=paper.group("connector",lineGroupParent)),(anchorGroup=plot.anchorLayer||(plot.anchorLayer=paper.group("anchors",lineGroupParent))).hide(),lineShadowGroup.hide(),anchorShadowGroup.hide(),i=0;i<ln;i+=1)y=(set=data[i]).y,previousY=set.previousY||0,toolText=set.toolText,groupId=plot.index+"_"+i,setLineElem=valEle=setMarkerElem=hotElem=null,plotItem=plotItems[i]={index:i,value:null,graphic:null,connector:null,dataLabel:null,shadowGroup:anchorShadowGroup,tracker:null},null===y?(lastMoveCommand.length=0,0===connectNullData&&(lastYPos=null)):(x=pluckNumber(set.x,i),setLink=set.link,"boxandwhisker"===dataOptions.relatedSeries&&dataOptions.pointStart&&(x+=dataOptions.pointStart),yPos=yAxis.getAxisPosition(y+previousY)+(series2D3Dshift?yDepth:0),xPos=xAxis.getAxisPosition(x)-xDepth,xPos=getCrispValues(xPos,seriesLineWidth,seriesLineWidth).position,yPos=getCrispValues(yPos,seriesLineWidth,seriesLineWidth).position,(marker=set.marker)&&marker.enabled&&(dip="spoke"===(symbol=marker.symbol.split("_"))[0]?1:0,markerRadius=marker.radius,anchorShadow=marker.shadow,eventArgs={index:i,link:setLink,value:set.y,displayValue:set.displayValue,categoryLabel:set.categoryLabel,toolText:set.toolText,id:plot.userID,datasetIndex:plot.index,datasetName:plot.name,visible:plot.visible},setRolloutAttr=setRolloverAttr={},setRolloverProperties=set.rolloverProperties,marker.imageUrl?((imgRef=new Image).onload=onLoadSetter(xPos,yPos,marker,plotItem,eventArgs,toolText,setRolloverProperties,i),imgRef.onerror=onErrorSetter(xPos,yPos,marker,plotItem,eventArgs,toolText,setRolloverProperties,i),imgRef.src=marker.imageUrl):(setRolloverProperties&&(setRolloutAttr={polypath:[symbol[1]||2,xPos,yPos,markerRadius,marker.startAngle,dip],fill:toRaphaelColor(marker.fillColor),"stroke-width":marker.lineWidth,stroke:toRaphaelColor(marker.lineColor)},setRolloverAttr={polypath:[setRolloverProperties.sides||2,xPos,yPos,setRolloverProperties.radius,setRolloverProperties.startAngle,setRolloverProperties.dip],fill:toRaphaelColor(setRolloverProperties.fillColor),"stroke-width":setRolloverProperties.lineWidth,stroke:toRaphaelColor(setRolloverProperties.lineColor)}),setMarkerElem=plotItem.graphic=paper.polypath(symbol[1]||2,xPos,yPos,markerRadius,marker.startAngle,dip,anchorGroup).attr({fill:toRaphaelColor(marker.fillColor),"stroke-width":marker.lineWidth,stroke:toRaphaelColor(marker.lineColor),cursor:setLink?"pointer":"",visibility:markerRadius?seriesVisibility:"hidden"}).data("alwaysInvisible",!markerRadius).data("setRolloverProperties",setRolloverProperties).data("setRolloverAttr",setRolloverAttr).data("setRolloutAttr",setRolloutAttr).data("anchorRadius",markerRadius).data("anchorHoverRadius",setRolloverProperties&&setRolloverProperties.radius).shadow(anchorShadow||!1,anchorShadowGroup),(setLink||isTooltip||setRolloverProperties)&&(markerRadius=mathMax(markerRadius,setRolloverProperties&&setRolloverProperties.radius||0,trackerRadius),hotElem=plotItem.tracker=paper.circle({cx:xPos,cy:yPos,r:markerRadius,cursor:setLink?"pointer":"",stroke:TRACKER_FILL,"stroke-width":marker.lineWidth,fill:TRACKER_FILL,ishot:!0,visibility:seriesVisibility},trackerLayer)),(hotElem||setMarkerElem).data("eventArgs",eventArgs).data("groupId",groupId).click(clickFunc).hover(rolloverResponseSetter(plotItem),rolloutResponseSetter(plotItem)).tooltip(toolText),chart.drawTracker&&chart.drawTracker.call(chart,plot,dataOptions,i))),lineSegmentChange=lscthash!==[toRaphaelColor(set.color||plotColor),set.dashStyle||seriesDashStyle].join(":"),null!==lastYPos?(lastMoveCommand.length&&(linePath=linePath.concat(lastMoveCommand),lastMoveCommand.length=0),(isForceSegmentedLine||isWaterfall||!linePath.join(""))&&linePath.push(M,lastXPos,lastYPos),isWaterfall&&linePath.push("m",-groupNetHalfWidth,0),isStepLine?stepLineUseForwardSteps?(linePath.push(H,xPos),isWaterfall&&linePath.push("h",groupNetHalfWidth),stepLineDrawVerticalJoins?linePath.push(V,yPos):linePath.push("m",0,yPos-lastYPos)):(stepLineDrawVerticalJoins&&linePath.push(V,yPos),linePath.push(M,lastXPos,yPos,H,xPos)):linePath.push(L,xPos,yPos),(isForceSegmentedLine||lineSegmentChange)&&(setLineElem=plotItem.connector=paper.path(linePath,lineGroup).attr({"stroke-dasharray":setDashStyle,"stroke-width":seriesLineWidth,stroke:setColor,"stroke-linecap":"round","stroke-linejoin":seriesLineWidth>2?"round":"miter",visibility:seriesVisibility}).shadow(seriesOptions.shadow&&set.shadow,lineShadowGroup),linePath=[])):!isForceSegmentedLine&&lastMoveCommand.push(M,xPos,yPos),(!marker||!marker.imageUrl)&&(valEle=plotItem.dataLabel=chart.drawPlotLineLabel(plot,dataOptions,i,xPos,yPos)),lastXPos=xPos,lastYPos=yPos,lscthash=[setColor=toRaphaelColor(set.color||plotColor),setDashStyle=set.dashStyle||seriesDashStyle].join(":")),valEle&&datasetGraphics.push(valEle),setMarkerElem&&datasetGraphics.push(setMarkerElem),setLineElem&&datasetGraphics.push(setLineElem),hotElem&&datasetGraphics.push(hotElem);return!isForceSegmentedLine&&linePath.join("")&&(setLineElem=paper.path(linePath,lineGroup).attr({"stroke-dasharray":setDashStyle,"stroke-width":seriesLineWidth,stroke:setColor,"stroke-linecap":"round","stroke-linejoin":seriesLineWidth>2?"round":"miter",visibility:seriesVisibility}).shadow(seriesOptions.shadow&&set.shadow,lineShadowGroup))&&datasetGraphics.push(setLineElem),isScroll&&(scrollPosition=scroll.startPercent,clipCanvas[2]=totalCanvasWidth+clipCanvasInit[0],1===scrollPosition&&(clipCanvasInit[0]=clipCanvas[2],clipCanvas[0]=0)),animationDuration?(lineAnimation=R.animation({"clip-rect":clipCanvas},animationDuration,isScroll?"easeIn":"normal",chart.getAnimationCompleteFn()),lineGroup.attr({"clip-rect":clipCanvasInit}).animate(isWaterfall?lineAnimation.delay(animationDuration):lineAnimation)):(animationComplete&&animationComplete(),animationComplete=void 0),plot.visible=!1!==dataOptions.visible,plot},hoverPlotAnchor:function(event,data,eventType,plotItem,chart){var plotElem=plotItem.graphic,valElem=plotItem.dataLabel,options,chartOptions=chart.options.chart,rotateValues=1===chartOptions.rotateValues?270:0,setRolloverProperties=plotElem.data("setRolloverProperties"),isRealtime=plotElem.data("isRealtime"),anchorDef=isRealtime&&plotElem.attr("polypath"),elemHoverAttr=plotElem.data("setRolloverAttr"),isImg="image"===plotElem.type,elemUnHoverAttr=plotElem.data("setRolloutAttr"),radiusDiff=valElem&&(valElem.data("isBelow")?1:-1)*(isImg?.5*(elemHoverAttr.height-elemUnHoverAttr.height):plotElem.data("anchorHoverRadius")-plotElem.data("anchorRadius")),selectedAttr=eventType==ROLLOVER?elemHoverAttr:elemUnHoverAttr,valAnimation={transform:"T0,"+(eventType===ROLLOVER?radiusDiff:0)+"R"+rotateValues},staticAttr={fill:selectedAttr.fill,"stroke-width":selectedAttr["stroke-width"],stroke:selectedAttr.stroke},animationAttr=isImg?selectedAttr:{polypath:selectedAttr.polypath},shiftValues=chartOptions.syncLabelWithAnchor,anchorRadius=plotElem.data("anchorRadius"),anchorHoverRaius=plotElem.data("anchorHoverRadius"),animationDuration=!(/,0\)$/.test(elemHoverAttr.fill)&&/,0\)$/.test(elemUnHoverAttr.fill))&&plotElem.data("anchorHoverRadius")-plotElem.data("anchorRadius")&&setRolloverProperties.animation&&50;valElem&&valElem.data("isMiddle")&&(valAnimation={transform:"T,"+(eventType===ROLLOVER?radiusDiff:0)+",0R"+rotateValues}),setRolloverProperties&&((eventType==ROLLOVER&&0!==anchorHoverRaius||eventType==ROLLOUT&&0!==anchorRadius)&&plotElem.attr({visibility:"visible"}),isImg?plotElem.css({opacity:.01*animationAttr.alpha}):plotElem.attr(staticAttr),isRealtime&&(isImg||(animationAttr.polypath[1]=anchorDef[1],animationAttr.polypath[2]=anchorDef[2])),plotElem.stop(),plotElem.animate(animationAttr,animationDuration,"easeOut",(function(){(eventType==ROLLOVER&&!anchorHoverRaius||eventType==ROLLOUT&&!anchorRadius)&&plotElem.attr({visibility:"hidden"})})),valElem&&valElem.stop(),animationDuration&&shiftValues&&valElem&&valElem.animate(valAnimation,animationDuration,"easeOut")),plotEventHandler.call(event,chart,data,eventType)},drawPlotArea:function(plot,dataOptions){var chart=this,paper=chart.paper,options=chart.options,chartOptions=options.chart,logic=chart.logic,seriesOptions=options.plotOptions.series,elements=chart.elements,plotItems=plot.items,datasetGraphics=plot.graphics=plot.graphics||[],plotItem,xAxis=chart.xAxis[dataOptions.xAxis||0],yAxis=chart.yAxis[dataOptions.yAxis||0],isReverse=yAxis.axisData.reversed,xDepth=chartOptions.xDepth||0,yDepth=chartOptions.yDepth||0,isStacked=logic.isStacked,tooltipOptions,isTooltip=!1!==(options.tooltip||{}).enabled,toolText,eventArgs,style=seriesOptions.dataLabels.style,labelCSS={fontFamily:style.fontFamily,fontSize:style.fontSize,lineHeight:style.lineHeight,fontWeight:style.fontWeight,fontStyle:style.fontStyle,color:style.color},animationDuration=isNaN(+seriesOptions.animation)&&seriesOptions.animation.duration||1e3*seriesOptions.animation,series2D3Dshift=chartOptions.series2D3Dshift,chartAttributes,isOnlyLineBorder="0"===chart.definition.chart.drawfullareaborder,data=plot.data,seriesVisibility=!1===dataOptions.visible?"hidden":"visible",i,ln=data.length,xAxisZeroPos=xAxis.getAxisPosition(0),xAxisFirstPos,pointDistance,totalCanvasWidth=(xAxis.getAxisPosition(1)-xAxisZeroPos)*ln,scroll=xAxis.axisData.scroll||{},isScroll=chartOptions.hasScroll||!1,scrollPosition,connectNullData=seriesOptions.connectNullData,set,setLink,anchorRadius,x,y,previousY,previousYPos,yMax=yAxis.max,yMin=yAxis.min,isAllPositiveZero,isPositiveNegative,yBase=yMax>0&&yMin<0?0:!isReverse&&(yMax>0&&yMin>=0)?yMin:yMax,yBasePos=yAxis.getAxisPosition(yBase)+(series2D3Dshift?yDepth:0),chartW=chart.chartWidth,chartH=chart.chartHeight,animationComplete=function(){areaGroup.attr({"clip-rect":null}),anchorGroup.show(),anchorShadowGroup.show(),dataLabelsLayer.attr({transform:"...t"+-chartW+","+-chartH})},optimalYPos,lastXPos,lastYPos=null,xPos,yPos,lineWidth=dataOptions.lineWidth,dashStyle=dataOptions.dashStyle,fillColor=toRaphaelColor(dataOptions.fillColor),lineColor=toRaphaelColor(dataOptions.lineColor),validPointsJoined=0,isDragable=/drag/gi.test(chart.logic.rendererId),symbol,anchorElement,hotElem,setRolloverProperties,setRolloutAttr,setRolloverAttr,areaPath=[],areaReversePath=[],areaElement=null,linePath=[],lineElement,layers=chart.layers,datasetLayer=layers.dataset=layers.dataset||paper.group("dataset-orphan"),dataLabelsLayer=layers.datalabels=layers.datalabels||paper.group("datalabels").insertAfter(datasetLayer),trackerLayer=layers.tracker,clipCanvasInit=elements["clip-canvas-init"].slice(0),clipCanvas=elements["clip-canvas"].slice(0),trackerRadius=chartOptions.anchorTrackingRadius,attrObj,group,lineGroupParent,lineShadowGroup,anchorShadowGroup,lineGroup,anchorGroup,areaGroup,shadowGroup,areaAnimation,anchorShadow,imgRef,marker,valEle,clickFunc=function(data){var ele=this;plotEventHandler.call(ele,chart,data)},rolloverResponseSetter=function(plotItem){return function(data){chart.hoverPlotAnchor(this,data,ROLLOVER,plotItem,chart)}},rolloutResponseSetter=function(plotItem){return function(data){chart.hoverPlotAnchor(this,data,ROLLOUT,plotItem,chart)}},onLoadSetter=function(x,y,marker,plotItem,eventArgs,toolText,setRollover,i){return function(){var imgRef=this,url=marker.imageUrl,scale=marker.imageScale,alpha=marker.imageAlpha,hoverAlpha=setRollover.imageHoverAlpha,hoverScale=setRollover.imageHoverScale,imgW=this.width*scale*.01,hotW=this.width*hoverScale*.01,trackerAttr;setRolloutAttr={x:x-this.width*scale*.005,y:y-this.height*scale*.005,width:imgW,height:this.height*scale*.01,alpha:alpha},setRolloverAttr={x:x-this.width*hoverScale*.005,y:y-this.height*hoverScale*.005,width:hotW,height:this.height*hoverScale*.01,alpha:hoverAlpha},trackerAttr=hotW>imgW?setRolloverAttr:setRolloutAttr,isDragable&&(trackerAttr={cx:x,cy:y,r:.5*mathMax(hotW,imgW)}),plotItem.graphic=anchorElement=paper.image(url,anchorGroup).attr(setRolloutAttr).css({opacity:.01*alpha}).data("alwaysInvisible",!scale).data("setRolloverProperties",setRollover).data("setRolloverAttr",setRolloverAttr).data("setRolloutAttr",setRolloutAttr).data("anchorRadius",scale).data("anchorHoverRadius",hoverScale),anchorElement&&datasetGraphics.push(anchorElement),(setLink||isTooltip||setRollover)&&(attrObj=extend2({cursor:setLink?"pointer":"",stroke:TRACKER_FILL,"stroke-width":marker.lineWidth,fill:TRACKER_FILL,ishot:!0,visibility:seriesVisibility},trackerAttr),hotElem=plotItem.tracker=(isDragable?paper.circle(attrObj,trackerLayer):paper.rect(attrObj,trackerLayer)).data("eventArgs",eventArgs).click(clickFunc).hover(rolloverResponseSetter(plotItem),rolloutResponseSetter(plotItem)).tooltip(toolText),chart.drawTracker&&chart.drawTracker.call(chart,plot,dataOptions,i)),(valEle=plotItem.dataLabel=chart.drawPlotLineLabel(plot,dataOptions,i,x,y))&&datasetGraphics.push(valEle)}},onErrorSetter=function(x,y,marker,plotItem,eventArgs,toolText,setRollover,i){return function(){(valEle=plotItem.dataLabel=chart.drawPlotLineLabel(plot,dataOptions,i,x,y))&&datasetGraphics.push(valEle)}};for(chart.addCSSDefinition(".fusioncharts-datalabels .fusioncharts-label",labelCSS),dataLabelsLayer.attr("class","fusioncharts-datalabels"),yAxis.yBasePos=yBasePos,dataLabelsLayer.attr({transform:"...t"+chartW+","+chartH}),animationDuration&&chart.animationCompleteQueue.push({fn:animationComplete,scope:chart}),group=datasetLayer,isStacked&&(shadowGroup=group.shadows||(group.shadows=paper.group("shadows",group).toBack())),areaGroup=group.area=group.area||paper.group("area",group),lineGroupParent=group.line||(group.line=paper.group("line-connector",group)),lineShadowGroup=plot.lineShadowLayer||(plot.lineShadowLayer=paper.group("connector-shadow",lineGroupParent)),anchorShadowGroup=plot.anchorShadowLayer||(plot.anchorShadowLayer=paper.group("anchor-shadow",lineGroupParent)),lineGroup=plot.lineLayer||(plot.lineLayer=paper.group("connector",lineGroupParent)),(anchorGroup=plot.anchorLayer||(plot.anchorLayer=paper.group("anchors",lineGroupParent))).hide(),anchorShadowGroup.hide(),group=datasetLayer,i=0;i<ln;i+=1)y=(set=data[i]).y,x=pluckNumber(set.x,i),xPos=xAxis.getAxisPosition(x)-xDepth,anchorElement=valEle=hotElem=null,plotItem=plotItems[i]={},null===y?(0===connectNullData&&(lastYPos=null,validPointsJoined>0&&(1===validPointsJoined?areaPath.splice(-8,8):(areaPath=areaPath.concat(areaReversePath)).push(Z),areaReversePath=[])),plotItem.chart=chart,plotItem.index=i,plotItem.value=y):(setLink=set.link,toolText=set.toolText,previousY=set.previousY,optimalYPos=(previousYPos=yAxis.getAxisPosition(previousY)||null)||yBasePos,yPos=yAxis.getAxisPosition(y+(previousY||0))+(series2D3Dshift?yDepth:0),(marker=set.marker)&&marker.enabled&&(eventArgs={index:i,link:setLink,value:set.y,displayValue:set.displayValue,categoryLabel:set.categoryLabel,toolText:set.toolText,id:plot.userID,datasetIndex:plot.index,datasetName:plot.name,visible:plot.visible},setRolloutAttr=setRolloverAttr={},setRolloverProperties=set.rolloverProperties,marker.imageUrl?((imgRef=new Image).onload=onLoadSetter(xPos,yPos,marker,plotItem,eventArgs,toolText,setRolloverProperties,i),imgRef.onerror=onErrorSetter(xPos,yPos,marker,plotItem,eventArgs,toolText,setRolloverProperties,i),imgRef.src=marker.imageUrl):(symbol=marker.symbol.split("_"),anchorRadius=marker.radius,anchorShadow=marker.shadow,setRolloverProperties&&(setRolloutAttr={polypath:[symbol[1]||2,xPos,yPos,anchorRadius,marker.startAngle,0],fill:toRaphaelColor(marker.fillColor),"stroke-width":marker.lineWidth,stroke:toRaphaelColor(marker.lineColor)},setRolloverProperties=set.rolloverProperties,setRolloverAttr={polypath:[setRolloverProperties.sides||2,xPos,yPos,setRolloverProperties.radius,setRolloverProperties.startAngle,setRolloverProperties.dip],fill:toRaphaelColor(setRolloverProperties.fillColor),"stroke-width":setRolloverProperties.lineWidth,stroke:toRaphaelColor(setRolloverProperties.lineColor)}),anchorElement=plotItem.graphic=paper.polypath(symbol[1]||2,xPos,yPos,anchorRadius,marker.startAngle,0,anchorGroup).attr({fill:toRaphaelColor(marker.fillColor),"stroke-width":marker.lineWidth,stroke:toRaphaelColor(marker.lineColor),cursor:setLink?"pointer":"",visibility:anchorRadius?seriesVisibility:"hidden"}).data("alwaysInvisible",!anchorRadius).data("setRolloverProperties",setRolloverProperties).data("setRolloverAttr",setRolloverAttr).data("setRolloutAttr",setRolloutAttr).data("anchorRadius",anchorRadius).data("anchorHoverRadius",setRolloverProperties&&setRolloverProperties.radius).shadow(anchorShadow||!1,anchorShadowGroup),(setLink||isTooltip||setRolloverProperties)&&(isStacked||(anchorRadius=mathMax(anchorRadius,setRolloverProperties&&setRolloverProperties.radius||0,trackerRadius)),hotElem=plotItem.tracker=paper.circle({cx:xPos,cy:yPos,r:anchorRadius,cursor:setLink?"pointer":"",stroke:TRACKER_FILL,"stroke-width":marker.lineWidth,fill:TRACKER_FILL,ishot:!0,visibility:seriesVisibility},trackerLayer)),(hotElem||anchorElement).data("eventArgs",eventArgs).click(clickFunc).hover(rolloverResponseSetter(plotItem),rolloutResponseSetter(plotItem)).tooltip(toolText),chart.drawTracker&&chart.drawTracker.call(chart,plot,dataOptions,i))),null===lastYPos?(linePath.push(M,xPos,",",yPos),areaPath.push(M,xPos,",",optimalYPos),validPointsJoined=0):linePath.push(L,xPos,",",yPos),areaPath.push(L,xPos,",",yPos),areaReversePath.unshift(L,xPos,",",optimalYPos),validPointsJoined++,lastXPos=xPos,lastYPos=yPos,(!marker||!marker.imageUrl)&&(valEle=plotItem.dataLabel=chart.drawPlotLineLabel(plot,dataOptions,i,xPos,yPos)),plotItem.chart=chart,plotItem.index=i,plotItem.value=y,plotItem.dataLabel=valEle),valEle&&datasetGraphics.push(valEle),anchorElement&&datasetGraphics.push(anchorElement),hotElem&&datasetGraphics.push(hotElem);return validPointsJoined>0&&(1===validPointsJoined?areaPath.splice(-8,8):(areaPath=areaPath.concat(areaReversePath)).push(Z)),(areaElement=plot.graphic=paper.path(areaPath,areaGroup).attr({fill:fillColor,"stroke-dasharray":dashStyle,"stroke-width":isOnlyLineBorder?0:lineWidth,stroke:lineColor,"stroke-linecap":"round","stroke-linejoin":lineWidth>2?"round":"miter",visibility:seriesVisibility}).shadow(seriesOptions.shadow&&set.shadow,shadowGroup))&&datasetGraphics.push(areaElement),isScroll&&(scrollPosition=scroll.startPercent,clipCanvas[2]=totalCanvasWidth+clipCanvasInit[0],1===scrollPosition&&(clipCanvasInit[0]=clipCanvas[2],clipCanvas[0]=0)),animationDuration?areaAnimation=areaGroup.attr({"clip-rect":clipCanvasInit}).animate({"clip-rect":clipCanvas},animationDuration,isScroll?"easeIn":"normal",chart.getAnimationCompleteFn()):(animationComplete&&animationComplete(),animationComplete=void 0),shadowGroup&&(animationDuration?shadowGroup.attr({"clip-rect":clipCanvasInit}).animateWith(areaGroup,areaAnimation,{"clip-rect":clipCanvas},animationDuration,isScroll?"easeIn":"normal",(function(){shadowGroup.attr({"clip-rect":null})})):shadowGroup.attr({"clip-rect":null})),isOnlyLineBorder&&(lineElement=plot.connector=paper.path(linePath,lineGroup).attr({"stroke-dasharray":dashStyle,"stroke-width":lineWidth,stroke:lineColor,"stroke-linecap":"round","stroke-linejoin":lineWidth>2?"round":"miter",visibility:seriesVisibility}),animationDuration?lineGroup.attr({"clip-rect":clipCanvasInit}).animateWith(areaGroup,areaAnimation,{"clip-rect":clipCanvas},animationDuration,isScroll?"easeIn":"normal",(function(){lineGroup.attr({"clip-rect":null})})):lineGroup.attr({"clip-rect":null}),lineElement&&datasetGraphics.push(lineElement)),plot.visible=!1!==dataOptions.visible,plot},drawPlotScatter:function(plot,dataOptions){var chart=this,options=chart.options,chartOptions=options.chart,seriesOptions=options.plotOptions.series,paper=chart.paper,elements=chart.elements,plotItems=plot.items,plotItem,datasetGraphics=plot.graphics=plot.graphics||[],xAxis=chart.xAxis[dataOptions.xAxis||0],yAxis=chart.yAxis[dataOptions.yAxis||0],data=plot.data,seriesVisibility=!1===dataOptions.visible?"hidden":"visible",tooltipOptions,isTooltip=!1!==(options.tooltip||{}).enabled,toolText,style=seriesOptions.dataLabels.style,labelCSS={fontFamily:style.fontFamily,fontSize:style.fontSize,lineHeight:style.lineHeight,fontWeight:style.fontWeight,fontStyle:style.fontStyle,color:style.color},animationDuration=isNaN(+seriesOptions.animation)&&seriesOptions.animation.duration||1e3*seriesOptions.animation,chartW=chart.chartWidth,chartH=chart.chartHeight,i,ln,set,setLink,x,y,lastXPos,lastYPos,xPos,yPos,lineWidth=dataOptions.lineWidth,isLine=lineWidth>0,lineColor=dataOptions.color,dashStyle=dataOptions.dashStyle,connectNullData=seriesOptions.connectNullData,linePath=[],marker,eventArgs,markerRadius,symbol,setElem,connectorElem,hotElem,setHoverEffect,setRolloverProperties,setRolloutAttr,setRolloverAttr,layers=chart.layers,datasetLayer=layers.dataset||(layers.dataset=paper.group("dataset-orphan")),dataLabelsLayer=layers.datalabels||(layers.datalabels=paper.group("datalabels").insertAfter(datasetLayer)),trackerLayer=layers.tracker,trackerRadius=chartOptions.anchorTrackingRadius,group,lineGroupParent,lineShadowGroup,anchorShadowGroup,lineGroup,anchorGroup,anchorShadow,anchorAnimation,groupId,valEle,clickFunc=function(data){var ele=this;plotEventHandler.call(ele,chart,data)},rolloverResponseSetter=function(plotItem){return function(data){chart.hoverPlotAnchor(this,data,ROLLOVER,plotItem,chart)}},rolloutResponseSetter=function(plotItem){return function(data){chart.hoverPlotAnchor(this,data,ROLLOUT,plotItem,chart)}};for(chart.addCSSDefinition(".fusioncharts-datalabels .fusioncharts-label",labelCSS),dataLabelsLayer.attr("class","fusioncharts-datalabels"),animationDuration&&(chart.animationCompleteQueue.push({fn:function(){dataLabelsLayer.attr({transform:"...t"+-chartW+","+-chartH})},scope:chart}),dataLabelsLayer.attr({transform:"...t"+chartW+","+chartH})),lineGroupParent=(group=datasetLayer).line||(group.line=paper.group("line-connector",group)),lineShadowGroup=plot.lineShadowLayer=paper.group("connector-shadow",lineGroupParent),anchorShadowGroup=plot.anchorShadowLayer=paper.group("anchor-shadow",lineGroupParent),lineGroup=plot.lineLayer=paper.group("connector",lineGroupParent),anchorGroup=plot.anchorLayer=paper.group("anchors",lineGroupParent),i=0,ln=data.length;i<ln;i+=1)marker=(set=data[i]).marker,xPos=yPos=setElem=valEle=hotElem=null,groupId=plot.index+"_"+i,y=set.y,x=set.x,null!==y&&null!==x?(marker&&marker.enabled&&(setLink=set.link,toolText=set.toolText,markerRadius=marker.radius,anchorShadow=marker.shadow,yPos=yAxis.getAxisPosition(y),xPos=xAxis.getAxisPosition(x),eventArgs={index:i,link:setLink,y:set.y,x:set.x,displayValue:set.displayValue,categoryLabel:set.categoryLabel,toolText:set.toolText,id:plot.userID,datasetIndex:plot.index,datasetName:plot.name,visible:plot.visible},symbol=marker.symbol.split("_"),plotItem=plotItems[i]={index:i,x:x,y:y,value:y},setRolloutAttr=setRolloverAttr={},(setHoverEffect=set.hoverEffects)&&(setRolloutAttr={polypath:[symbol[1]||2,xPos,yPos,markerRadius,marker.startAngle,0],fill:toRaphaelColor(marker.fillColor),"stroke-width":marker.lineWidth,stroke:toRaphaelColor(marker.lineColor)},setRolloverAttr={polypath:[(setRolloverProperties=set.rolloverProperties).sides||2,xPos,yPos,setRolloverProperties.radius,setRolloverProperties.startAngle,setRolloverProperties.dip],fill:toRaphaelColor(setRolloverProperties.fillColor),"stroke-width":setRolloverProperties.lineWidth,stroke:toRaphaelColor(setRolloverProperties.lineColor)}),setElem=plotItem.graphic=paper.polypath(symbol[1]||2,xPos,yPos,markerRadius,marker.startAngle,0,anchorGroup).attr({fill:toRaphaelColor(marker.fillColor),"stroke-width":marker.lineWidth,stroke:toRaphaelColor(marker.lineColor),cursor:setLink?"pointer":"",visibility:markerRadius?seriesVisibility:"hidden"}).data("alwaysInvisible",!markerRadius).data("setRolloverProperties",setRolloverProperties).data("setRolloverAttr",setRolloverAttr).data("setRolloutAttr",setRolloutAttr).data("anchorRadius",markerRadius).data("anchorHoverRadius",setRolloverProperties&&setRolloverProperties.radius).shadow(anchorShadow||!1,anchorShadowGroup),(setLink||isTooltip||setRolloverProperties)&&(markerRadius=mathMax(markerRadius,setRolloverProperties&&setRolloverProperties.radius||0,trackerRadius),hotElem=plotItem.tracker=paper.circle({cx:xPos,cy:yPos,r:markerRadius,cursor:setLink?"pointer":"",stroke:TRACKER_FILL,"stroke-width":marker.lineWidth,fill:TRACKER_FILL,ishot:!0,visibility:seriesVisibility},trackerLayer)),(hotElem||setElem).data("eventArgs",eventArgs).data("groupId",groupId).click(clickFunc).hover(rolloverResponseSetter(plotItem),rolloutResponseSetter(plotItem)).tooltip(toolText)),isLine&&((void 0===lastYPos||null===lastYPos&&0===connectNullData)&&xPos&&yPos&&linePath.push(M,xPos,",",yPos),xPos&&yPos&&linePath.push(L,xPos,",",yPos),lastXPos=xPos,lastYPos=yPos),valEle=plotItem.dataLabel=chart.drawPlotLineLabel(plot,dataOptions,i,xPos,yPos)):(isLine&&0===connectNullData&&(lastXPos=lastYPos=null),plotItems[i]={chart:chart,index:i,x:x,y:y}),valEle&&datasetGraphics.push(valEle),setElem&&datasetGraphics.push(setElem),hotElem&&datasetGraphics.push(hotElem),chart.drawTracker&&chart.drawTracker.call(chart,plot,dataOptions,i);return linePath.length&&(connectorElem=plot.graphic=paper.path(linePath,lineGroup).attr({"stroke-dasharray":dashStyle,"stroke-width":lineWidth,stroke:lineColor,"stroke-linecap":"round","stroke-linejoin":lineWidth>2?"round":"miter",visibility:seriesVisibility}).shadow(seriesOptions.shadow&&set.shadow),lineGroup.attr({"clip-rect":elements[animationDuration?"clip-canvas-init":"clip-canvas"]}),animationDuration&&lineGroup.animate({"clip-rect":elements["clip-canvas"]},animationDuration,"normal"),datasetGraphics.push(connectorElem)),animationDuration&&(anchorAnimation=anchorGroup.attr({opacity:0}).animate({opacity:1},animationDuration,"normal",chart.getAnimationCompleteFn())),plot.visible=!1!==dataOptions.visible,plot},drawPlotLineLabel:function(plot,dataOptions,i,xPos,yPos,dataLabelsLayer){var chart=this,options=this.options,chartOptions=options.chart,seriesOptions=options.plotOptions.series,paper=this.paper,layers=this.layers,style=seriesOptions.dataLabels.style,rotateValues=1===chartOptions.rotateValues?270:0,canvasHeight=this.canvasHeight,canvasTop=this.canvasTop,plotItems=plot.items,data=plot.data,set=data[i],plotItem=plotItems[i],valuePosition=getValidValue(set.valuePosition,"auto").toLowerCase(),seriesType=this.logic.defaultSeriesType,graphic=plotItem.graphic,marker=set.marker,markerRadius=marker&&marker.enabled?graphic&&"image"==graphic.type&&.5*graphic.attr("height")||marker&&marker.radius-3:0,valuePadding=chartOptions.valuePadding+2+markerRadius,seriesVisibility=!1===dataOptions.visible?"hidden":"visible",valEle=plotItem.dataLabel,yAdjust,topSpace,bottomSpace,prevDataObj,nextDataObj,placeValuesInside,textHeight,origTextHeight,textY,bBoxObj,displayValue;switch(dataLabelsLayer=dataLabelsLayer||layers.datalabels,valuePosition){case"above":placeValuesInside=0;break;case"below":placeValuesInside=1;break;default:prevDataObj=data[i-1]||{},nextDataObj=data[i+1]||{},placeValuesInside=i?prevDataObj.y>set.y?1:(null==prevDataObj.y&&nextDataObj.y)>set.y?1:0:0}return displayValue=set.displayValue,defined(displayValue)&&displayValue!==BLANK?(valEle?rotateValues&&valEle.attr("transform",["r",360-rotateValues]):valEle=plotItem.dataLabel=paper.text(dataLabelsLayer).attr({class:"fusioncharts-label",text:displayValue,fill:style.color,"text-bound":[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash],"line-height":style.lineHeight}),valEle.attr({title:set.originalText||"",fill:style.color}),plotItem._state&&plotItem._state.labelWidth||(bBoxObj=valEle.getBBox(),plotItem._state={labelWidth:bBoxObj.width,labelHeight:bBoxObj.height}),textHeight=origTextHeight=rotateValues?plotItem._state.labelWidth:plotItem._state.labelHeight,textHeight+=valuePadding,topSpace=yPos-canvasTop,bottomSpace=canvasTop+canvasHeight-yPos,textY=yPos,textHeight+=4,yAdjust=.5*origTextHeight+valuePadding,/bubble/i.test(seriesType)||(placeValuesInside?bottomSpace>textHeight?(textY+=yAdjust,set._valueBelowPoint=1):topSpace>textHeight&&(textY-=yAdjust,set._valueBelowPoint=0):topSpace>textHeight?(textY-=yAdjust,set._valueBelowPoint=0):bottomSpace>textHeight&&(textY+=yAdjust,set._valueBelowPoint=1)),valEle.attr({x:xPos,y:textY,visibility:seriesVisibility}).data("isBelow",set._valueBelowPoint),rotateValues&&valEle.attr("transform","T0,0,R"+rotateValues)):valEle&&valEle.attr({text:BLANK}),valEle},drawLabels:function(){for(var chart=this,paper=this.paper,options=this.options,items=options.labels&&options.labels.items&&options.labels.items,ln=items&&items.length,aboveDataset=this.layers.layerAboveDataset,quadran=this.elements.quadran||(this.elements.quadran=[]),marginTop=this.canvasTop,marginLeft=this.canvasLeft,textAnchor={right:"end",left:"start",undefined:"start"},style,css,textEle,labelObj;ln--;)css={fontFamily:(style=(labelObj=items[ln]).style).fontFamily,fontSize:style.fontSize,lineHeight:style.lineHeight,fontWeight:style.fontWeight,fontStyle:style.fontStyle,fill:style.color},defined(labelObj.html)&&labelObj.html!==BLANK&&(textEle=quadran[ln]=paper.text(aboveDataset).attr({text:labelObj.html,x:pInt(style.left,10)+marginLeft,y:pInt(style.top,10)+marginTop,"text-anchor":textAnchor[labelObj.textAlign],"vertical-align":labelObj.vAlign}).css(css))}},renderer["renderer.root"]),renderer("renderer.piebase",{isHovered:!1,getPlotData:function(id,slicedState){var chart=this,dataset=this.datasets[0],data=dataset.data[id],userData=dataset.userData||(dataset.userData=[]),plotData,value,prop;if(userData[id])plotData=userData[id];else{for(prop in plotData=userData[id]={},data)"object"!=typeof(value=data[prop])&&"function"!=typeof value&&0!==prop.indexOf("_")&&(plotData[prop]=value);plotData.value=plotData.y,plotData.label=plotData.name,delete plotData.y,delete plotData.total,delete plotData.doNotSlice,delete plotData.name,delete plotData.centerAngle,delete plotData.showInLegend}return plotData.sliced=slicedState,plotData},redrawDataLabels:function(chart){var plot=chart.elements.plots[0];return chart.placeDataLabels(!0,plot.items,plot),{}},sliceInOtherPies:function(mainPieId){var chart=this,series=this.options.series[0],plotItems=series.plot.items,i=plotItems.length,numSliced=0,plot;for(series.enableMultiSlicing=!0;i--;)i!==mainPieId&&(plot=plotItems[i]).sliced&&++numSliced&&this.plotGraphicClick.call(plot);return series.enableMultiSlicing=!1,!!numSliced},plotGraphicClick:function(evt){var o=this.graphic||this,plotItem=o.plotItem||o.data("plotItem"),seriesData=plotItem.seriesData,chart=plotItem.chart,chartInstance=chart.logic.chartInstance,index=plotItem.index,chartSeriesData,enableMultiSlicing=chart.options.series[0].enableMultiSlicing,doNotSlice=seriesData.data[plotItem.index].doNotSlice,atleastOneOtherSliced,graphic,connector,dataLabel,sliced,slicedTranslation=plotItem.slicedTranslation,connectorPath,transX,transY,reflowData,reflowUpdate;if(!seriesData.isRotating&&plotEventHandler.call(o,chart,evt),!(seriesData.isRotating||seriesData.singletonCase||doNotSlice||(atleastOneOtherSliced=!enableMultiSlicing&&chart.sliceInOtherPies(index),(sliced=plotItem.sliced)&&atleastOneOtherSliced)))return graphic=plotItem.graphic,connector=plotItem.connector,dataLabel=plotItem.dataLabel,slicedTranslation="object"==typeof slicedTranslation?"t"+slicedTranslation:slicedTranslation,connectorPath=plotItem.connectorPath,transX=(sliced?-1:1)*plotItem.transX,transY=(sliced?-1:1)*plotItem.transY,global.raiseEvent("slicingStart",{slicedState:sliced,data:chart.getPlotData(index,sliced)},chartInstance),graphic.animate({transform:sliced?"t0,0":slicedTranslation},200,"easeIn",(function(){global.raiseEvent("slicingEnd",{slicedState:plotItem.sliced,data:chart.getPlotData(index,plotItem.sliced)},chartInstance)})),dataLabel&&dataLabel.x&&dataLabel.animate({x:dataLabel.x+(sliced?0:transX)},200,"easeIn"),connectorPath&&(connectorPath[1]+=transX,connectorPath[2]+=transY,connectorPath[4]+=transX,connectorPath[6]+=transX,connector.animate({path:connectorPath},200,"easeIn")),sliced=plotItem.sliced=!sliced,(reflowUpdate={hcJSON:{series:[]}}).hcJSON.series[0]={data:reflowData=[]},reflowData[index]={sliced:sliced},extend2(chartInstance.jsVars._reflowData,reflowUpdate,!0),sliced},plotDragStart:function(x,y,evt){var o,plotItem=this.data("plotItem"),chart=plotItem.chart,seriesData=plotItem.seriesData,datasets=chart.options.series,startingAng=-chart.datasets[0].startAngle*rad2deg,angle;datasets[0].enableRotation&&(angle=getClickArcTangent.call(evt,x,y,seriesData.pieCenter,seriesData.chartPosition),seriesData.dragStartAngle=angle,seriesData.startingAngleOnDragStart=startingAng)},plotDragEnd:function(){var o=this,plotItem=o.data("plotItem"),chart=plotItem.chart,seriesData=plotItem.seriesData,startingAng=-chart.datasets[0].startAngle*rad2deg,reflowUpdate={hcJSON:{series:[{startAngle:startingAng}]}};chart.disposed||(extend2(chart.logic.chartInstance.jsVars._reflowData,reflowUpdate,!0),chart.rotate(seriesData,chart.options.series[0])),seriesData.isRotating&&(setTimeout((function(){seriesData.isRotating=!1}),0),global.raiseEvent("RotationEnd",{startingAngle:normalizeAngle(startingAng,!0),changeInAngle:startingAng-seriesData.startingAngleOnDragStart},chart.logic.chartInstance)),!chart.isHovered&&chart.onPlotHover(o,!1)},plotDragMove:function(dx,dy,x,y,evt){var o,plotItem=this.data("plotItem"),chart=plotItem.chart,seriesData=plotItem.seriesData,datasets=chart.options.series,angle,currentTime;datasets[0].enableRotation&&!seriesData.singletonCase&&(seriesData.isRotating||(seriesData.isRotating=!0,global.raiseEvent("RotationStart",{startingAngle:normalizeAngle(seriesData.startingAngleOnDragStart,!0)},chart.logic.chartInstance)),angle=getClickArcTangent.call(evt,x,y,seriesData.pieCenter,seriesData.chartPosition),datasets[0].startAngle+=angle-seriesData.dragStartAngle,seriesData.dragStartAngle=angle,seriesData.moveDuration=0,currentTime=(new Date).getTime(),(!seriesData._lastTime||seriesData._lastTime+seriesData.timerThreshold<currentTime)&&(setTimeout((function(){chart.rotate(seriesData,datasets[0])}),0),seriesData._lastTime=currentTime))},plotMouseDown:function(){var o=this,plotItem,seriesData;(o.plotItem||o.data("plotItem")).seriesData.isRotating=!1},plotMouseUp:function(){var o=this,plotItem=o.plotItem||o.data("plotItem"),chart=plotItem.chart,seriesData=plotItem.seriesData;R.supportsTouch&&!seriesData.isRotating&&chart.plotGraphicClick.call(plotItem)},plotRollOver:function(e){var ele=this,plotItem=ele.plotItem||ele.data("plotItem"),chart=plotItem.chart,innerDiameter,centerLabelConfig,centerLabelText;plotItem.seriesData.isRotating||(plotEventHandler.call(ele,chart,e,ROLLOVER),chart.onPlotHover(ele,!0)),chart.isHovered=!0,(innerDiameter=plotItem.innerDiameter)&&(centerLabelConfig=plotItem.centerLabelConfig)&&(centerLabelText=centerLabelConfig.label)&&chart.drawDoughnutCenterLabel(centerLabelText,plotItem.center[0],plotItem.center[1],innerDiameter,innerDiameter,centerLabelConfig,!1)},plotRollOut:function(e){var ele=this,plotItem=ele.plotItem||ele.data("plotItem"),chart=plotItem.chart,seriesData=chart.options.series[0],enableMultiSlicing=!0,innerDiameter,centerLabelConfig,centerLabelText;plotItem.seriesData.isRotating||(plotEventHandler.call(ele,chart,e,ROLLOUT),chart.onPlotHover(ele,!1)),chart.isHovered=!1,(innerDiameter=plotItem.innerDiameter)&&(centerLabelConfig=seriesData.centerLabelConfig)&&((centerLabelText=centerLabelConfig.label)||!centerLabelText)&&chart.drawDoughnutCenterLabel(centerLabelText,plotItem.center[0],plotItem.center[1],innerDiameter,innerDiameter,centerLabelConfig,!1)},onPlotHover:function(plot,hover){var plotItem=plot.data("plotItem"),rolloverProps=plotItem.rolloverProperties,color=hover?rolloverProps.color:plotItem.color,borderWidth=hover?rolloverProps.borderWidth:plotItem.borderWidth,borderColor=hover?rolloverProps.borderColor:plotItem.borderColor;rolloverProps&&plotItem.graphic.attr({fill:toRaphaelColor(color),"stroke-width":borderWidth,stroke:borderColor})},getEventArgs:function(plot){return{datasetName:(plot=plot||{}).label,datasetIndex:plot.originalIndex,id:plot.userID,visible:!0,label:plot.label,value:plot.value,percentValue:plot.percentage,tooltext:plot.toolText,link:plot.link,sliced:plot.sliced}},legendClick:function(plot){var chart=plot.chart,plots;chart.elements.plots[0].isRotating=!1,chart.plotGraphicClick.call(plot)},placeDataLabels:(sortArrayByPoint=function(a,b){return a.point.value-b.point.value},sortArrayByAngle=function(a,b){return a.angle-b.angle},alignments=["start","start","end","end"],alignCenter="middle",ySign=[-1,1,1,-1],xSign=[1,1,-1,-1],function(isRotating,plotItems,plot,seriesData){var chart=this,plotOptions=this.options.plotOptions,piePlotOptions=plotOptions.pie,cx=this.canvasLeft+.5*this.canvasWidth,cy=this.canvasTop+.5*this.canvasHeight,smartLabel=this.smartLabel,dataLabelsOptions=plotOptions.series.dataLabels,style=dataLabelsOptions.style,lineHeight=pluckNumber(mathCeil(parseFloat(style.lineHeight)),12),placeInside=getFirstValue(dataLabelsOptions.placeLabelsInside,1===plotItems.length),skipOverlapLabels=dataLabelsOptions.skipOverlapLabels,manageLabelOverflow=dataLabelsOptions.manageLabelOverflow,connectorPadding=dataLabelsOptions.connectorPadding,distanceOption=dataLabelsOptions.distance,remainingHeight,seriesCenter=seriesData&&seriesData.metrics||[cx,cy,piePlotOptions.size,piePlotOptions.innerSize||0],centerY=seriesCenter[1],centerX=seriesCenter[0],radius=.5*seriesCenter[2],quarters=[[],[],[],[]],plotLeft=this.canvasLeft,plotTop=this.canvasTop,plotWidth=this.canvasWidth,dataLabelsRadius=plot.labelsRadius||(plot.labelsRadius=radius+distanceOption),labelFontSize=parseInt(style.fontSize,10),labelHeight=labelFontSize,halfLabelHeight=labelHeight/2,xDisplacement=[connectorPadding,connectorPadding,-connectorPadding,-connectorPadding],maxLabels=plot.labelsMaxInQuadrant||(plot.labelsMaxInQuadrant=mathFloor(dataLabelsRadius/labelHeight)),isSmartLineSlanted=dataLabelsOptions.isSmartLineSlanted,innerRadius=seriesCenter[3]/2,align,i,labelWidth,j,oriY,maxYmayHave,spaceRequired,length,k,sliced,x1,x2,x3,x4,y1,y2,y3,points,point,angle,connector,connectorPath,excess,excessArr,labelQuadrantHeight,maxQuadrantLabel,dataLabel,quarter,transX,transY,smartLabelObj,slicedTranslation,centerDistance;if(isRotating||smartLabel.setStyle(style),1==plotItems.length&&!innerRadius&&placeInside)point=plotItems[0],(dataLabel=point.dataLabel)&&dataLabel.show(),point.slicedTranslation=[plotLeft,plotTop],dataLabel&&(dataLabel.attr({visibility:VISIBLE,align:"middle",transform:["t",centerX,centerY+halfLabelHeight-2]}),dataLabel.x=centerX);else if(placeInside)centerDistance=innerRadius+(radius-innerRadius)/2,each(plotItems,(function(point){(dataLabel=point.dataLabel)&&dataLabel.show(),dataLabel&&(angle=point.angle,y3=centerY+centerDistance*mathSin(angle)+halfLabelHeight-2,x3=centerX+centerDistance*mathCos(angle),dataLabel.x=x3,dataLabel._x=x3,dataLabel.y=y3,point.sliced&&(slicedTranslation=point.slicedTranslation,transX=slicedTranslation[0]-plotLeft,transY=slicedTranslation[1]-plotTop,x3+=transX,y3+=transY),dataLabel.attr({visibility:VISIBLE,align:"middle",transform:["t",x3,y3]}))}));else{for(each(plotItems,(function(point){(dataLabel=point.dataLabel)&&dataLabel.show(),dataLabel&&((angle=point.angle%pi2)<0&&(angle=pi2+angle),quarters[quarter=angle>=0&&angle<piBy2?1:angle<pi?2:angle<pi3By2?3:0].push({point:point,angle:angle}))})),i=k=4;i--;){if(skipOverlapLabels&&(excess=quarters[i].length-maxLabels)>0)for(quarters[i].sort(sortArrayByPoint),j=0,length=(excessArr=quarters[i].splice(0,excess)).length;j<length;j+=1)(point=excessArr[j].point).dataLabel.attr({visibility:HIDDEN}),point.connector&&point.connector.attr({visibility:HIDDEN});quarters[i].sort(sortArrayByAngle)}for(maxQuadrantLabel=mathMax(quarters[0].length,quarters[1].length,quarters[2].length,quarters[3].length),labelQuadrantHeight=mathMax(mathMin(maxQuadrantLabel,maxLabels)*labelHeight,dataLabelsRadius+labelHeight),quarters[1].reverse(),quarters[3].reverse();k--;){for(length=(points=quarters[k]).length,skipOverlapLabels||(halfLabelHeight=(labelHeight=length>maxLabels?labelQuadrantHeight/length:labelFontSize)/2),spaceRequired=length*labelHeight,remainingHeight=labelQuadrantHeight,i=0;i<length;i+=1,spaceRequired-=labelHeight)remainingHeight<(oriY=mathAbs(labelQuadrantHeight*mathSin(points[i].angle)))?oriY=remainingHeight:oriY<spaceRequired&&(oriY=spaceRequired),remainingHeight=(points[i].oriY=oriY)-labelHeight;for(align=alignments[k],maxYmayHave=labelQuadrantHeight-(length-1)*labelHeight,remainingHeight=0,i=points.length-1;i>=0;i-=1,maxYmayHave+=labelHeight)point=points[i].point,angle=points[i].angle,sliced=point.sliced,dataLabel=point.dataLabel,(oriY=mathAbs(labelQuadrantHeight*mathSin(angle)))<remainingHeight?oriY=remainingHeight:oriY>maxYmayHave&&(oriY=maxYmayHave),remainingHeight=oriY+labelHeight,y1=(oriY+points[i].oriY)/2,x1=centerX+xSign[k]*dataLabelsRadius*mathCos(math.asin(y1/labelQuadrantHeight)),y1*=ySign[k],y1+=centerY,y2=centerY+radius*mathSin(angle),x2=centerX+radius*mathCos(angle),(k<2&&x1<x2||k>1&&x1>x2)&&(x1=x2),y3=y1-halfLabelHeight-2,x4=(x3=x1+xDisplacement[k])+xDisplacement[k],dataLabel.x=x4,dataLabel._x=x4,manageLabelOverflow&&(labelWidth=k>1?x4-this.canvasLeft:this.canvasLeft+plotWidth-x4,smartLabelObj=smartLabel.getSmartText(point.labelText,labelWidth,lineHeight),dataLabel.attr({text:smartLabelObj.text,title:smartLabelObj.tooltext||""})),dataLabel.y=y3,sliced&&(transX=point.transX,transY=point.transY,x3+=transX,x1+=transX,x2+=transX,y2+=transY,x4+=transX),dataLabel.attr({visibility:VISIBLE,"text-anchor":align,vAlign:"middle",x:x4,y:y1}),(connector=point.connector)&&(point.connectorPath=connectorPath=[M,x2,y2,L,isSmartLineSlanted?x1:x2,y1,x3,y1],connector.attr({path:connectorPath,visibility:VISIBLE}))}}})},renderer["renderer.root"])}]),FusionCharts.register("module",["private","modules.renderer.js-interface",function(){var global=this,STUB="stub",lib=global.hcLib,renderer=global.renderer.getRenderer("javascript"),hasModule=lib.hasModule,loadModule=lib.loadModule,getMetaSentence=lib.getMetaSentence,moduleCmdQueue=lib.moduleCmdQueue,executeWaitingCommands=lib.executeWaitingCommands,injectModuleDependency=lib.injectModuleDependency,moduleDependencies=lib.moduleDependencies,getDependentModuleName=lib.getDependentModuleName,probeLoadErrorMessage,showUnsupportedChartMessage;probeLoadErrorMessage=function(key){var item,vars,type,typeComposite,modules,terminalModule,affectedModules={},module;for(item in key=getMetaSentence(key),global.core.items)type=(item=global.core.items[item]).chartType(),typeComposite=item.options.chartTypeSourcePath+type,(vars=item.jsVars)&&vars.waitingModule&&item.__state.rendering&&lib.needsModule(key.predicate,typeComposite)&&(vars.waitingModuleError=!0,(modules=getDependentModuleName(typeComposite).concat(vars.userModules)).length&&(affectedModules[terminalModule=modules[modules.length-1]]=lib.moduleCmdQueue[terminalModule]));for(module in affectedModules)executeWaitingCommands(affectedModules[module]);global.raiseError(global.core,"11171116151","run","HC-interface~renderer.load","Unable to load required modules and resources: "+key.key)},showUnsupportedChartMessage=function(chartObj,container,callback){global.hcLib.createChart(chartObj,container,STUB,callback,chartObj.jsVars.msgStore.ChartNotSupported)},lib.eventList=global.extend(global.legacyEventList,{loaded:"FC_Loaded",dataloaded:"FC_DataLoaded",rendered:"FC_Rendered",drawcomplete:"FC_DrawComplete",dataxmlinvalid:"FC_DataXMLInvalid",nodatatodisplay:"FC_NoDataToDisplay",exported:"FC_Exported"}),lib.raiseEvent=global.raiseEventWithLegacy,moduleDependencies.charts=global.extend(moduleDependencies.charts||{},{column2d:0,column3d:0,bar2d:0,bar3d:0,pie2d:0,pie3d:0,line:0,area2d:0,doughnut2d:0,doughnut3d:0,pareto2d:0,pareto3d:0,mscolumn2d:0,mscolumn3d:0,msline:0,msarea:0,msbar2d:0,msbar3d:0,stackedcolumn2d:0,marimekko:0,stackedcolumn3d:0,stackedarea2d:0,stackedcolumn2dline:0,stackedcolumn3dline:0,stackedbar2d:0,stackedbar3d:0,msstackedcolumn2d:0,mscombi2d:0,mscombi3d:0,mscolumnline3d:0,mscombidy2d:0,mscolumn3dlinedy:0,stackedcolumn3dlinedy:0,msstackedcolumn2dlinedy:0,scatter:0,bubble:0,ssgrid:0,scrollcolumn2d:0,scrollcolumn3d:0,scrollline2d:0,scrollarea2d:0,scrollstackedcolumn2d:0,scrollcombi2d:0,scrollcombidy2d:0,zoomline:0}),moduleDependencies.powercharts=global.extend(moduleDependencies.powercharts||{},{spline:0,splinearea:0,msspline:0,mssplinearea:0,mssplinedy:0,multiaxisline:0,multilevelpie:0,waterfall2d:0,msstepline:0,inversemsline:0,inversemscolumn2d:0,inversemsarea:0,errorbar2d:0,errorscatter:0,errorline:0,logmsline:0,logmscolumn2d:0,logstackedcolumn2d:0,radar:0,dragnode:0,candlestick:0,selectscatter:0,dragcolumn2d:0,dragline:0,dragarea:0,boxandwhisker2d:0,kagi:0,heatmap:0}),moduleDependencies.widgets=global.extend(moduleDependencies.widgets||{},{angulargauge:0,bulb:0,cylinder:0,drawingpad:0,funnel:0,hbullet:0,hled:0,hlineargauge:0,vlineargauge:0,pyramid:0,realtimearea:0,realtimecolumn:0,realtimeline:0,realtimelinedy:0,realtimestackedarea:0,realtimestackedcolumn:0,sparkcolumn:0,sparkline:0,sparkwinloss:0,thermometer:0,vbullet:0,gantt:0,vled:0}),moduleDependencies.maps=global.extend(moduleDependencies.maps||{},{}),global.extend(renderer,{render:function(container,callback){var chartObj=this,chartType=chartObj.chartType(),typeComposite=chartObj.options.chartTypeSourcePath+chartType,vars=chartObj.jsVars,state=chartObj.__state,chartAPI=lib.chartAPI,objModuleNames,cmdQueue,eiMethod;if(objModuleNames=getDependentModuleName(typeComposite).concat(vars.userModules),vars.isResizing&&(vars.isResizing=clearTimeout(vars.isResizing)),vars.hcObj&&vars.hcObj.destroy&&vars.hcObj.destroy(),!chartAPI[chartType]){if(chartType&&hasModule(objModuleNames)){if(vars.drLoadAttempted)return global.raiseError(chartObj,11112822001,"run","HC-interface~renderer.render","Chart runtimes not loaded even when resource is present"),void showUnsupportedChartMessage(chartObj,container,callback);injectModuleDependency(typeComposite)&&(objModuleNames=getDependentModuleName(typeComposite).concat(vars.userModules)),vars.drLoadAttempted=!0}else{if(!objModuleNames.length)return void showUnsupportedChartMessage(chartObj,container,callback);if(vars.waitingModuleError)return showUnsupportedChartMessage(chartObj,container,callback),delete vars.waitingModule,void delete vars.waitingModuleError}return(cmdQueue=moduleCmdQueue[objModuleNames[objModuleNames.length-1]])?(cmdQueue.push({cmd:"render",obj:chartObj,args:arguments}),void(vars.waitingModule||(global.hcLib.createChart(chartObj,container,STUB,void 0,vars.msgStore.PBarLoadingText||vars.msgStore.LoadingText),renderer.load.call(chartObj,container,callback)))):(global.raiseError(chartObj,12080515551,"run","HC-interface~renderer.render","Unregistered module in dependentModule definition."),void global.hcLib.createChart(chartObj,container,STUB,void 0,vars.msgStore.RenderChartErrorText))}if(chartAPI[state.lastRenderedType]&&state.lastRenderedType!==chartType)for(eiMethod in global.raiseEvent("chartTypeChanged",{previousType:state.lastRenderedType,newType:chartType},chartObj),chartAPI[state.lastRenderedType].eiMethods)delete chartObj[eiMethod];state.lastRenderedType=chartType,state.lastRenderedSrc=chartObj.src,!vars.waitingModuleError&&lib.raiseEvent("internal.loaded",{type:chartType,triggeredModuleLoad:vars.drLoadAttempted||vars.waitingModule},chartObj,[chartObj.id]),delete vars.waitingModule,delete vars.waitingModuleError,delete vars.drLoadAttempted,global.hcLib.createChart(chartObj,container,chartType,callback)},update:function(param){var chartObj=this,chart=this.ref,vars=this.jsVars;vars.hcObj&&vars.hcObj.destroy&&vars.hcObj.destroy(),vars.isResizing&&(vars.isResizing=clearTimeout(vars.isResizing)),void 0===param.error?(delete vars.stallLoad,delete vars.loadError,this.isActive()?this.src!==this.__state.lastRenderedSrc?this.render():global.hcLib.createChart(this,vars.container):this.__state.rendering&&!vars.waitingModule&&global.hcLib.createChart(this,vars.container)):(this.isActive()&&"function"==typeof chart.showChartMessage&&chart.showChartMessage("InvalidXMLText"),delete vars.loadError)},resize:function(size){var container=this.ref,cssSize,vars=this.jsVars;container&&container.resize&&(vars.isResizing&&(vars.isResizing=clearTimeout(vars.isResizing)),vars.isResizing=setTimeout((function(){cssSize=global.normalizeCSSDimension(size.width,size.height,container),void 0!==size.width&&(container.style.width=cssSize.width),void 0!==size.height&&(container.style.height=cssSize.height),container.resize(),delete vars.isResizing}),0))},dispose:function(){var container,vars=this.jsVars;vars.isResizing&&(vars.isResizing=clearTimeout(vars.isResizing)),vars.instanceAPI&&vars.instanceAPI.dispose&&(vars.instanceAPI.dispose(),delete vars.instanceAPI),(container=this.ref)&&(global.purgeDOM(container),container.parentNode&&container.parentNode.removeChild(container)),lib.cleanupWaitingCommands(this)},load:function(_container,_callback){var chart=this,vars=this.jsVars,type=this.chartType(),api=global.hcLib.chartAPI[type],modules=getDependentModuleName(type).concat(vars.userModules),terminalModule=modules[modules.length-1];if(api||!modules||modules&&0===modules.length)return delete vars.waitingModule,void(_container&&showUnsupportedChartMessage(this,_container||this.ref,_callback));vars.waitingModule||(vars.waitingModule=!0,delete vars.waitingModuleError,loadModule(modules,(function(){delete vars.waitingModule,executeWaitingCommands(lib.moduleCmdQueue[terminalModule])}),probeLoadErrorMessage,this))}})}]),FusionCharts.register("module",["private","modules.api.dynamicchartattributes",function(){var global=this;global.extend(global.core,{setChartAttribute:function(attributes,value){var json,prop,attList,temp,i;if("string"==typeof attributes)(attributes={})[temp=arguments[0]]=value;else if(null===attributes||"object"!=typeof attributes)return;if(i=0,attList=(json=this.getChartData(global.dataFormats.JSON))&&(json.chart||json.graph||json.map)){for(prop in attributes)i+=1,null!==attributes[prop]?attList[prop.toLowerCase()]=attributes[prop]:delete attList[prop.toLowerCase()];i>0&&(void 0===attList.animation&&(attList.animation="0"),this.setChartData(json,global.dataFormats.JSON))}else global.raiseError(this,"2105141421","param","#setChartAttribute()","Could not retrieve attribute list. Is data ready?")},getChartAttribute:function(attribute){var json=this.getChartData(global.dataFormats.JSON),attList=json&&(json.chart||json.graph||json.map),value,i;if(0===arguments.length||void 0===attribute||void 0===attList)return attList;if("string"==typeof attribute)value=attList[attribute.toString().toLowerCase()];else if(attribute instanceof Array)for(value={},i=0;i<attribute.length;i+=1)value[attribute[i]]=attList[attribute[i].toString().toLowerCase()];else global.raiseError(this,"25081429","param","~getChartAttribute()",'Unexpected value of "attribute"');return value}},!0)}]),FusionCharts.register("module",["private","api.linkmanager",function(){var global=this,FusionChartsDOMInsertModes=global.FusionChartsDOMInsertModes,store={},LinkInformation=function(root,parent){this.items={},this.root=root,this.parent=parent,parent instanceof global.core?this.level=this.parent.link.level+1:(store[root.id]=[{}],this.level=0)},checkObjectRenderLocationOverride=function(obj,parent){return(obj.options.containerElement===parent.options.containerElement||obj.options.containerElementId===parent.options.containerElementId)&&obj.options.insertMode===FusionChartsDOMInsertModes.REPLACE};global.policies.link=["link",void 0],LinkInformation.prototype.configuration=function(){var param;return store[this.root.id][this.level]||(store[this.root.id][this.level]={})},global.extend(global.core,{configureLink:function(param,level){var i;if(param instanceof Array){for(i=0;i<param.length;i+=1)"object"!=typeof store[this.link.root.id][i]&&(store[this.link.root.id][i]={}),global.extend(store[this.link.root.id][i],param[i]);store[this.link.root.id].splice(param.length)}else"object"==typeof param?("number"!=typeof level&&(level=this.link.level),void 0===store[this.link.root.id][level]&&(store[this.link.root.id][level]={}),global.extend(store[this.link.root.id][level],param)):global.raiseError(this,"25081731","param","~configureLink()","Unable to update link configuration from set parameters")}},!0),global.addEventListener("beforeInitialize",(function(event){event.sender.link instanceof LinkInformation?event.sender.link.parent instanceof global.core&&(event.sender.link.parent.link.items[event.sender.id]=event.sender):event.sender.link=new LinkInformation(event.sender)})),global.addEventListener("linkedChartInvoked",(function(event,args){var obj=event.sender,param=obj.clone({dataSource:args.data,dataFormat:args.linkType,link:new LinkInformation(obj.link.root,obj)},!0),alias=args.alias,childObj;alias&&(!param.typeSource&&param.swfUrl&&(param.typeSource=param.swfUrl.replace(/(.*?)?[^\/]*\.swf.*?/gi,"$1")),param.type=alias),obj.args&&0!==parseInt(obj.args.animate,10)&&delete param.animate,global.extend(param,obj.link.configuration()),global.raiseEvent("beforeLinkedItemOpen",{level:obj.link.level},obj.link.root,void 0,(function(){global.core.items[param.id]instanceof global.core&&global.core.items[param.id].dispose(),childObj=new global.core(param),checkObjectRenderLocationOverride(childObj,obj)||obj.options.overlayButton&&obj.options.overlayButton.message||("object"!=typeof obj.options.overlayButton&&(obj.options.overlayButton={}),obj.options.overlayButton.message="Close"),childObj.render(),global.raiseEvent("linkedItemOpened",{level:obj.link.level,item:childObj},obj.link.root)}))})),global.addEventListener("overlayButtonClick",(function(event,args){if("LinkManager"===args.id){var sender=event.sender,level=sender.link.level-1,parent=sender.link.parent,root=sender.link.root;global.raiseEvent("beforeLinkedItemClose",{level:level,item:sender},root,sender,(function(){setTimeout((function(){global.core.items[sender.id]&&sender.dispose(),global.raiseEvent("linkedItemClosed",{level:level},root)}),0),parent.disposed||parent.isActive()||!checkObjectRenderLocationOverride(sender,parent)||parent.render()}))}})),global.addEventListener("Loaded",(function(event){var obj=event.sender,config;obj&&void 0!==obj.link&&obj.link.root!==obj&&obj.link.parent instanceof global.core&&(obj.ref&&"function"==typeof obj.ref.drawOverlayButton?(config=global.extend({show:!0,id:"LinkManager"},obj.link.parent.options.overlayButton),global.extend(config,obj.link.parent.link.configuration().overlayButton||{}),obj.ref.drawOverlayButton(config)):global.raiseWarning(obj,"04091602","run","::LinkManager^Loaded","Unable to draw overlay button on object. -"+obj.id))})),global.addEventListener("beforeDispose",(function(e){var obj=e.sender;obj&&obj.link instanceof LinkInformation&&(obj&&obj.link&&obj.link.parent instanceof global.core&&obj.link.parent.link&&obj.link.parent.link.items&&delete obj.link.parent.link.items[e.sender.id],delete store[obj.id])}))}]),FusionCharts.register("module",["private","modules.renderer.js-thememanager",function(){var global=this,BLANK="",OBJECTSTRING="object",arrayToStr="[object Array]",objectToStr="[object Object]",ThemeManager,ThemeInstance,themer,isImportantRegEx=/\s+!important$/,importantStrRegEx=/\\!important$/,trimString=function(str){for(var ws=/\s/,i=(str=str.replace(/^\s\s*/,"")).length;ws.test(str.charAt(i-=1)););return str.slice(0,i+1)},checkCyclicRef=function(obj,parentArr){for(var i=parentArr.length,bIndex=-1;i--;)if(obj===parentArr[i])return bIndex=i;return bIndex},merge=function(obj1,obj2,skipUndef,tgtArr,srcArr){var item,srcVal,tgtVal,str,cRef;if(srcArr?(tgtArr.push(obj1),srcArr.push(obj2)):(tgtArr=[obj1],srcArr=[obj2]),obj2 instanceof Array)for(item=0;item<obj2.length;item+=1){try{srcVal=obj1[item],tgtVal=obj2[item]}catch(e){continue}"object"!=typeof tgtVal?skipUndef&&void 0===tgtVal||(obj1[item]=tgtVal):(null!==srcVal&&"object"==typeof srcVal||(srcVal=obj1[item]=tgtVal instanceof Array?[]:{}),-1!==(cRef=checkCyclicRef(tgtVal,srcArr))?srcVal=obj1[item]=tgtArr[cRef]:merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr))}else for(item in obj2){try{srcVal=obj1[item],tgtVal=obj2[item]}catch(e){continue}null!==tgtVal&&"object"==typeof tgtVal?(str=Object.prototype.toString.call(tgtVal))===objectToStr?(null!==srcVal&&"object"==typeof srcVal||(srcVal=obj1[item]={}),-1!==(cRef=checkCyclicRef(tgtVal,srcArr))?srcVal=obj1[item]=tgtArr[cRef]:merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr)):str===arrayToStr?(null!==srcVal&&srcVal instanceof Array||(srcVal=obj1[item]=[]),-1!==(cRef=checkCyclicRef(tgtVal,srcArr))?srcVal=obj1[item]=tgtArr[cRef]:merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr)):obj1[item]=tgtVal:obj1[item]=tgtVal}return obj1},extend2=function(obj1,obj2,skipUndef){return"object"!=typeof obj1&&"object"!=typeof obj2?null:"object"!=typeof obj2||null===obj2?obj1:("object"!=typeof obj1&&(obj1=obj2 instanceof Array?[]:{}),merge(obj1,obj2,skipUndef),obj1)},checkImportance=function(value){var returnObj={important:!1,str:""};return value?(value=value.toString(),isImportantRegEx.test(value)?(value=value.replace(isImportantRegEx,""),returnObj.important=!0):(value=value.replace(importantStrRegEx,"!imporant"),returnObj.important=!1),returnObj.str=value,returnObj):returnObj},recursiveApply=function(dataObj,themeObject){var key,dataItem,themeComponent,item,i,ii,vLineIndex=0,catIndex=0;for(key in dataObj)if((dataItem=dataObj[key])instanceof Array)for(ii=dataItem.length,i=0;i<ii;i+=1)"object"==typeof(item=dataItem[i])&&("category"===key?"true"===item.vline?(themeComponent=themeObject.component("vline",vLineIndex,item))&&(mergeThemeWithData(item,themeComponent),vLineIndex+=1):(themeComponent=themeObject.component("category",catIndex,item,ii))&&(mergeThemeWithData(item,themeComponent),catIndex+=1):(themeComponent=themeObject.component(key,i,item,ii))&&(mergeThemeWithData(item,themeComponent),recursiveApply(item,themeComponent)));else"object"==typeof dataItem&&(themeComponent=themeObject.component(key,null,dataItem))&&(mergeThemeWithData(dataItem,themeComponent),recursiveApply(dataItem,themeComponent))},mergeThemeWithData=function(dataJSON,themeComponent){var items=themeComponent.getAll(),key,valStr,imp;for(key in items)valStr=items[key].toString(),(imp=checkImportance(valStr)).important?dataJSON[key.toLowerCase()]=imp.str:void 0===dataJSON[key.toLowerCase()]&&(dataJSON[key.toLowerCase()]=imp.str)},onDrawStart=function(event,args){"geo"===args.defaultSeriesType&&onChartTypeChange.call(this,event,args)},onChartTypeChange=function(eventObj,args){var chartObj=eventObj.sender,dataObj=chartObj.getChartData(global.dataFormats.JSON,!0),chartTheme;dataObj.error||((chartTheme=dataObj.data.chart.theme)?themer.themify(chartTheme,chartObj,chartObj.chartType(),dataObj.data,"geo"===args.defaultSeriesType&&"geo"):chartObj.jsVars.themeObject&&chartObj.jsVars.themeObject.dispose())};(ThemeManager=function(){this.themeStore={}}).prototype={constructor:ThemeManager,add:function(themeJSON){for(var tm=this,i=0,ii=themeJSON.length,themeName;i<ii;i+=1)(themeName=themeJSON[i].name)&&(tm.themeStore[themeName]=themeJSON[i])},themify:function(themeName,chartInstance,chartType,chartDefinition,additionalBase){var tm=this,jsVars=chartInstance.jsVars,themes=themeName.split(","),themeArr=[],ii=themes.length,themeJSON,i;if(ii){for(i=0;i<ii;i+=1)(themeJSON=tm.themeStore[trimString(themes[i])])&&themeArr.push(tm.evaluateThemeJSON(themeJSON.theme,chartInstance,chartType,additionalBase));themeArr.length?(jsVars.themeObject=new ThemeInstance(themeArr,chartInstance,!1,chartDefinition),tm.applyTheme(chartInstance),chartInstance.addEventListener("chartTypeChanged",onChartTypeChange),chartInstance.addEventListener("internal.drawstart",onDrawStart)):global.raiseWarning(chartInstance,"14051100501","run","api.themes~themify()",'The theme "'+themeName+'" requested has not been registered.')}},evaluateThemeJSON:function(themeObject,chartInstance,chartType,additionalBase){var evaledTheme={},jsVars=chartInstance.jsVars,evaluator=function(tblock){var key,item;for(key in tblock)item=tblock[key],evaledTheme[key]=item instanceof Array?extend2(evaledTheme[key]||[],item):"object"==typeof item?extend2(evaledTheme[key]||{},item):item};return chartType=chartType||chartInstance.chartType(),jsVars.themeObject&&themeObject!==jsVars.themeObject&&(jsVars.themeObject.dispose(),delete jsVars.themeObject),evaluator(themeObject.base),additionalBase&&themeObject[additionalBase]&&evaluator(themeObject[additionalBase]),chartType&&themeObject[chartType]&&evaluator(themeObject[chartType]),evaledTheme},applyTheme:function(chartInstance){var themeObj=chartInstance.jsVars.themeObject,themedData=themeObj.getThemedJSONData().data;themedData&&recursiveApply(themedData,themeObj)}},(ThemeInstance=function(themeJSONArr,parent,isChildInstance,chartDefinition){this.themeArray=themeJSONArr,this.themeComponents={},this.base={},this.chartInstance=parent,this.isChildInstance=Boolean(isChildInstance),this.themedData=isChildInstance?null:extend2({},chartDefinition),this.length=themeJSONArr.length;for(var i=0,ii=themeJSONArr.length;i<ii;i+=1)this.parse(themeJSONArr[i])}).prototype={constructor:ThemeInstance,pushTheme:function(themeJSON){themeJSON&&(this.themeArray.push(themeJSON),this.parse(themeJSON),this.length+=1)},popTheme:function(){},parse:function(themeJSON){var ti=this,components=ti.themeComponents,parent=ti.chartInstance,base=ti.base,componentArr,key,imp1,imp2,block;for(key in block=themeJSON)"string"==typeof block[key]||"number"==typeof block[key]?base[key]?(imp1=checkImportance(block[key]),imp2=checkImportance(base[key]),!imp1.important&&imp2.important||(base[key]=block[key])):base[key]=block[key]:(components[key]||(components[key]=[]),componentArr=components[key],block[key]instanceof Array?componentArr.push(extend2([],block[key])):"object"==typeof block[key]?componentArr.push(new ThemeInstance([block[key]],parent,!0)):"function"==typeof block[key]&&componentArr.push(block[key]))},merge:function(instance){var ti=this,thisBase=ti.base,thatBase=instance.base,thisComponents=ti.themeComponents,thatComponents=instance.themeComponents,imp1,imp2,key;for(key in thatBase)imp1=checkImportance(thisBase[key]),imp2=checkImportance(thatBase[key]),imp1.important&&!imp2.important||(thisBase[key]=thatBase[key]);for(key in thatComponents)thisComponents[key]?thisComponents[key]=thisComponents[key].concat(thatComponents[key]):thisComponents[key]=[].concat(thatComponents[key]);ti.length+=instance.length},get:function(key){return this.base[key]},getAll:function(){return extend2({},this.base)},component:function(key,index,dataJSON,length){var ti=this,components=ti.themeComponents,parent=ti.chartInstance,returnInstance=new ThemeInstance([],parent,!0),item,i,ii,len,componentArr,each;if(!(componentArr=components[key]))return null;for(i=0,ii=componentArr.length;i<ii;i+=1)"function"==typeof(each=componentArr[i])?(index=index||0,returnInstance.pushTheme(each.call(parent,index,dataJSON,length))):each instanceof Array?(index=index||0,(item=each[index%=len=each.length])instanceof ThemeInstance?returnInstance.merge(item):"function"==typeof item?returnInstance.pushTheme(item.call(parent,index,dataJSON,length)):returnInstance.pushTheme(item)):each instanceof ThemeInstance?returnInstance.merge(each):returnInstance.pushTheme(each);return returnInstance},getThemedJSONData:function(){return{data:this.themedData}},dispose:function(){var ti=this,components=ti.themeComponents,chartObj=ti.chartInstance,key,i;for(key in components)if(i=components[key].length){for(;i--;)components[key][i].dispose&&components[key][i].dispose();delete components[key]}ti.isChildInstance||(chartObj.removeEventListener("chartTypeChanged",onChartTypeChange),chartObj.removeEventListener("internal.drawstart",onDrawStart)),ti.themeComponents=null,ti.chartInstance=null,ti.base=null,ti.themeArray=null,ti.isChildInstance=null,ti.dataWithoutTheme=null}},themer=new ThemeManager,global.registrars.theme=global.registerTheme=function(themeDefinition){themeDefinition&&(Object.prototype.toString.call(themeDefinition)!==arrayToStr&&(themeDefinition=[themeDefinition]),themer.add(themeDefinition))},global.addEventListener("beforeDataUpdate",(function(eventObj,args){var chartObj=eventObj.sender,dataObj=global.core.transcodeData(args.data,args.format,global.dataFormats.JSON),themeName=dataObj.chart&&dataObj.chart.theme;themeName?themer.themify(themeName,chartObj,chartObj.args.type,dataObj):chartObj.jsVars.themeObject&&(chartObj.jsVars.themeObject.dispose(),delete chartObj.jsVars.themeObject)}))}]),
/**!
 * @license FusionCharts JavaScript Library
 * Copyright FusionCharts Technologies LLP
 * License Information at <http://www.fusioncharts.com/license>
 */
FusionCharts.register("theme",{name:"default",theme:{base:{chart:{labelDisplay:"stagger !important",caption:"Theme Caption \\!important",canvasBgColor:"#56EF22",borderThickness:"5 !important",borderColor:"#E60539",baseFontColor:"#781129"},categories:[{fontColor:"#0F4F40",fontSize:15,category:function(index){return{showLabel:index%2?0:1}},vline:{color:"#000000",thickness:2}}],dataset:[{color:"#8C3146",data:function(index,dataObj){return 8==index&&(dataObj.value=""),{color:Number(dataObj.value)<32e3?"#8C3146":"#FF0000",alpha:"100"}}}],trendlines:[{line:function(index){return index?{color:"#ff0000",thickness:3}:{color:"#ffff00",thickness:3}}}]},pie2d:{chart:{bgColor:"#FF0000"}},msline:{chart:{canvasBgColor:"#ff0000"}},geo:{chart:{canvasBgColor:"#0000ff"}},world:{chart:{canvasBgColor:"#00ff00"}}}});
/**!
 * @license FusionCharts JavaScript Library
 * Copyright FusionCharts Technologies LLP
 * License Information at <http://www.fusioncharts.com/license>
 *
 * @version 3.4.0
 *
 * @attributions (infers respective third-party copyrights)
 * Raphael 2.1.0 (modified as 'Red Raphael') <http://raphaeljs.com/license.html>
 * JSON v2 <http://www.JSON.org/js.html>
 * Firebug Lite 1.3.0 <http://getfirebug.com/firebuglite>
 */